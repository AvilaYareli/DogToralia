{"ast":null,"code":"import \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.replace.js\";\nexport default {\n  components: {},\n  methods: {\n    logout: function logout() {\n      this.$router.replace('/');\n      localStorage.removeItem('token');\n    },\n    cerrarSesion: function cerrarSesion() {\n      var _this = this;\n      console.log(\"PRUEBA DE ENTRADA \");\n      var myHeaders = new Headers();\n      var tokenBearer = \"Bearer \" + localStorage.getItem(\"token\");\n      // console.log(\"tokenBearer\",  tokenBearer.toString()  );\n      myHeaders.append(\"Authorization\", tokenBearer.toString());\n      // myHeaders.append(\"Authorization\", tokenBeare );\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        redirect: 'follow'\n      };\n      fetch(\"https://devs-devitm.com/api/pet_owner/logout\", requestOptions).then(function (response) {\n        return response.text();\n      }).then(function (result) {\n        console.log(\"result:\", result);\n        var resultado = JSON.parse(result);\n        if (resultado.status == \"success\") {\n          console.log(\"status\", resultado.status);\n          localStorage.removeItem('token');\n          // this.$router.replace('/');\n          localStorage.removeItem('userType');\n          // this.$router.push('/');\n          if (window.location.href.indexOf(\"/petedit\") > 0) {\n            _this.$router.push({\n              path: '/'\n            });\n          }\n          // this.$router.push({path:'/'});\n          //window.location.reload(); \n\n          // this.$router.push({path:'/auth/login'});\n\n          _this.$router.push({\n            path: '/'\n          });\n\n          // this.$router.push('/auth/login'); ..\n          // this.$router.replace('/auth/login');\n\n          //   this.$nextTick(() => {\n          //     location.reload(); //  actualizar el header\n          // });´\n        } else {\n          _this.$router.push('/auth/login');\n          // this.$router.replace('/auth/login');\n          // console.log('/auth/login');\n          // this.$router.push('/');\n        }\n      })[\"catch\"](function (error) {\n        return console.log('error', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["components","methods","logout","$router","replace","localStorage","removeItem","cerrarSesion","_this","console","log","myHeaders","Headers","tokenBearer","getItem","append","toString","requestOptions","method","headers","redirect","fetch","then","response","text","result","resultado","JSON","parse","status","window","location","href","indexOf","push","path","error"],"sources":["C:\\YARELI\\New\\VUE\\DogToralia\\src\\layout\\header\\profileView.vue"],"sourcesContent":["<template>\r\n    <div class=\"account-user\"><vue-feather type=\"user\"></vue-feather></div>\r\n               <ul class=\"profile-dropdown onhover-show-div\">\r\n                 <li><router-link to=\"/petedit\"><vue-feather type=\"settings\"></vue-feather><span>Mi perfil</span></router-link></li>\r\n                 <li><a @click=\"cerrarSesion\" > <vue-feather type=\"log-in\"></vue-feather><span>Cerrar Sesion</span></a> </li>\r\n                 \r\n               </ul>\r\n</template>\r\n<script> \r\n\r\nexport default {\r\n   components:{\r\n      \r\n   },\r\n    methods: {\r\n      logout: function() {\r\n        \r\n        this.$router.replace('/');\r\n        localStorage.removeItem('token');\r\n  },\r\n     cerrarSesion(){\r\n      console.log(\"PRUEBA DE ENTRADA \");\r\n              var myHeaders = new Headers();\r\n               let tokenBearer = \"Bearer \"+ localStorage.getItem(\"token\");\r\n                // console.log(\"tokenBearer\",  tokenBearer.toString()  );\r\n              myHeaders.append(\"Authorization\", tokenBearer.toString() );\r\n              // myHeaders.append(\"Authorization\", tokenBeare );\r\n              var requestOptions = {\r\n                method: 'POST',\r\n                headers: myHeaders,\r\n                redirect: 'follow'\r\n              };\r\n\r\n              fetch(\"https://devs-devitm.com/api/pet_owner/logout\", requestOptions)\r\n              .then(response => response.text())\r\n              .then(result => {\r\n                    console.log(\"result:\", result );\r\n                    let resultado = JSON.parse(result); \r\n                    if(resultado.status==\"success\"){\r\n                      console.log(\"status\",resultado.status);\r\n                      localStorage.removeItem('token');\r\n                      // this.$router.replace('/');\r\n                      localStorage.removeItem('userType');\r\n                      // this.$router.push('/');\r\n                      if(window.location.href.indexOf(\"/petedit\")>0){\r\n                              this.$router.push({path:'/'});\r\n                      }\r\n                      // this.$router.push({path:'/'});\r\n                      //window.location.reload(); \r\n\r\n                      // this.$router.push({path:'/auth/login'});\r\n\r\n                      this.$router.push({path:'/'});\r\n\r\n\r\n                      // this.$router.push('/auth/login'); ..\r\n                      // this.$router.replace('/auth/login');\r\n                    \r\n                    //   this.$nextTick(() => {\r\n                    //     location.reload(); //  actualizar el header\r\n                    // });´\r\n                    \r\n                    }\r\n                    else{\r\n                      this.$router.push('/auth/login');\r\n                      // this.$router.replace('/auth/login');\r\n                      // console.log('/auth/login');\r\n                      // this.$router.push('/');\r\n                    }\r\n                  })\r\n             .catch(error => console.log('error', error))\r\n\r\n              },\r\n     \r\n   },\r\n}\r\n</script>\r\n<style scoped>\r\n    /* Estilos para los botones de texto */\r\n    .nav-menus button {\r\n        background: none;\r\n        border: none;\r\n        cursor: pointer;\r\n        color: #333; /* Color por defecto */\r\n        padding: 5px 10px;\r\n        /* text-decoration: underline; Subrayado por defecto */\r\n    }\r\n\r\n    .nav-menus button.active {\r\n        color: blue; /* Color cuando está seleccionado */\r\n        text-decoration: none; /* Sin subrayado cuando está seleccionado */\r\n    }\r\n</style>\r\n"],"mappings":";;;;;;;;;AAUA,eAAe;EACZA,UAAU,EAAC,CAEX,CAAC;EACAC,OAAO,EAAE;IACPC,MAAM,EAAE,SAAAA,OAAA,EAAW;MAEjB,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC,GAAG,CAAC;MACzBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IACtC,CAAC;IACEC,YAAY,WAAAA,aAAA,EAAE;MAAA,IAAAC,KAAA;MACbC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;MACzB,IAAIC,SAAQ,GAAI,IAAIC,OAAO,CAAC,CAAC;MAC5B,IAAIC,WAAU,GAAI,SAAS,GAAER,YAAY,CAACS,OAAO,CAAC,OAAO,CAAC;MACzD;MACFH,SAAS,CAACI,MAAM,CAAC,eAAe,EAAEF,WAAW,CAACG,QAAQ,CAAC,CAAE,CAAC;MAC1D;MACA,IAAIC,cAAa,GAAI;QACnBC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAER,SAAS;QAClBS,QAAQ,EAAE;MACZ,CAAC;MAEDC,KAAK,CAAC,8CAA8C,EAAEJ,cAAc,EACnEK,IAAI,CAAC,UAAAC,QAAO;QAAA,OAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,GAChCF,IAAI,CAAC,UAAAG,MAAK,EAAK;QACVhB,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEe,MAAO,CAAC;QAC/B,IAAIC,SAAQ,GAAIC,IAAI,CAACC,KAAK,CAACH,MAAM,CAAC;QAClC,IAAGC,SAAS,CAACG,MAAM,IAAE,SAAS,EAAC;UAC7BpB,OAAO,CAACC,GAAG,CAAC,QAAQ,EAACgB,SAAS,CAACG,MAAM,CAAC;UACtCxB,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;UAChC;UACAD,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;UACnC;UACA,IAAGwB,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,OAAO,CAAC,UAAU,CAAC,GAAC,CAAC,EAAC;YACtCzB,KAAI,CAACL,OAAO,CAAC+B,IAAI,CAAC;cAACC,IAAI,EAAC;YAAG,CAAC,CAAC;UACrC;UACA;UACA;;UAEA;;UAEA3B,KAAI,CAACL,OAAO,CAAC+B,IAAI,CAAC;YAACC,IAAI,EAAC;UAAG,CAAC,CAAC;;UAG7B;UACA;;UAEF;UACA;UACA;QAEA,OACI;UACF3B,KAAI,CAACL,OAAO,CAAC+B,IAAI,CAAC,aAAa,CAAC;UAChC;UACA;UACA;QACF;MACF,CAAC,UACA,CAAC,UAAAE,KAAI;QAAA,OAAK3B,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE0B,KAAK,CAAC;MAAA;IAE1C;EAEX;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}