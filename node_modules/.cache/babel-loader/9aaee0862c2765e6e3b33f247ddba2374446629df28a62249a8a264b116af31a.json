{"ast":null,"code":"import _regeneratorRuntime from \"C:/YARELI/New/VUE/DogToralia/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/YARELI/New/VUE/DogToralia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport default {\n  data: function data() {\n    return {\n      estilista: [],\n      error: null\n    };\n  },\n  created: function created() {\n    this.listarNegocios();\n  },\n  methods: {\n    getFotoUrl: function getFotoUrl(profile_photo) {\n      var baseUrl = 'http://127.0.0.1:8000/storage/';\n      return \"\".concat(baseUrl).concat(profile_photo);\n    },\n    detalles: function detalles(id) {\n      this.$router.push({\n        name: 'detalleMinegocio',\n        params: {\n          id: id\n        }\n      });\n    },\n    agregar: function agregar() {\n      this.$router.push(\"/nuevo-negocio\");\n    },\n    listarNegocios: function listarNegocios() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var token, _token, myHeaders, requestOptions;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              token = localStorage.getItem('token');\n              if (token) {\n                _context.next = 5;\n                break;\n              }\n              _this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\n              _this.$router.push('/auth/login');\n              return _context.abrupt(\"return\");\n            case 5:\n              try {\n                _token = localStorage.getItem('token');\n                myHeaders = new Headers();\n                myHeaders.append(\"Content-Type\", \"application/json\");\n                myHeaders.append(\"Authorization\", \"Bearer \".concat(_token));\n                requestOptions = {\n                  method: \"GET\",\n                  headers: myHeaders,\n                  redirect: \"follow\"\n                }; // fetch(\"https://devs-devitm.com/api/business/all\", requestOptions)\n                fetch(\"http://127.0.0.1:8000/api/staff\", requestOptions).then(function (response) {\n                  return response.text();\n                }).then(function (result) {\n                  var datos = JSON.parse(result);\n                  _this.estilista = datos.stylists;\n                });\n              } catch (err) {\n                console.log('Error al obtener los negocios:', err);\n                _this.error = 'Error al obtener los detalles de los negocios';\n              }\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    } // eliminar(id){\n    //           Swal.fire({\n    //               title: '¿Está seguro de eliminar este negocio?',\n    //               icon: 'warning',\n    //               showCancelButton: true,\n    //               confirmButtonColor: '#3085d6',\n    //               cancelButtonColor: '#d33',\n    //               confirmButtonText: 'Sí, eliminar',\n    //               cancelButtonText: 'Cancelar'\n    //             }).then((result) => {\n    //               if (result.isConfirmed) {\n    //           const token = localStorage.getItem('token');\n    //             if (!token) {\n    //               this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\n    //               this.$router.push('/auth/login');\n    //               return;\n    //             }\n    //             const myHeaders = new Headers();\n    //             myHeaders.append(\"Content-Type\", \"application/json\");\n    //             myHeaders.append(\"Authorization\", `Bearer ${token}`);\n    //             console.log('ID de la mascota a eliminar :', id);\n    //             const requestOptions = {\n    //               method: \"DELETE\",\n    //               headers: myHeaders,\n    //               redirect: \"follow\"\n    //             };\n    //             // fetch(`https://devs-devitm.com/api/pets/${id}`, requestOptions)\n    //             fetch(`http://127.0.0.1:8000/api/business/${id}`, requestOptions)\n    //               .then(response => response.json())\n    //               .then(result => {\n    //                 console.log('Resultado de la eliminación:', result);\n    //                 if (result.status === 'success') {\n    //                       Swal.fire(\n    //                         'Eliminado!',\n    //                         'El negocio ha sido eliminado correctamente.',\n    //                         'success'\n    //                       );\n    //                       this.listarNegocios(); // Asumiendo que esta función actualiza la lista de negocios\n    //                     } else {\n    //                       Swal.fire(\n    //                         'Error!',\n    //                         result.message || 'Hubo un problema al eliminar el negocio.',\n    //                         'error'\n    //                       );\n    //                     }\n    //               })\n    //               .catch(err => {\n    //                 console.error('Error al eliminar el negocio:', err);\n    //                 Swal.fire(\n    //                       'Error!',\n    //                       'Hubo un problema al eliminar el negocio.',\n    //                       'error'\n    //                     );\n    //     });\n    // }\n    //   });\n    //  }\n  }\n};","map":{"version":3,"names":["axios","Swal","data","estilista","error","created","listarNegocios","methods","getFotoUrl","profile_photo","baseUrl","concat","detalles","id","$router","push","name","params","agregar","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","_token","myHeaders","requestOptions","wrap","_callee$","_context","prev","next","localStorage","getItem","errorMessage","abrupt","Headers","append","method","headers","redirect","fetch","then","response","text","result","datos","JSON","parse","stylists","err","console","log","stop"],"sources":["C:\\YARELI\\New\\VUE\\DogToralia\\src\\pages\\admin\\personal\\listPersonal.vue"],"sourcesContent":["<template>\r\n  <div class=\"card mb-0\">\r\n        <div class=\"card-header d-flex\">\r\n             <h5>Personal</h5><span class=\"f-14 pull-right mt-0\">5 Contacts</span>\r\n        </div>\r\n            <div class=\"card-body p-0\">\r\n                <div class=\"row list-persons\" id=\"addcon\">\r\n                    <div class=\"col-xl-4 xl-50 col-md-5 box-col-6\">\r\n                        <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\" >\r\n                          <a class=\"contact-tab-0 nav-link\"  :class=\"contact.active\" id=\"v-pills-user-tab\" data-bs-toggle=\"pill\"  :href=\"'#v-pills-user'+contact.id\" role=\"tab\" aria-controls=\"v-pills-user\" aria-selected=\"true\" v-for=\"estilista in estilista\" :key=\"estilista.id\" >\r\n                              <div class=\"d-flex\"><img class=\"img-50 img-fluid m-r-20 rounded-circle update_img_0\"  :src=\"contact.imgUrl||getImgUrl(contact.image)\" alt=\"\">\r\n                                <div class=\"flex-grow-1\">\r\n                                  <h6> <span class=\"first_name_1\">{{estilista.name}} </span>  <span class=\"last_name_1\">{{estilista.last_name}}</span></h6>\r\n                                  <p class=\"email_add_1\"> {{estilista.email}}</p>\r\n                                </div>\r\n                              </div>\r\n                          </a>\r\n                        </div>\r\n                    </div>\r\n            <!-- <personalDetail/> -->\r\n               </div>\r\n           </div>\r\n      </div>\r\n</template>\r\n<script>\r\n import axios from 'axios';\r\n  import Swal from 'sweetalert2';\r\n  export default {\r\n    data() {\r\n      return {\r\n        estilista: [],\r\n        error: null,\r\n        \r\n      };\r\n    },\r\n    created() {\r\n      this.listarNegocios();\r\n    },\r\n   \r\n    methods: {\r\n         getFotoUrl(profile_photo) {\r\n      const baseUrl = 'http://127.0.0.1:8000/storage/';\r\n      return `${baseUrl}${profile_photo}`;\r\n    },\r\n        detalles(id){\r\n            this.$router.push({ name: 'detalleMinegocio', params: { id: id } });\r\n        },\r\n      \r\n        agregar(){\r\n            this.$router.push(\"/nuevo-negocio\");\r\n        },\r\n      async listarNegocios() {\r\n        const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\r\n        this.$router.push('/auth/login');\r\n        return;\r\n      }\r\n        try {\r\n            const token=localStorage.getItem('token');\r\n            const myHeaders = new Headers();\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n            myHeaders.append(\"Authorization\", `Bearer ${token}`);\r\n\r\n                const requestOptions = {\r\n                method: \"GET\",\r\n                headers: myHeaders,\r\n                redirect: \"follow\"\r\n                };\r\n\r\n                // fetch(\"https://devs-devitm.com/api/business/all\", requestOptions)\r\n                fetch(\"http://127.0.0.1:8000/api/staff\", requestOptions)\r\n                .then((response) => response.text())\r\n                .then((result) => {\r\n                    let datos = JSON.parse( result);                   \r\n                    this.estilista = datos.stylists;\r\n\r\n                });                \r\n      \r\n             } catch (err) {\r\n                console.log('Error al obtener los negocios:', err);\r\n                this.error = 'Error al obtener los detalles de los negocios';    \r\n            }\r\n      },\r\n      // eliminar(id){\r\n//           Swal.fire({\r\n//               title: '¿Está seguro de eliminar este negocio?',\r\n//               icon: 'warning',\r\n//               showCancelButton: true,\r\n//               confirmButtonColor: '#3085d6',\r\n//               cancelButtonColor: '#d33',\r\n//               confirmButtonText: 'Sí, eliminar',\r\n//               cancelButtonText: 'Cancelar'\r\n//             }).then((result) => {\r\n//               if (result.isConfirmed) {\r\n\r\n//           const token = localStorage.getItem('token');\r\n//             if (!token) {\r\n//               this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\r\n//               this.$router.push('/auth/login');\r\n//               return;\r\n//             }\r\n\r\n//             const myHeaders = new Headers();\r\n//             myHeaders.append(\"Content-Type\", \"application/json\");\r\n//             myHeaders.append(\"Authorization\", `Bearer ${token}`);\r\n\r\n//             console.log('ID de la mascota a eliminar :', id);\r\n\r\n//             const requestOptions = {\r\n//               method: \"DELETE\",\r\n//               headers: myHeaders,\r\n//               redirect: \"follow\"\r\n//             };\r\n\r\n//             // fetch(`https://devs-devitm.com/api/pets/${id}`, requestOptions)\r\n//             fetch(`http://127.0.0.1:8000/api/business/${id}`, requestOptions)\r\n//               .then(response => response.json())\r\n//               .then(result => {\r\n//                 console.log('Resultado de la eliminación:', result);\r\n//                 if (result.status === 'success') {\r\n//                       Swal.fire(\r\n//                         'Eliminado!',\r\n//                         'El negocio ha sido eliminado correctamente.',\r\n//                         'success'\r\n//                       );\r\n//                       this.listarNegocios(); // Asumiendo que esta función actualiza la lista de negocios\r\n//                     } else {\r\n//                       Swal.fire(\r\n//                         'Error!',\r\n//                         result.message || 'Hubo un problema al eliminar el negocio.',\r\n//                         'error'\r\n//                       );\r\n//                     }\r\n             \r\n//               })\r\n//               .catch(err => {\r\n//                 console.error('Error al eliminar el negocio:', err);\r\n//                 Swal.fire(\r\n//                       'Error!',\r\n//                       'Hubo un problema al eliminar el negocio.',\r\n//                       'error'\r\n//                     );\r\n//     });\r\n// }\r\n//   });\r\n      //  }\r\n    }\r\n};\r\n\r\n \r\n</script>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}