{"ast":null,"code":"import _regeneratorRuntime from \"C:/YARELI/New/VUE/DogToralia/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/YARELI/New/VUE/DogToralia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport Swal from 'sweetalert2';\nexport default {\n  data: function data() {\n    return {\n      pet: [],\n      error: null\n    };\n  },\n  created: function created() {\n    this.listarMisMascotas();\n  },\n  methods: {\n    detalles: function detalles(id) {\n      this.$router.push({\n        name: 'detalleMimascota',\n        params: {\n          id: id\n        }\n      });\n    },\n    editar: function editar(id) {\n      this.$router.push({\n        name: 'editarMimascota',\n        params: {\n          id: id\n        }\n      });\n    },\n    agregar: function agregar() {\n      this.$router.push(\"/nueva-mascota\");\n    },\n    listarMisMascotas: function listarMisMascotas() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var token, _token, myHeaders, requestOptions;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              token = localStorage.getItem('token');\n              if (token) {\n                _context.next = 5;\n                break;\n              }\n              _this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\n              _this.$router.push('/auth/login');\n              return _context.abrupt(\"return\");\n            case 5:\n              try {\n                _token = localStorage.getItem('token');\n                myHeaders = new Headers();\n                myHeaders.append(\"Content-Type\", \"application/json\");\n                myHeaders.append(\"Authorization\", \"Bearer \".concat(_token));\n                requestOptions = {\n                  method: \"GET\",\n                  headers: myHeaders,\n                  redirect: \"follow\"\n                }; // fetch(\"https://devs-devitm.com/api/pets/index\", requestOptions)\n                fetch(\"http://127.0.0.1:8000/api/pets/index\", requestOptions).then(function (response) {\n                  return response.text();\n                }).then(function (result) {\n                  var datos = JSON.parse(result);\n                  console.log('ddd:', datos);\n                  // this.pet = datos.data;               \n                  _this.pet = datos.pets.data;\n                });\n              } catch (err) {\n                console.log('Error al obtener los negocios:', err);\n                _this.error = 'Error al obtener los detalles de los negocios';\n              }\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    } //     eliminar(id){\n    // Swal.fire({\n    //   title: '¿Está seguro de que desea eliminar esta mascota?',\n    //   icon: 'warning',\n    //   showCancelButton: true,\n    //   confirmButtonColor: '#3085d6',\n    //   cancelButtonColor: '#d33',\n    //   confirmButtonText: 'Sí, eliminar',\n    //   cancelButtonText: 'Cancelar'\n    // }).then((result) => {\n    //   if (result.isConfirmed) {\n    // const token = localStorage.getItem('token');\n    // if (!token) {\n    //   this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\n    //   this.$router.push('/auth/login');\n    //   return;\n    // }\n    // const myHeaders = new Headers();\n    // myHeaders.append(\"Content-Type\", \"application/json\");\n    // myHeaders.append(\"Authorization\", `Bearer ${token}`);\n    // console.log('ID de la mascota:', id);\n    // const requestOptions = {\n    //   method: \"DELETE\",\n    //   headers: myHeaders,\n    //   redirect: \"follow\"\n    // };\n    // // fetch(`https://devs-devitm.com/api/pets/${id}`, requestOptions)\n    // fetch(`http://127.0.0.1:8000/api/pets/${id}`, requestOptions)\n    //   .then(response => response.json())\n    //   .then(result => {\n    //     console.log('Resultado de la eliminación:', result);\n    //     // Vuelve a listar las mascotas para reflejar los cambios\n    //     this.listarMisMascotas();\n    //   })\n    //   .catch(err => {\n    //     console.error('Error al eliminar la mascota:', err);\n    //     if (err.response && err.response.data && err.response.data.message) {\n    //       this.error = err.response.data.message;\n    //     } else {\n    //       this.error = 'Error al eliminar la mascota';\n    //     }\n    //     Swal.fire(\n    //           'Error!',\n    //           'Hubo un problema al eliminar la mascota.',\n    //           'error'\n    //         );\n    //   });\n    // }\n    // });\n    //      }//metodo de eliminar \n  }\n}; //llave del export","map":{"version":3,"names":["Swal","data","pet","error","created","listarMisMascotas","methods","detalles","id","$router","push","name","params","editar","agregar","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","_token","myHeaders","requestOptions","wrap","_callee$","_context","prev","next","localStorage","getItem","errorMessage","abrupt","Headers","append","concat","method","headers","redirect","fetch","then","response","text","result","datos","JSON","parse","console","log","pets","err","stop"],"sources":["C:\\YARELI\\New\\VUE\\DogToralia\\src\\pages\\admin\\personal\\listPersonal.vue"],"sourcesContent":["<template>\r\n    <div class=\"card \">\r\n         <div class=\"card-header d-flex\">\r\n            <h5>Personal</h5><span class=\"f-14 pull-right mt-0\"></span>\r\n                </div>\r\n                 <div class=\"card-body p-0\">\r\n                     <div class=\"row list-persons\" id=\"addcon\">\r\n                          <div class=\"col-xl-4 xl-50 col-md-5 box-col-6\">\r\n                          <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\" >\r\n                       <!-- <a class=\"contact-tab-0 nav-link\"  :class=\"contact.active\" id=\"v-pills-user-tab\" data-bs-toggle=\"pill\"  :href=\"'#v-pills-user'+contact.id\" role=\"tab\" aria-controls=\"v-pills-user\" aria-selected=\"true\" v-for=\"(contact,index) in contacts\" :key=\"index\" > -->\r\n                            <a class=\"contact-tab-0 nav-link\"  id=\"v-pills-user-tab\" data-bs-toggle=\"pill\"   >\r\n                          <!-- <div class=\"d-flex\"><img class=\"img-50 img-fluid m-r-20 rounded-circle update_img_0\"  :src=\"contact.imgUrl\" alt=\"\"> -->\r\n                                <div class=\"d-flex\"><img class=\"img-50 img-fluid m-r-20 rounded-circle update_img_0\"   alt=\"\">\r\n                                <div class=\"flex-grow-1\">\r\n                                <h6> <span class=\"first_name_1\"> </span>  <span class=\"last_name_1\"></span></h6>\r\n                                <p class=\"email_add_1\"> </p>\r\n                                </div>\r\n                              </div>\r\n                          </a>\r\n                         </div>\r\n                      </div>\r\n                                 <!-- <personalDetail/> -->\r\n                 </div>\r\n           </div>\r\n      </div>\r\n</template>\r\n<script>\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      pet: [],\r\n      error: null\r\n    };\r\n  },\r\n  created() {\r\n    this.listarMisMascotas();\r\n  },\r\n  methods: {\r\n      detalles(id){\r\n          this.$router.push({ name: 'detalleMimascota', params: { id: id } });\r\n      },\r\n      editar(id){\r\n          this.$router.push({ name: 'editarMimascota', params: { id: id } });\r\n      },\r\n      agregar(){\r\n          this.$router.push(\"/nueva-mascota\");\r\n      },\r\n    async listarMisMascotas() {\r\n      const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\r\n      this.$router.push('/auth/login');\r\n      return;\r\n    }\r\n      try {\r\n\r\n        const token=localStorage.getItem('token');\r\n        const myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        myHeaders.append(\"Authorization\", `Bearer ${token}`);\r\n\r\n              const requestOptions = {\r\n              method: \"GET\",\r\n              headers: myHeaders,\r\n              redirect: \"follow\"\r\n              };\r\n\r\n              // fetch(\"https://devs-devitm.com/api/pets/index\", requestOptions)\r\n              fetch(\"http://127.0.0.1:8000/api/pets/index\", requestOptions)\r\n              .then((response) => response.text())\r\n              .then((result) => {\r\n                  let datos = JSON.parse( result);   \r\n                  console.log('ddd:',datos);    \r\n                  // this.pet = datos.data;               \r\n                  this.pet = datos.pets.data;\r\n                 \r\n              });                \r\n    \r\n           } catch (err) {\r\n              console.log('Error al obtener los negocios:', err);\r\n              this.error = 'Error al obtener los detalles de los negocios';    \r\n          }\r\n    },\r\n//     eliminar(id){\r\n// Swal.fire({\r\n//   title: '¿Está seguro de que desea eliminar esta mascota?',\r\n//   icon: 'warning',\r\n//   showCancelButton: true,\r\n//   confirmButtonColor: '#3085d6',\r\n//   cancelButtonColor: '#d33',\r\n//   confirmButtonText: 'Sí, eliminar',\r\n//   cancelButtonText: 'Cancelar'\r\n// }).then((result) => {\r\n//   if (result.isConfirmed) {\r\n\r\n// const token = localStorage.getItem('token');\r\n// if (!token) {\r\n//   this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\r\n//   this.$router.push('/auth/login');\r\n//   return;\r\n// }\r\n\r\n// const myHeaders = new Headers();\r\n// myHeaders.append(\"Content-Type\", \"application/json\");\r\n// myHeaders.append(\"Authorization\", `Bearer ${token}`);\r\n\r\n// console.log('ID de la mascota:', id);\r\n\r\n// const requestOptions = {\r\n//   method: \"DELETE\",\r\n//   headers: myHeaders,\r\n//   redirect: \"follow\"\r\n// };\r\n\r\n// // fetch(`https://devs-devitm.com/api/pets/${id}`, requestOptions)\r\n// fetch(`http://127.0.0.1:8000/api/pets/${id}`, requestOptions)\r\n//   .then(response => response.json())\r\n//   .then(result => {\r\n//     console.log('Resultado de la eliminación:', result);\r\n//     // Vuelve a listar las mascotas para reflejar los cambios\r\n//     this.listarMisMascotas();\r\n//   })\r\n//   .catch(err => {\r\n//     console.error('Error al eliminar la mascota:', err);\r\n//     if (err.response && err.response.data && err.response.data.message) {\r\n//       this.error = err.response.data.message;\r\n//     } else {\r\n//       this.error = 'Error al eliminar la mascota';\r\n//     }\r\n//     Swal.fire(\r\n//           'Error!',\r\n//           'Hubo un problema al eliminar la mascota.',\r\n//           'error'\r\n//         );\r\n//   });\r\n// }\r\n// });\r\n\r\n\r\n//      }//metodo de eliminar \r\n\r\n\r\n\r\n  }\r\n\r\n};//llave del export\r\n</script>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}