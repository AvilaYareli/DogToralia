{"ast":null,"code":"import \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.replace.js\";\nexport default {\n  components: {},\n  methods: {\n    cerrarSesion: function cerrarSesion() {\n      var _this = this;\n      var myHeaders = new Headers();\n      var tokenBearer = \"Bearer \" + localStorage.getItem(\"token\");\n      // console.log(\"tokenBearer\",  tokenBearer.toString()  );\n      myHeaders.append(\"Authorization\", tokenBearer.toString());\n      // myHeaders.append(\"Authorization\", tokenBeare );\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        redirect: 'follow'\n      };\n      fetch(\"https://devs-devitm.com/api/pet_owner/logout\", requestOptions).then(function (response) {\n        return response.text();\n      }).then(function (result) {\n        console.log(\"result\", result);\n        var resultado = JSON.parse(result);\n        if (resultado.status == \"success\") {\n          localStorage.removeItem('token');\n          // this.$router.replace('/');\n          localStorage.removeItem('userType');\n          _this.$router.replace(\"/\");\n\n          // this.$router.push('/auth/login'); ..\n          // this.$router.replace('/auth/login');\n          // window.location.reload(); \n          _this.$nextTick(function () {\n            location.reload(); //  actualizar el header\n          });\n        } else {\n          // this.$router.push('/auth/login');\n          // this.$router.replace('/auth/login');\n          // console.log('/auth/login');\n          // this.$router.push('/');\n        }\n      })[\"catch\"](function (error) {\n        return console.log('error', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["components","methods","cerrarSesion","_this","myHeaders","Headers","tokenBearer","localStorage","getItem","append","toString","requestOptions","method","headers","redirect","fetch","then","response","text","result","console","log","resultado","JSON","parse","status","removeItem","$router","replace","$nextTick","location","reload","error"],"sources":["C:\\YARELI\\New\\VUE\\DogToralia\\src\\layout\\header\\profileView.vue"],"sourcesContent":["<template>\r\n    <div class=\"account-user\"><vue-feather type=\"user\"></vue-feather></div>\r\n               <ul class=\"profile-dropdown onhover-show-div\">\r\n                 <li><router-link to=\"/confpet\"><vue-feather type=\"settings\"></vue-feather><span>Ajustes</span></router-link></li>\r\n                 <li><a @click=\"cerrarSesion\" > <vue-feather type=\"log-in\"></vue-feather><span>Cerrar Sesion</span></a> </li>\r\n                 \r\n               </ul>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n   components:{\r\n      \r\n   },\r\n    methods: {\r\n     cerrarSesion(){\r\n    \r\n              var myHeaders = new Headers();\r\n               let tokenBearer = \"Bearer \"+ localStorage.getItem(\"token\");\r\n                // console.log(\"tokenBearer\",  tokenBearer.toString()  );\r\n              myHeaders.append(\"Authorization\", tokenBearer.toString() );\r\n              // myHeaders.append(\"Authorization\", tokenBeare );\r\n              var requestOptions = {\r\n                method: 'POST',\r\n                headers: myHeaders,\r\n                redirect: 'follow'\r\n              };\r\n\r\n              fetch(\"https://devs-devitm.com/api/pet_owner/logout\", requestOptions)\r\n              .then(response => response.text())\r\n              .then(result => {\r\n                    console.log(\"result\", result );\r\n                    let resultado = JSON.parse(result); \r\n                    if(resultado.status==\"success\"){\r\n                      localStorage.removeItem('token');\r\n                      // this.$router.replace('/');\r\n                      localStorage.removeItem('userType');\r\n                      this.$router.replace(\"/\"); \r\n                      \r\n                      // this.$router.push('/auth/login'); ..\r\n                      // this.$router.replace('/auth/login');\r\n                      // window.location.reload(); \r\n                      this.$nextTick(() => {\r\n                        location.reload(); //  actualizar el header\r\n                    });\r\n                    }\r\n                    else{\r\n                      // this.$router.push('/auth/login');\r\n                      // this.$router.replace('/auth/login');\r\n                      // console.log('/auth/login');\r\n                      // this.$router.push('/');\r\n                    }\r\n                  })\r\n             .catch(error => console.log('error', error))\r\n\r\n              },\r\n     \r\n   },\r\n}\r\n</script>\r\n<style scoped>\r\n    /* Estilos para los botones de texto */\r\n    .nav-menus button {\r\n        background: none;\r\n        border: none;\r\n        cursor: pointer;\r\n        color: #333; /* Color por defecto */\r\n        padding: 5px 10px;\r\n        /* text-decoration: underline; Subrayado por defecto */\r\n    }\r\n\r\n    .nav-menus button.active {\r\n        color: blue; /* Color cuando está seleccionado */\r\n        text-decoration: none; /* Sin subrayado cuando está seleccionado */\r\n    }\r\n</style>\r\n"],"mappings":";;;;;;;AAUA,eAAe;EACZA,UAAU,EAAC,CAEX,CAAC;EACAC,OAAO,EAAE;IACRC,YAAY,WAAAA,aAAA,EAAE;MAAA,IAAAC,KAAA;MAEL,IAAIC,SAAQ,GAAI,IAAIC,OAAO,CAAC,CAAC;MAC5B,IAAIC,WAAU,GAAI,SAAS,GAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACzD;MACFJ,SAAS,CAACK,MAAM,CAAC,eAAe,EAAEH,WAAW,CAACI,QAAQ,CAAC,CAAE,CAAC;MAC1D;MACA,IAAIC,cAAa,GAAI;QACnBC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAET,SAAS;QAClBU,QAAQ,EAAE;MACZ,CAAC;MAEDC,KAAK,CAAC,8CAA8C,EAAEJ,cAAc,EACnEK,IAAI,CAAC,UAAAC,QAAO;QAAA,OAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,GAChCF,IAAI,CAAC,UAAAG,MAAK,EAAK;QACVC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,MAAO,CAAC;QAC9B,IAAIG,SAAQ,GAAIC,IAAI,CAACC,KAAK,CAACL,MAAM,CAAC;QAClC,IAAGG,SAAS,CAACG,MAAM,IAAE,SAAS,EAAC;UAC7BlB,YAAY,CAACmB,UAAU,CAAC,OAAO,CAAC;UAChC;UACAnB,YAAY,CAACmB,UAAU,CAAC,UAAU,CAAC;UACnCvB,KAAI,CAACwB,OAAO,CAACC,OAAO,CAAC,GAAG,CAAC;;UAEzB;UACA;UACA;UACAzB,KAAI,CAAC0B,SAAS,CAAC,YAAM;YACnBC,QAAQ,CAACC,MAAM,CAAC,CAAC,EAAE;UACvB,CAAC,CAAC;QACF,OACI;UACF;UACA;UACA;UACA;QAAA;MAEJ,CAAC,UACA,CAAC,UAAAC,KAAI;QAAA,OAAKZ,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEW,KAAK,CAAC;MAAA;IAE1C;EAEX;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}