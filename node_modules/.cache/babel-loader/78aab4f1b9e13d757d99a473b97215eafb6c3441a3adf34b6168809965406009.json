{"ast":null,"code":"import _regeneratorRuntime from \"C:/YARELI/New/VUE/DogToralia/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/YARELI/New/VUE/DogToralia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nexport default {\n  data: function data() {\n    return {\n      schedule: [{\n        day_of_week: 'Monday',\n        time_slots: [{\n          start_time: '',\n          end_time: ''\n        }]\n      }]\n    };\n  },\n  methods: {\n    // Método para añadir una nueva franja horaria a un día específico\n    addSlot: function addSlot(index) {\n      this.schedule[index].time_slots.push({\n        start_time: '',\n        end_time: ''\n      });\n    },\n    // Método para eliminar una franja horaria de un día específico\n    removeSlot: function removeSlot(dayIndex, slotIndex) {\n      this.schedule[dayIndex].time_slots.splice(slotIndex, 1);\n    },\n    // Método para añadir un nuevo día con su franja horaria\n    addDay: function addDay() {\n      this.schedule.push({\n        day_of_week: '',\n        time_slots: [{\n          start_time: '',\n          end_time: ''\n        }]\n      });\n    },\n    // Método para enviar el formulario\n    submitSchedule: function submitSchedule() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return fetch('http://127.0.0.1:8000/api/business/schedule/2', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  schedule: _this.schedule\n                })\n              });\n            case 3:\n              response = _context.sent;\n              if (response.ok) {\n                _context.next = 6;\n                break;\n              }\n              throw new Error('Error al registrar el horario');\n            case 6:\n              _context.next = 8;\n              return response.json();\n            case 8:\n              data = _context.sent;\n              console.log('Horario registrado:', data);\n              alert('Horario registrado con éxito');\n              _context.next = 17;\n              break;\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n              alert('Hubo un problema al registrar el horario');\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 13]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["data","schedule","day_of_week","time_slots","start_time","end_time","methods","addSlot","index","push","removeSlot","dayIndex","slotIndex","splice","addDay","submitSchedule","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","ok","Error","json","console","log","alert","t0","error","stop"],"sources":["C:\\YARELI\\New\\VUE\\DogToralia\\src\\pages\\admin\\horarios\\regisHorario.vue"],"sourcesContent":["<template>\r\n    <div class=\"card\">\r\n    <div class=\"container mt-5\">\r\n      <h1 class=\"text-center\">Registrar Horario</h1>\r\n      <button class=\"btn btn-success\" @click=\"addDay\">Añadir Día</button>\r\n      <form @submit.prevent=\"submitSchedule\">\r\n        <div v-for=\"(day, index) in schedule\" :key=\"index\" class=\"mb-4\">\r\n          <h4>{{ day.day_of_week }}</h4>\r\n          \r\n          <div v-for=\"(slot, idx) in day.time_slots\" :key=\"idx\" class=\"row mb-2\">\r\n            <div class=\"col\">\r\n              <label for=\"start_time\">Hora de inicio</label>\r\n              <input \r\n                type=\"time\" \r\n                v-model=\"slot.start_time\" \r\n                class=\"form-control\" \r\n                required />\r\n            </div>\r\n            <div class=\"col\">\r\n              <label for=\"end_time\">Hora de fin</label>\r\n              <input \r\n                type=\"time\" \r\n                v-model=\"slot.end_time\" \r\n                class=\"form-control\" \r\n                required />\r\n            </div>\r\n            <div class=\"col-2 d-flex align-items-end\">\r\n              <button \r\n                class=\"btn btn-danger\" \r\n                @click=\"removeSlot(index, idx)\">Eliminar franja</button>\r\n            </div>\r\n          </div>\r\n          <button \r\n            class=\"btn btn-primary mb-3\" \r\n            @click.prevent=\"addSlot(index)\">Añadir Franja Horaria</button>\r\n        </div>\r\n\r\n        <button type=\"submit\" class=\"btn btn-primary mt-4\">Registrar Horario</button>\r\n      </form>\r\n    </div>\r\n</div>\r\n  </template>\r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        schedule: [\r\n          {\r\n            day_of_week: 'Monday',\r\n            time_slots: [\r\n              { start_time: '', end_time: '' }\r\n            ]\r\n          }\r\n        ]\r\n      };\r\n    },\r\n    methods: {\r\n      // Método para añadir una nueva franja horaria a un día específico\r\n      addSlot(index) {\r\n        this.schedule[index].time_slots.push({ start_time: '', end_time: '' });\r\n      },\r\n      \r\n      // Método para eliminar una franja horaria de un día específico\r\n      removeSlot(dayIndex, slotIndex) {\r\n        this.schedule[dayIndex].time_slots.splice(slotIndex, 1);\r\n      },\r\n      \r\n      // Método para añadir un nuevo día con su franja horaria\r\n      addDay() {\r\n        this.schedule.push({\r\n          day_of_week: '',\r\n          time_slots: [\r\n            { start_time: '', end_time: '' }\r\n          ]\r\n        });\r\n      },\r\n      \r\n      // Método para enviar el formulario\r\n      async submitSchedule() {\r\n        try {\r\n          const response = await fetch('http://127.0.0.1:8000/api/business/schedule/2', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ schedule: this.schedule })\r\n          });\r\n          \r\n          if (!response.ok) throw new Error('Error al registrar el horario');\r\n          \r\n          const data = await response.json();\r\n          console.log('Horario registrado:', data);\r\n          alert('Horario registrado con éxito');\r\n        } catch (error) {\r\n          console.error(error);\r\n          alert('Hubo un problema al registrar el horario');\r\n        }\r\n      }\r\n    }\r\n  };\r\n  </script>"],"mappings":";;;;;;;;;AA2CE,eAAe;EACbA,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,CACR;QACEC,WAAW,EAAE,QAAQ;QACrBC,UAAU,EAAE,CACV;UAAEC,UAAU,EAAE,EAAE;UAAEC,QAAQ,EAAE;QAAG;MAEnC;IAEJ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,OAAO,WAAAA,QAACC,KAAK,EAAE;MACb,IAAI,CAACP,QAAQ,CAACO,KAAK,CAAC,CAACL,UAAU,CAACM,IAAI,CAAC;QAAEL,UAAU,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAG,CAAC,CAAC;IACxE,CAAC;IAED;IACAK,UAAU,WAAAA,WAACC,QAAQ,EAAEC,SAAS,EAAE;MAC9B,IAAI,CAACX,QAAQ,CAACU,QAAQ,CAAC,CAACR,UAAU,CAACU,MAAM,CAACD,SAAS,EAAE,CAAC,CAAC;IACzD,CAAC;IAED;IACAE,MAAM,WAAAA,OAAA,EAAG;MACP,IAAI,CAACb,QAAQ,CAACQ,IAAI,CAAC;QACjBP,WAAW,EAAE,EAAE;QACfC,UAAU,EAAE,CACV;UAAEC,UAAU,EAAE,EAAE;UAAEC,QAAQ,EAAE;QAAG;MAEnC,CAAC,CAAC;IACJ,CAAC;IAED;IACMU,cAAc,WAAAA,eAAA,EAAG;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA,EAAArB,IAAA;QAAA,OAAAkB,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEIC,KAAK,CAAC,+CAA+C,EAAE;gBAC5EC,MAAM,EAAE,MAAM;gBACdC,OAAO,EAAE;kBACP,cAAc,EAAE;gBAClB,CAAC;gBACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;kBAAE/B,QAAQ,EAAEe,KAAI,CAACf;gBAAS,CAAC;cAClD,CAAC,CAAC;YAAA;cANIoB,QAAO,GAAAG,QAAA,CAAAS,IAAA;cAAA,IAQRZ,QAAQ,CAACa,EAAE;gBAAAV,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,MAAQ,IAAIS,KAAK,CAAC,+BAA+B,CAAC;YAAA;cAAAX,QAAA,CAAAE,IAAA;cAAA,OAE/CL,QAAQ,CAACe,IAAI,CAAC,CAAC;YAAA;cAA5BpC,IAAG,GAAAwB,QAAA,CAAAS,IAAA;cACTI,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEtC,IAAI,CAAC;cACxCuC,KAAK,CAAC,8BAA8B,CAAC;cAAAf,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAgB,EAAA,GAAAhB,QAAA;cAErCa,OAAO,CAACI,KAAK,CAAAjB,QAAA,CAAAgB,EAAM,CAAC;cACpBD,KAAK,CAAC,0CAA0C,CAAC;YAAA;YAAA;cAAA,OAAAf,QAAA,CAAAkB,IAAA;UAAA;QAAA,GAAAtB,OAAA;MAAA;IAErD;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}