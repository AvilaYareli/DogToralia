{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"d-flex flex-wrap\"\n};\nvar _hoisted_2 = {\n  \"class\": \"card custom-card-margin\"\n};\nvar _hoisted_3 = {\n  \"class\": \"card-header\"\n};\nvar _hoisted_4 = {\n  \"class\": \"card-text\"\n};\nvar _hoisted_5 = {\n  \"class\": \"mb-0\"\n};\nvar _hoisted_6 = {\n  \"class\": \"card-text\"\n};\nvar _hoisted_7 = {\n  \"class\": \"card-footer justify-content-between mt-3\"\n};\nvar _hoisted_8 = [\"onClick\"];\nvar _hoisted_9 = /*#__PURE__*/_createElementVNode(\"i\", {\n  \"class\": \"icofont icofont-ui-delete\"\n}, null, -1 /* HOISTED */);\nvar _hoisted_10 = [_hoisted_9];\nvar _hoisted_11 = [\"onClick\"];\nvar _hoisted_12 = /*#__PURE__*/_createElementVNode(\"i\", {\n  \"class\": \"icon-eye\"\n}, null, -1 /* HOISTED */);\nvar _hoisted_13 = [_hoisted_12];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"p\", null, \"Mostrando servicios para el negocio con ID: \" + _toDisplayString($props.negocioId), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.servi, function (servi) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      \"class\": \"col-sm-12 col-xl-5\",\n      key: servi.id\n    }, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h4\", null, _toDisplayString(servi.name), 1 /* TEXT */)]), _createCommentVNode(\" <div class=\\\"align-items-center p-3 card-body\\\"> \"), _createCommentVNode(\" <div :style=\\\"{ backgroundColor: getRandomColor(), color: 'white' }\\\" class=\\\"align-items-center p-3 card-body\\\">\\r\\n                    <div :class=\\\"getRandomClass()\\\" class=\\\"align-items-center p-3 card-body\\\"></div> \"), _createElementVNode(\"div\", {\n      style: _normalizeStyle({\n        backgroundColor: $options.getRandomClass(),\n        color: 'white'\n      }),\n      \"class\": \"align-items-center p-3 card-body\"\n    }, [_createElementVNode(\"p\", _hoisted_4, \"Descripción:\" + _toDisplayString(servi.description), 1 /* TEXT */), _createElementVNode(\"h6\", _hoisted_5, \"Precio: \" + _toDisplayString(servi.price) + \" \" + _toDisplayString(servi.currency), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_6, \"Duración:\" + _toDisplayString(servi.duration), 1 /* TEXT */)], 4 /* STYLE */), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n      \"class\": \"btn btn-outline-danger mx-1\",\n      onClick: function onClick($event) {\n        return _ctx.eliminar(servi.id);\n      }\n    }, [].concat(_hoisted_10), 8 /* PROPS */, _hoisted_8), _createElementVNode(\"button\", {\n      \"class\": \"btn btn-outline-success-2x\",\n      onClick: function onClick($event) {\n        return _ctx.verDetalle(servi.id);\n      }\n    }, [].concat(_hoisted_13), 8 /* PROPS */, _hoisted_11)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","_hoisted_9","_hoisted_12","_createElementBlock","_Fragment","_toDisplayString","$props","negocioId","_hoisted_1","_renderList","$data","servi","key","id","_hoisted_2","_hoisted_3","name","_createCommentVNode","style","_normalizeStyle","backgroundColor","$options","getRandomClass","color","_hoisted_4","description","_hoisted_5","price","currency","_hoisted_6","duration","_hoisted_7","onClick","$event","_ctx","eliminar","_hoisted_10","_hoisted_8","verDetalle","_hoisted_13","_hoisted_11"],"sources":["C:\\YARELI\\New\\VUE\\DogToralia\\src\\pages\\admin\\servicio\\servicios.vue"],"sourcesContent":["<template>\r\n     <p>Mostrando servicios para el negocio con ID: {{ negocioId }}</p>\r\n    <div class=\"d-flex flex-wrap\">\r\n        <div class=\"col-sm-12 col-xl-5\" v-for=\"servi in servi\" :key=\"servi.id\">\r\n            <div class=\"card custom-card-margin\">\r\n                <div class=\"card-header\">\r\n                    <h4>{{ servi.name }}</h4>\r\n                </div>\r\n                <!-- <div class=\"align-items-center p-3 card-body\"> -->\r\n                <!-- <div :style=\"{ backgroundColor: getRandomColor(), color: 'white' }\" class=\"align-items-center p-3 card-body\">\r\n                    <div :class=\"getRandomClass()\" class=\"align-items-center p-3 card-body\"></div> -->\r\n                    <div :style=\"{ backgroundColor: getRandomClass(), color: 'white' }\" class=\"align-items-center p-3 card-body\">\r\n                    <p class=\"card-text\">Descripción:{{ servi.description }}</p>\r\n                    <h6 class=\"mb-0\">Precio: {{ servi.price }} {{ servi.currency }}</h6>\r\n                    <p class=\"card-text\">Duración:{{ servi.duration }}</p>\r\n                </div>\r\n                <div class=\"card-footer justify-content-between mt-3\">\r\n                    <button class=\"btn btn-outline-danger mx-1\" @click=\"eliminar(servi.id)\">\r\n                        <i class=\"icofont icofont-ui-delete\"></i>\r\n                    </button>\r\n                    <button class=\"btn btn-outline-success-2x\" @click=\"verDetalle(servi.id)\">\r\n                        <i class=\"icon-eye\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n\r\n</template>\r\n<script>\r\n\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  props: {\r\n    negocioId: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      servi: [],  // Asegúrate de definir el array para almacenar los servicios\r\n    //   colors: ['#FFDDC1', '#FFABAB', '#FFC3A0', '#FF677D', '#D4A5A5', '#392F5A'],\r\n    };\r\n  },\r\n  created() {\r\n    this.obtenerServicios();\r\n  },\r\n  methods: {\r\n\r\n    // getRandomColor() {\r\n    //   const letters = '0123456789ABCDEF';\r\n    //   let color = '#';\r\n    //   for (let i = 0; i < 6; i++) {\r\n    //     color += letters[Math.floor(Math.random() * 16)];\r\n    //   }\r\n    //   return color;\r\n    // },\r\n    getRandomClass() {\r\n      const classes = ['bg-color-1', 'bg-color-2', 'bg-color-3', 'bg-color-4', 'bg-color-5'];\r\n      return classes[Math.floor(Math.random() * classes.length)];\r\n    },\r\n    async obtenerServicios() {\r\n      try {\r\n        const response = await axios.get(`http://127.0.0.1:8000/api/services/business/${this.negocioId}`);\r\n        this.servi = response.data.services.data;  // Guarda los datos de los servicios en el array\r\n        console.log(this.servi);  // Opcional: para ver qué se está guardando\r\n      } catch (error) {\r\n        console.error(\"Error al obtener los servicios:\", error);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n// export default {\r\n//   props: {\r\n//     negocioId: {\r\n//       type: Number,\r\n//       required: true\r\n//     }\r\n//   },\r\n//   created() {\r\n//     this.obtenerServicios();\r\n//   },\r\n//   methods: {\r\n//     async obtenerServicios() {\r\n//       try {\r\n//         const response = await axios.get(`http://127.0.0.1:8000/api/services/business/${this.negocioId}`);\r\n//         console.log(response.data);\r\n//         const result = await response.json();\r\n//         this.servi = result.services.data;\r\n//         // Aquí manejas los datos de los servicios\r\n//       } catch (error) {\r\n//         console.error(\"Error al obtener los servicios:\", error);\r\n//       }\r\n//     }\r\n//   },\r\n  \r\n// };\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- <script>\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default {\r\n//     props: {\r\n//     negocioId: {\r\n//       type: Number,\r\n//       required: true\r\n//     }\r\n//   },\r\n  data() {\r\n    return {\r\n      servi: [],\r\n      error: null,\r\n      negocioId: null\r\n    };\r\n  },\r\n  created() {\r\n    this.listarServicios(this.negocioId);\r\n  },\r\n  methods: {\r\n    detalles(id) {\r\n      this.$router.push({ name: 'detalleMinegocio', params: { id: id } });\r\n    },\r\n   \r\n    async listarServicios() {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\r\n        this.$router.push('/auth/login');\r\n        return;\r\n      }\r\n      try {\r\n        const myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        myHeaders.append(\"Authorization\", `Bearer ${token}`);\r\n\r\n        const requestOptions = {\r\n          method: \"GET\",\r\n          headers: myHeaders,\r\n          redirect: \"follow\",\r\n        };\r\n        console.log('negocio:', negocio); // Verificar si negocio está definido\r\n        console.log('negocioId:', this.negocioId); // Verificar si negocioId está definido\r\n        const response = await fetch(`http://127.0.0.1:8000/api/services/business/${this.negocioId}`, requestOptions);\r\n        const result = await response.json();\r\n        this.servi = result.services.data;\r\n       \r\n      } catch (err) {\r\n        console.error('Error al obtener los servicios:', err);\r\n        this.error = 'Error al obtener los detalles de los servicios';\r\n      }\r\n    },\r\n    // eliminar(id) {\r\n    //   Swal.fire({\r\n    //     title: '¿Está seguro de eliminar este servicios?',\r\n    //     icon: 'warning',\r\n    //     showCancelButton: true,\r\n    //     confirmButtonColor: '#3085d6',\r\n    //     cancelButtonColor: '#d33',\r\n    //     confirmButtonText: 'Sí, eliminar',\r\n    //     cancelButtonText: 'Cancelar',\r\n    //   }).then((result) => {\r\n    //     if (result.isConfirmed) {\r\n    //       const token = localStorage.getItem('token');\r\n    //       if (!token) {\r\n    //         this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\r\n    //         this.$router.push('/auth/login');\r\n    //         return;\r\n    //       }\r\n\r\n    //       const myHeaders = new Headers();\r\n    //       myHeaders.append(\"Content-Type\", \"application/json\");\r\n    //       myHeaders.append(\"Authorization\", `Bearer ${token}`);\r\n\r\n    //       const requestOptions = {\r\n    //         method: \"DELETE\",\r\n    //         headers: myHeaders,\r\n    //         redirect: \"follow\",\r\n    //       };\r\n\r\n    //       fetch(`http://127.0.0.1:8000/api/business/${id}`, requestOptions)\r\n    //         .then(response => response.json())\r\n    //         .then(result => {\r\n    //           if (result.status === 'success') {\r\n    //             Swal.fire(\r\n    //               'Eliminado!',\r\n    //               'El servicios ha sido eliminado correctamente.',\r\n    //               'success'\r\n    //             );\r\n    //             this.listarNegocios();\r\n    //           } else {\r\n    //             Swal.fire(\r\n    //               'Error!',\r\n    //               result.message || 'Hubo un problema al eliminar el servicios.',\r\n    //               'error'\r\n    //             );\r\n    //           }\r\n    //         })\r\n    //         .catch(err => {\r\n    //           console.error('Error al eliminar el servicios:', err);\r\n    //           Swal.fire(\r\n    //             'Error!',\r\n    //             'Hubo un problema al eliminar el servicios.',\r\n    //             'error'\r\n    //           );\r\n    //         });\r\n    //     }\r\n    //   });\r\n    // },\r\n  },\r\n};\r\n</script> -->\r\n<style>\r\n.custom-card-margin {\r\n  margin-bottom: 20px; /* Ajusta el valor según tus necesidades */\r\n}\r\n/*  */\r\n.bg-color-1 {\r\n  background-color: #3498db; /* Azul claro */\r\n  color: white;\r\n}\r\n\r\n.bg-color-2 {\r\n  background-color: #e74c3c; /* Rojo claro */\r\n  color: white;\r\n}\r\n\r\n.bg-color-3 {\r\n  background-color: #2ecc71; /* Verde claro */\r\n  color: white;\r\n}\r\n\r\n.bg-color-4 {\r\n  background-color: #f1c40f; /* Amarillo claro */\r\n  color: white;\r\n}\r\n\r\n.bg-color-5 {\r\n  background-color: #9b59b6; /* Morado claro */\r\n  color: white;\r\n}\r\n</style>"],"mappings":";;;;;;EAES,SAAM;AAAkB;;EAEhB,SAAM;AAAyB;;EAC3B,SAAM;AAAa;;EAOjB,SAAM;AAAW;;EAChB,SAAM;AAAM;;EACb,SAAM;AAAW;;EAEnB,SAAM;AAA0C;iBAhBrE;8BAkBwBA,mBAAA,CAAyC;EAAtC,SAAM;AAA2B;mBAApCC,UAAyC,C;kBAlBjE;+BAqBwBD,mBAAA,CAAwB;EAArB,SAAM;AAAU;mBAAnBE,WAAwB,C;;uBArBhDC,mBAAA,CAAAC,SAAA,SACKJ,mBAAA,CAAkE,WAA/D,8CAA4C,GAAAK,gBAAA,CAAGC,MAAA,CAAAC,SAAS,kBAC5DP,mBAAA,CAwBM,OAxBNQ,UAwBM,I,kBAvBFL,mBAAA,CAsBMC,SAAA,QAzBdK,WAAA,CAGwDC,KAAA,CAAAC,KAAK,EAH7D,UAG+CA,KAAK;yBAA5CR,mBAAA,CAsBM;MAtBD,SAAM,oBAAoB;MAAyBS,GAAG,EAAED,KAAK,CAACE;QAC/Db,mBAAA,CAoBM,OApBNc,UAoBM,GAnBFd,mBAAA,CAEM,OAFNe,UAEM,GADFf,mBAAA,CAAyB,YAAAK,gBAAA,CAAlBM,KAAK,CAACK,IAAI,iB,GAErBC,mBAAA,sDAAuD,EACvDA,mBAAA,iOACsF,EAClFjB,mBAAA,CAIE;MAJIkB,KAAK,EAX/BC,eAAA;QAAAC,eAAA,EAWoDC,QAAA,CAAAC,cAAc;QAAAC,KAAA;MAAA;MAAsB,SAAM;QAC1EvB,mBAAA,CAA4D,KAA5DwB,UAA4D,EAAvC,cAAY,GAAAnB,gBAAA,CAAGM,KAAK,CAACc,WAAW,kBACrDzB,mBAAA,CAAoE,MAApE0B,UAAoE,EAAnD,UAAQ,GAAArB,gBAAA,CAAGM,KAAK,CAACgB,KAAK,IAAG,GAAC,GAAAtB,gBAAA,CAAGM,KAAK,CAACiB,QAAQ,kBAC5D5B,mBAAA,CAAsD,KAAtD6B,UAAsD,EAAjC,WAAS,GAAAxB,gBAAA,CAAGM,KAAK,CAACmB,QAAQ,iB,kBAEnD9B,mBAAA,CAOM,OAPN+B,UAOM,GANF/B,mBAAA,CAES;MAFD,SAAM,6BAA6B;MAAEgC,OAAK,WAAAA,QAAAC,MAAA;QAAA,OAAEC,IAAA,CAAAC,QAAQ,CAACxB,KAAK,CAACE,EAAE;MAAA;iBAjBzFuB,WAAA,kBAAAC,UAAA,GAoBoBrC,mBAAA,CAES;MAFD,SAAM,4BAA4B;MAAEgC,OAAK,WAAAA,QAAAC,MAAA;QAAA,OAAEC,IAAA,CAAAI,UAAU,CAAC3B,KAAK,CAACE,EAAE;MAAA;iBApB1F0B,WAAA,kBAAAC,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}