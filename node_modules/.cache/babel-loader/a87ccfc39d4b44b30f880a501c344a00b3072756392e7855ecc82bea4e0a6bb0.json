{"ast":null,"code":"import \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport searchInput from \"./searchInput.vue\";\nimport sidebar from \"./sidebarView.vue\";\nimport searchView from \"./searchView.vue\";\nimport modeView from \"./modeView.vue\";\nimport maximizeView from \"./maximizeView.vue\";\nimport profileView from \"./profileView.vue\";\nimport profileAdminView from \"./profileAdminView.vue\";\n// import navMenuMixin from \"@/mixins/navMenu.js\"\n\nexport default {\n  name: 'indexView',\n  components: {\n    sidebar: sidebar,\n    searchView: searchView,\n    modeView: modeView,\n    maximizeView: maximizeView,\n    profileView: profileView,\n    profileAdminView: profileAdminView,\n    searchInput: searchInput\n  },\n  //   },\n  //  data () {\n  //   return {\n  //     filtered: false,\n  //     Login: localStorage.getItem(\"token\")\n  //   };\n  // },\n  data: function data() {\n    return {\n      token: localStorage.getItem('token'),\n      userType: localStorage.getItem('userType') // 'pet_owner' o 'business_owner'\n    };\n  },\n  computed: {\n    isPetOwner: function isPetOwner() {\n      return this.userType === 'pet_owner';\n    },\n    isBusinessOwner: function isBusinessOwner() {\n      return this.userType === 'business_owner';\n    }\n  },\n  // mounted() {\n  //   this.token = localStorage.getItem('token');\n  //   this.userType = localStorage.getItem('userType');\n  // },\n  methods: {\n    collapseFilter: function collapseFilter() {\n      this.filtered = !this.filtered;\n    },\n    // boton para entrar a la pagina de Sesión\n    pageUser: function pageUser() {\n      this.$router.replace('/Sesion');\n    },\n    // boton para entrar a la pagina de login****\n    pageLog: function pageLog() {\n      this.$router.replace('/auth/login');\n    },\n    cerrarSesion: function cerrarSesion() {\n      var _this = this;\n      console.log(\"Prueba de entrada\");\n      var myHeaders = new Headers();\n      var tokenBearer = \"Bearer \" + localStorage.getItem(\"token\");\n      // console.log(\"tokenBearer\",  tokenBearer.toString()  );\n      myHeaders.append(\"Authorization\", tokenBearer.toString());\n      // myHeaders.append(\"Authorization\", tokenBeare );\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        redirect: 'follow'\n      };\n      fetch(\"https://devs-devitm.com/api/pet_owner/logout\", requestOptions).then(function (response) {\n        return response.text();\n      }).then(function (result) {\n        console.log(\"result:\", result);\n        var resultado = JSON.parse(result);\n        if (resultado.status == \"success\") {\n          console.log(\"status\", resultado.status);\n          localStorage.removeItem('token');\n          // this.$router.replace('/');\n          // localStorage.removeItem('userType');\n          _this.$router.push('/dashboard');\n\n          // this.$router.push('/auth/login'); ..\n          // this.$router.replace('/auth/login');\n          window.location.reload();\n          //   this.$nextTick(() => {\n          //     location.reload(); //  actualizar el header\n          // });\n        } else {\n          // this.$router.push('/auth/login');\n          // this.$router.replace('/auth/login');\n          // console.log('/auth/login');\n          // this.$router.push('/');\n        }\n      })[\"catch\"](function (error) {\n        return console.log('error', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["searchInput","sidebar","searchView","modeView","maximizeView","profileView","profileAdminView","name","components","data","token","localStorage","getItem","userType","computed","isPetOwner","isBusinessOwner","methods","collapseFilter","filtered","pageUser","$router","replace","pageLog","cerrarSesion","_this","console","log","myHeaders","Headers","tokenBearer","append","toString","requestOptions","method","headers","redirect","fetch","then","response","text","result","resultado","JSON","parse","status","removeItem","push","window","location","reload","error"],"sources":["C:\\YARELI\\New\\VUE\\DogToralia\\src\\layout\\header\\indexView.vue"],"sourcesContent":["<template>\n    <div class=\"header-wrapper row m-0\">\n           <div class=\"header-logo-wrapper col-auto p-0\">\n               <sidebar/>\n           </div>\n            <div class=\"left-header col horizontal-wrapper ps-0\">\n              \n           </div>\n            <div class=\"nav-right col-6 pull-right right-header p-0\">\n            <ul class=\"nav-menus\">\n                  <li> \n                    <searchView/>\n                  </li>  \n\n                  <li class=\"serchinput\">\n                    <searchInput/>\n                  </li>\n\n                  <li>\n                    <modeView/>\n                  </li>\n\n                  <li class=\"maximize\">\n                    <maximizeView/>\n                  </li>\n\n         \n                  <li v-if=\"!token\">\n                      <button @click=\"pageUser\">Registrarse</button>\n                  </li>\n\n                  <li v-if=\"!token\">\n                       <button   @click=\"pageLog\">Login</button>\n                   </li> \n\n\n\n\n              <!-- <li  class=\"profile-nav onhover-dropdown\" v-if=\"Login !=null && Login !=''\" >\n                       <profileView/>\n                   </li>\n\n                    <li  class=\"profile-nav onhover-dropdown\" v-if=\"Login !=null && Login !=''\" >\n                         <profileAdminView/>\n                    </li> -->\n\n                    <li class=\"profile-nav onhover-dropdown\" v-if=\"token && isPetOwner\">\n                             <profileView/>\n                    </li>\n\n                    <!-- <li class=\"profile-nav onhover-dropdown\" v-if=\"isPetOwner\">\n                          <profileView/>\n                         </li> -->\n\n                        <li class=\"profile-nav onhover-dropdown\" v-if=\"token && isBusinessOwner\">\n                            <profileAdminView/>\n                                </li>\n\n                     <!-- <li><a @click=\"cerrarSesion\"   v-if=\"token && isPetOwner\"> <vue-feather type=\"log-in\"></vue-feather><span>Cerrar Sesion</span></a> </li> -->\n\n                     <li type=\"log-in\" v-if=\"token && isPetOwner\">\n                      <button @click=\"cerrarSesion\" >Cerrar Sesion</button>\n                  </li>\n\n                                \n\n\n            </ul>\n            </div>\n    </div>\n</template>\n<script>\n\nimport searchInput from \"./searchInput.vue\"\nimport sidebar from \"./sidebarView.vue\"\nimport searchView from \"./searchView.vue\"\nimport modeView from \"./modeView.vue\"\nimport maximizeView from \"./maximizeView.vue\"\nimport profileView from \"./profileView.vue\"\nimport profileAdminView from \"./profileAdminView.vue\"\n// import navMenuMixin from \"@/mixins/navMenu.js\"\n\nexport default {\n \n  name: 'indexView',\n    components:{\n        sidebar,\n        searchView,\n        modeView,\n        maximizeView,\n        profileView,\n        profileAdminView,\n        searchInput,\n    },\n  //   },\n    //  data () {\n    //   return {\n    //     filtered: false,\n    //     Login: localStorage.getItem(\"token\")\n    //   };\n    // },\n    data() {\n      \n  return {\n    token: localStorage.getItem('token'),\n    userType: localStorage.getItem('userType') // 'pet_owner' o 'business_owner'\n  };\n},\ncomputed: {\n  isPetOwner() {\n    return this.userType === 'pet_owner';\n  },\n  isBusinessOwner() {\n    return this.userType === 'business_owner';\n  }\n},\n\n// mounted() {\n//   this.token = localStorage.getItem('token');\n//   this.userType = localStorage.getItem('userType');\n// },\n methods: {\n     collapseFilter() {\n        this.filtered = !this.filtered;\n      },\n      // boton para entrar a la pagina de Sesión\n      pageUser(){\n        this.$router.replace('/Sesion');\n      },\n\n        // boton para entrar a la pagina de login****\n      pageLog(){\n              this.$router.replace('/auth/login');        \n            },\n\n     cerrarSesion(){\n      console.log(\"Prueba de entrada\");\n              var myHeaders = new Headers();\n               let tokenBearer = \"Bearer \"+ localStorage.getItem(\"token\");\n                // console.log(\"tokenBearer\",  tokenBearer.toString()  );\n              myHeaders.append(\"Authorization\", tokenBearer.toString() );\n              // myHeaders.append(\"Authorization\", tokenBeare );\n              var requestOptions = {\n                method: 'POST',\n                headers: myHeaders,\n                redirect: 'follow'\n              };\n\n              fetch(\"https://devs-devitm.com/api/pet_owner/logout\", requestOptions)\n              .then(response => response.text())\n              .then(result => {\n                    console.log(\"result:\", result );\n                    let resultado = JSON.parse(result); \n                    if(resultado.status==\"success\"){\n                      console.log(\"status\",resultado.status);\n                      localStorage.removeItem('token');\n                      // this.$router.replace('/');\n                      // localStorage.removeItem('userType');\n                      this.$router.push('/dashboard');\n                      \n                      // this.$router.push('/auth/login'); ..\n                      // this.$router.replace('/auth/login');\n                      window.location.reload(); \n                    //   this.$nextTick(() => {\n                    //     location.reload(); //  actualizar el header\n                    // });\n                    }\n                    else{\n                      // this.$router.push('/auth/login');\n                      // this.$router.replace('/auth/login');\n                      // console.log('/auth/login');\n                      // this.$router.push('/');\n                    }\n                  })\n             .catch(error => console.log('error', error))\n\n              },\n     \n   \n \n       },\n  }\n</script>\n<style scoped>\n    /* Estilos para los botones de texto */\n    .nav-menus button {\n        background: none;\n        border: none;\n        cursor: pointer;\n        color: #333; /* Color por defecto */\n        padding: 5px 10px;\n        /* text-decoration: underline; Subrayado por defecto */\n    }\n\n    .nav-menus button.active {\n        color: blue; /* Color cuando está seleccionado */\n        text-decoration: none; /* Sin subrayado cuando está seleccionado */\n    }\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}