{"ast":null,"code":"import _regeneratorRuntime from \"C:/YARELI/New/VUE/DogToralia/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/YARELI/New/VUE/DogToralia/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport axios from 'axios';\nexport default {\n  props: {\n    negocioId: {\n      type: Number,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      servi: [],\n      // Asegúrate de definir el array para almacenar los servicios\n      colors: ['#FFDDC1', '#FFABAB', '#FFC3A0', '#FF677D', '#D4A5A5', '#392F5A']\n    };\n  },\n  created: function created() {\n    this.obtenerServicios();\n  },\n  methods: {\n    obtenerServicios: function obtenerServicios() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"http://127.0.0.1:8000/api/services/business/\".concat(_this.negocioId));\n            case 3:\n              response = _context.sent;\n              _this.servi = response.data.services.data; // Guarda los datos de los servicios en el array\n              console.log(_this.servi); // Opcional: para ver qué se está guardando\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(\"Error al obtener los servicios:\", _context.t0);\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 8]]);\n      }))();\n    }\n  }\n};\n\n// export default {\n//   props: {\n//     negocioId: {\n//       type: Number,\n//       required: true\n//     }\n//   },\n//   created() {\n//     this.obtenerServicios();\n//   },\n//   methods: {\n//     async obtenerServicios() {\n//       try {\n//         const response = await axios.get(`http://127.0.0.1:8000/api/services/business/${this.negocioId}`);\n//         console.log(response.data);\n//         const result = await response.json();\n//         this.servi = result.services.data;\n//         // Aquí manejas los datos de los servicios\n//       } catch (error) {\n//         console.error(\"Error al obtener los servicios:\", error);\n//       }\n//     }\n//   },\n\n// };","map":{"version":3,"names":["axios","props","negocioId","type","Number","required","data","servi","colors","created","obtenerServicios","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","sent","services","console","log","t0","error","stop"],"sources":["C:\\YARELI\\New\\VUE\\DogToralia\\src\\pages\\admin\\servicio\\servicios.vue"],"sourcesContent":["<template>\r\n    <p>Mostrando servicios para el negocio con ID: {{ negocioId }}</p>\r\n    <div class=\"col-sm-12 col-xl-6\" v-for=\"servi in servi\" :key=\"servi.id\">\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        <h4>{{ servi.name }}</h4>\r\n      </div>\r\n      <div class=\"card-body\">\r\n    <!-- datos -->\r\n    <p class=\"card-text\"><strong>Descripción:</strong> {{ servi.description }}</p>\r\n    <!-- <p class=\"mb-0\">{{ servi.description }}</p> -->\r\n  </div>\r\n      <div class=\"card-footer\">\r\n        <h6 class=\"mb-0\">Precio: {{ servi.price }} {{ servi.currency }}</h6>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  props: {\r\n    negocioId: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      servi: [],  // Asegúrate de definir el array para almacenar los servicios\r\n      colors: ['#FFDDC1', '#FFABAB', '#FFC3A0', '#FF677D', '#D4A5A5', '#392F5A'],\r\n    };\r\n  },\r\n  created() {\r\n    this.obtenerServicios();\r\n  },\r\n  methods: {\r\n    async obtenerServicios() {\r\n      try {\r\n        const response = await axios.get(`http://127.0.0.1:8000/api/services/business/${this.negocioId}`);\r\n        this.servi = response.data.services.data;  // Guarda los datos de los servicios en el array\r\n        console.log(this.servi);  // Opcional: para ver qué se está guardando\r\n      } catch (error) {\r\n        console.error(\"Error al obtener los servicios:\", error);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n// export default {\r\n//   props: {\r\n//     negocioId: {\r\n//       type: Number,\r\n//       required: true\r\n//     }\r\n//   },\r\n//   created() {\r\n//     this.obtenerServicios();\r\n//   },\r\n//   methods: {\r\n//     async obtenerServicios() {\r\n//       try {\r\n//         const response = await axios.get(`http://127.0.0.1:8000/api/services/business/${this.negocioId}`);\r\n//         console.log(response.data);\r\n//         const result = await response.json();\r\n//         this.servi = result.services.data;\r\n//         // Aquí manejas los datos de los servicios\r\n//       } catch (error) {\r\n//         console.error(\"Error al obtener los servicios:\", error);\r\n//       }\r\n//     }\r\n//   },\r\n  \r\n// };\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- <script>\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport default {\r\n//     props: {\r\n//     negocioId: {\r\n//       type: Number,\r\n//       required: true\r\n//     }\r\n//   },\r\n  data() {\r\n    return {\r\n      servi: [],\r\n      error: null,\r\n      negocioId: null\r\n    };\r\n  },\r\n  created() {\r\n    this.listarServicios(this.negocioId);\r\n  },\r\n  methods: {\r\n    detalles(id) {\r\n      this.$router.push({ name: 'detalleMinegocio', params: { id: id } });\r\n    },\r\n   \r\n    async listarServicios() {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\r\n        this.$router.push('/auth/login');\r\n        return;\r\n      }\r\n      try {\r\n        const myHeaders = new Headers();\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        myHeaders.append(\"Authorization\", `Bearer ${token}`);\r\n\r\n        const requestOptions = {\r\n          method: \"GET\",\r\n          headers: myHeaders,\r\n          redirect: \"follow\",\r\n        };\r\n        console.log('negocio:', negocio); // Verificar si negocio está definido\r\n        console.log('negocioId:', this.negocioId); // Verificar si negocioId está definido\r\n        const response = await fetch(`http://127.0.0.1:8000/api/services/business/${this.negocioId}`, requestOptions);\r\n        const result = await response.json();\r\n        this.servi = result.services.data;\r\n       \r\n      } catch (err) {\r\n        console.error('Error al obtener los servicios:', err);\r\n        this.error = 'Error al obtener los detalles de los servicios';\r\n      }\r\n    },\r\n    // eliminar(id) {\r\n    //   Swal.fire({\r\n    //     title: '¿Está seguro de eliminar este servicios?',\r\n    //     icon: 'warning',\r\n    //     showCancelButton: true,\r\n    //     confirmButtonColor: '#3085d6',\r\n    //     cancelButtonColor: '#d33',\r\n    //     confirmButtonText: 'Sí, eliminar',\r\n    //     cancelButtonText: 'Cancelar',\r\n    //   }).then((result) => {\r\n    //     if (result.isConfirmed) {\r\n    //       const token = localStorage.getItem('token');\r\n    //       if (!token) {\r\n    //         this.errorMessage = 'No se encontró ningún token, redireccionando para iniciar sesión';\r\n    //         this.$router.push('/auth/login');\r\n    //         return;\r\n    //       }\r\n\r\n    //       const myHeaders = new Headers();\r\n    //       myHeaders.append(\"Content-Type\", \"application/json\");\r\n    //       myHeaders.append(\"Authorization\", `Bearer ${token}`);\r\n\r\n    //       const requestOptions = {\r\n    //         method: \"DELETE\",\r\n    //         headers: myHeaders,\r\n    //         redirect: \"follow\",\r\n    //       };\r\n\r\n    //       fetch(`http://127.0.0.1:8000/api/business/${id}`, requestOptions)\r\n    //         .then(response => response.json())\r\n    //         .then(result => {\r\n    //           if (result.status === 'success') {\r\n    //             Swal.fire(\r\n    //               'Eliminado!',\r\n    //               'El servicios ha sido eliminado correctamente.',\r\n    //               'success'\r\n    //             );\r\n    //             this.listarNegocios();\r\n    //           } else {\r\n    //             Swal.fire(\r\n    //               'Error!',\r\n    //               result.message || 'Hubo un problema al eliminar el servicios.',\r\n    //               'error'\r\n    //             );\r\n    //           }\r\n    //         })\r\n    //         .catch(err => {\r\n    //           console.error('Error al eliminar el servicios:', err);\r\n    //           Swal.fire(\r\n    //             'Error!',\r\n    //             'Hubo un problema al eliminar el servicios.',\r\n    //             'error'\r\n    //           );\r\n    //         });\r\n    //     }\r\n    //   });\r\n    // },\r\n  },\r\n};\r\n</script> -->"],"mappings":";;;AAoBA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,KAAK,EAAE;IACLC,SAAS,EAAE;MACTC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MAAG;MACZC,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;IAC3E,CAAC;EACH,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAG;IACR,IAAI,CAACC,gBAAgB,CAAC,CAAC;EACzB,CAAC;EACDC,OAAO,EAAE;IACDD,gBAAgB,WAAAA,iBAAA,EAAG;MAAA,IAAAE,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEEtB,KAAK,CAACuB,GAAG,gDAAAC,MAAA,CAAgDZ,KAAI,CAACV,SAAS,CAAE,CAAC;YAAA;cAA3Fe,QAAO,GAAAG,QAAA,CAAAK,IAAA;cACbb,KAAI,CAACL,KAAI,GAAIU,QAAQ,CAACX,IAAI,CAACoB,QAAQ,CAACpB,IAAI,EAAG;cAC3CqB,OAAO,CAACC,GAAG,CAAChB,KAAI,CAACL,KAAK,CAAC,EAAG;cAAAa,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;cAE1BO,OAAO,CAACG,KAAK,CAAC,iCAAiC,EAAAV,QAAA,CAAAS,EAAO,CAAC;YAAA;YAAA;cAAA,OAAAT,QAAA,CAAAW,IAAA;UAAA;QAAA,GAAAf,OAAA;MAAA;IAE3D;EACF;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}