(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=o(e.Vue,e.dateFns))})(this,function(e,o){"use strict";function Xe(){const t=e.useAttrs();return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...t},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Xe.compatConfig={MODE:3};function an(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}an.compatConfig={MODE:3};function wt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}wt.compatConfig={MODE:3};function Mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Mt.compatConfig={MODE:3};function Dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Dt.compatConfig={MODE:3};function St(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}St.compatConfig={MODE:3};function Bt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Bt.compatConfig={MODE:3};const $e=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),Ct=(t,n,l)=>{const a=Tt(t,n,l);return a||K()},On=(t,n,l)=>{const a=n.dateInTz?$e(new Date(t),n.dateInTz):K(t);return l?Te(a,!0):a},Tt=(t,n,l)=>{if(!t)return null;const a=l?Te(K(t),!0):K(t);return n?n.exactMatch?On(t,n,l):$e(a,n.timezone):a},Yn=t=>{if(!t)return 0;const n=new Date,l=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),a=new Date(n.toLocaleString("en-US",{timeZone:t})),r=a.getTimezoneOffset()/60;return(+l-+a)/(1e3*60*60)-r};var Ne=(t=>(t.month="month",t.year="year",t))(Ne||{}),Ke=(t=>(t.top="top",t.bottom="bottom",t))(Ke||{}),xe=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(xe||{}),De=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(De||{});const Vn=["timestamp","date","iso"];var Be=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Be||{}),pe=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(pe||{});function rn(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function _n(t){return n=>o.format($e(new Date(`2017-01-0${n}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const In=(t,n,l)=>{const a=[1,2,3,4,5,6,7];let r;if(t!==null)try{r=a.map(_n(t))}catch{r=a.map(rn(n))}else r=a.map(rn(n));const c=r.slice(0,l),f=r.slice(l+1,r.length);return[r[l]].concat(...f).concat(...c)},$t=(t,n,l)=>{const a=[];for(let r=+t[0];r<=+t[1];r++)a.push({value:+r,text:dn(r,n)});return l?a.reverse():a},ln=(t,n,l)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(c=>{const f=c<10?`0${c}`:c;return new Date(`2017-${f}-01T00:00:00+00:00`)});if(t!==null)try{const c=l==="long"?"LLLL":"LLL";return a.map((f,w)=>{const p=o.format($e(f,"UTC"),c,{locale:t});return{text:p.charAt(0).toUpperCase()+p.substring(1),value:w}})}catch{}const r=new Intl.DateTimeFormat(n,{month:l,timeZone:"UTC"});return a.map((c,f)=>{const w=r.format(c);return{text:w.charAt(0).toUpperCase()+w.substring(1),value:f}})},zn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],we=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},Ln=t=>({type:"dot",...t??{}}),on=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,At={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ve=t=>t,sn=t=>t===0?t:!t||isNaN(+t)?null:+t,un=t=>t===null,cn=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Hn=t=>{const n=[],l=a=>a.filter(r=>r);for(let a=0;a<t.length;a+=3){const r=[t[a],t[a+1],t[a+2]];n.push(l(r))}return n},tt=(t,n,l)=>{const a=l!=null,r=n!=null;if(!a&&!r)return!1;const c=+l,f=+n;return a&&r?+t>c||+t<f:a?+t>c:r?+t<f:!1},Je=(t,n)=>Hn(t).map(l=>l.map(a=>{const{active:r,disabled:c,isBetween:f,highlighted:w}=n(a);return{...a,active:r,disabled:c,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:c,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:c&&r,dp__cell_in_between:f,"dp--highlighted":w}}})),Ie=(t,n,l=!1)=>{t&&n.allowStopPropagation&&(l&&t.stopImmediatePropagation(),t.stopPropagation())},Un=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Wn(t,n){let l=[...document.querySelectorAll(Un())];l=l.filter(r=>!t.contains(r)||r.hasAttribute("data-datepicker-instance"));const a=l.indexOf(t);if(a>=0&&(n?a-1>=0:a+1<=l.length))return l[a+(n?-1:1)]}const Pt=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),dn=(t,n)=>new Intl.NumberFormat(n,{useGrouping:!1,style:"decimal"}).format(t),Rt=t=>o.format(t,"dd-MM-yyyy"),Nt=t=>Array.isArray(t),ct=(t,n)=>n.get(Rt(t)),jn=(t,n)=>t?n?n instanceof Map?!!ct(t,n):n(K(t)):!1:!0,Ce=(t,n,l=!1,a)=>{if(t.key===pe.enter||t.key===pe.space)return l&&t.preventDefault(),n();if(a)return a(t)},Kn=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].some(t=>navigator.userAgent.includes(t))||navigator.userAgent.includes("Mac")&&"ontouchend"in document,fn=(t,n,l,a,r,c)=>{const f=o.parse(t,n.slice(0,t.length),new Date,{locale:c});return o.isValid(f)&&o.isDate(f)?a||r?f:o.set(f,{hours:+l.hours,minutes:+(l==null?void 0:l.minutes),seconds:+(l==null?void 0:l.seconds),milliseconds:0}):null},xn=(t,n,l,a,r,c)=>{const f=Array.isArray(l)?l[0]:l;if(typeof n=="string")return fn(t,n,f,a,r,c);if(Array.isArray(n)){let w=null;for(const p of n)if(w=fn(t,p,f,a,r,c),w)break;return w}return typeof n=="function"?n(t):null},K=t=>t?new Date(t):new Date,qn=(t,n,l)=>{if(n){const r=(t.getMonth()+1).toString().padStart(2,"0"),c=t.getDate().toString().padStart(2,"0"),f=t.getHours().toString().padStart(2,"0"),w=t.getMinutes().toString().padStart(2,"0"),p=l?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${r}-${c}T${f}:${w}:${p}.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},Te=(t,n)=>{const l=K(JSON.parse(JSON.stringify(t))),a=o.set(l,{hours:0,minutes:0,seconds:0,milliseconds:0});return n?o.startOfMonth(a):a},ze=(t,n,l,a)=>{let r=t?K(t):K();return(n||n===0)&&(r=o.setHours(r,+n)),(l||l===0)&&(r=o.setMinutes(r,+l)),(a||a===0)&&(r=o.setSeconds(r,+a)),o.setMilliseconds(r,0)},he=(t,n)=>!t||!n?!1:o.isBefore(Te(t),Te(n)),fe=(t,n)=>!t||!n?!1:o.isEqual(Te(t),Te(n)),ke=(t,n)=>!t||!n?!1:o.isAfter(Te(t),Te(n)),dt=(t,n,l)=>t!=null&&t[0]&&(t!=null&&t[1])?ke(l,t[0])&&he(l,t[1]):t!=null&&t[0]&&n?ke(l,t[0])&&he(l,n)||he(l,t[0])&&ke(l,n):!1,Ee=t=>{const n=o.set(new Date(t),{date:1});return Te(n)},Et=(t,n,l)=>n&&(l||l===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===n?[a,l]:[a,isNaN(+t[a])?void 0:+t[a]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},qe=t=>({hours:o.getHours(t),minutes:o.getMinutes(t),seconds:o.getSeconds(t)}),mn=(t,n)=>{if(n){const l=o.getYear(K(n));if(l>t)return 12;if(l===t)return o.getMonth(K(n))}},pn=(t,n)=>{if(n){const l=o.getYear(K(n));return l<t?-1:l===t?o.getMonth(K(n)):void 0}},Ze=t=>{if(t)return o.getYear(K(t))},gn=(t,n)=>{const l=ke(t,n)?n:t,a=ke(n,t)?n:t;return o.eachDayOfInterval({start:l,end:a})},Gn=t=>{const n=o.addMonths(t,1);return{month:o.getMonth(n),year:o.getYear(n)}},Ve=(t,n)=>{const l=o.startOfWeek(t,{weekStartsOn:+n}),a=o.endOfWeek(t,{weekStartsOn:+n});return[l,a]},yn=(t,n)=>{const l={hours:o.getHours(K()),minutes:o.getMinutes(K()),seconds:n?o.getSeconds(K()):0};return Object.assign(l,t)},Le=(t,n,l)=>[o.set(K(t),{date:1}),o.set(K(),{month:n,year:l,date:1})],_e=(t,n,l)=>{let a=t?K(t):K();return(n||n===0)&&(a=o.setMonth(a,n)),l&&(a=o.setYear(a,l)),a},hn=(t,n,l,a,r)=>{if(!a||r&&!n||!r&&!l)return!1;const c=r?o.addMonths(t,1):o.subMonths(t,1),f=[o.getMonth(c),o.getYear(c)];return r?!Xn(...f,n):!Qn(...f,l)},Qn=(t,n,l)=>he(...Le(l,t,n))||fe(...Le(l,t,n)),Xn=(t,n,l)=>ke(...Le(l,t,n))||fe(...Le(l,t,n)),kn=(t,n,l,a,r,c,f)=>{if(typeof n=="function"&&!f)return n(t);const w=l?{locale:l}:void 0;return Array.isArray(t)?`${o.format(t[0],c,w)}${r&&!t[1]?"":a}${t[1]?o.format(t[1],c,w):""}`:o.format(t,c,w)},Fe=t=>{if(t)return null;throw new Error(At.prop("partial-range"))},ft=(t,n)=>{if(n)return t();throw new Error(At.prop("range"))},Ot=t=>Array.isArray(t)?o.isValid(t[0])&&(t[1]?o.isValid(t[1]):!0):t?o.isValid(t):!1,Jn=(t,n)=>o.set(n??K(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Yt=(t,n,l,a)=>{if(!t)return!0;if(a){const r=l==="max"?o.isBefore(t,n):o.isAfter(t,n),c={seconds:0,milliseconds:0};return r||o.isEqual(o.set(t,c),o.set(n,c))}return l==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},Vt=(t,n,l)=>t?Jn(t,n):K(l??n),bn=(t,n,l,a,r)=>{if(Array.isArray(a)){const f=Vt(t,a[0],n),w=Vt(t,a[1],n);return Yt(a[0],f,l,!!n)&&Yt(a[1],w,l,!!n)&&r}const c=Vt(t,a,n);return Yt(a,c,l,!!n)&&r},_t=t=>o.set(K(),qe(t)),Zn=(t,n)=>t instanceof Map?Array.from(t.values()).filter(l=>o.getYear(K(l))===n).map(l=>o.getMonth(l)):[],vn=(t,n,l)=>typeof t=="function"?t({month:n,year:l}):!!t.months.find(a=>a.month===n&&a.year===l),It=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),wn=t=>o.format(t,"yyyy-MM-dd"),nt=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Mn=()=>{const t=a=>{nt.menuFocused=a},n=a=>{nt.shiftKeyInMenu!==a&&(nt.shiftKeyInMenu=a)};return{control:e.computed(()=>({shiftKeyInMenu:nt.shiftKeyInMenu,menuFocused:nt.menuFocused})),setMenuFocused:t,setShiftKey:n}},ge=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),zt=e.ref(null),mt=e.ref(!1),Lt=e.ref(!1),Ht=e.ref(!1),Ut=e.ref(!1),Se=e.ref(0),be=e.ref(0),He=()=>{const t=e.computed(()=>mt.value?[...ge.selectionGrid,ge.actionRow].filter(m=>m.length):Lt.value?[...ge.timePicker[0],...ge.timePicker[1],Ut.value?[]:[zt.value],ge.actionRow].filter(m=>m.length):Ht.value?[...ge.monthPicker,ge.actionRow]:[ge.monthYear,...ge.calendar,ge.time,ge.actionRow].filter(m=>m.length)),n=m=>{Se.value=m?Se.value+1:Se.value-1;let E=null;t.value[be.value]&&(E=t.value[be.value][Se.value]),!E&&t.value[be.value+(m?1:-1)]?(be.value=be.value+(m?1:-1),Se.value=m?0:t.value[be.value].length-1):E||(Se.value=m?Se.value-1:Se.value+1)},l=m=>{if(be.value===0&&!m||be.value===t.value.length&&m)return;be.value=m?be.value+1:be.value-1,t.value[be.value]?t.value[be.value]&&!t.value[be.value][Se.value]&&Se.value!==0&&(Se.value=t.value[be.value].length-1):be.value=m?be.value-1:be.value+1},a=m=>{let E=null;t.value[be.value]&&(E=t.value[be.value][Se.value]),E?E.focus({preventScroll:!mt.value}):Se.value=m?Se.value-1:Se.value+1},r=()=>{n(!0),a(!0)},c=()=>{n(!1),a(!1)},f=()=>{l(!1),a(!0)},w=()=>{l(!0),a(!0)},p=(m,E)=>{ge[E]=m},z=(m,E)=>{ge[E]=m},h=()=>{Se.value=0,be.value=0};return{buildMatrix:p,buildMultiLevelMatrix:z,setTimePickerBackRef:m=>{zt.value=m},setSelectionGrid:m=>{mt.value=m,h(),m||(ge.selectionGrid=[])},setTimePicker:(m,E=!1)=>{Lt.value=m,Ut.value=E,h(),m||(ge.timePicker[0]=[],ge.timePicker[1]=[])},setTimePickerElements:(m,E=0)=>{ge.timePicker[E]=m},arrowRight:r,arrowLeft:c,arrowUp:f,arrowDown:w,clearArrowNav:()=>{ge.monthYear=[],ge.calendar=[],ge.time=[],ge.actionRow=[],ge.selectionGrid=[],ge.timePicker[0]=[],ge.timePicker[1]=[],mt.value=!1,Lt.value=!1,Ut.value=!1,Ht.value=!1,h(),zt.value=null},setMonthPicker:m=>{Ht.value=m,h()},refSets:ge}},Dn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Fn=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:n=>`Month picker${n?" overlay":""}`,yearPicker:n=>`Year picker${n?" overlay":""}`,timeOverlay:n=>`${n} overlay`,...t??{}}),Sn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,ea=t=>{const n=typeof t=="object"&&t,l={static:!0,solo:!1};if(!t)return{...l,count:Sn(!1)};const a=n?t:{},r=n?a.count??!0:t,c=Sn(r);return Object.assign(l,a,{count:c})},ta=(t,n,l)=>t||(typeof l=="string"?l:n),na=t=>typeof t=="boolean"?t?Dn({}):!1:Dn(t),aa=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},ra=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),la=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),oa=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},sa=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1},...t??{}}),ia=t=>{const n={dates:Array.isArray(t)?t.map(l=>K(l)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},ua=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},ca=t=>{const n={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...n,...t}:{enabled:t,...n}},da=t=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:t.emitTimezone??void 0,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Wt=(t,n,l)=>new Map(t.map(a=>{const r=Ct(a,n,l);return[Rt(r),r]})),fa=(t,n)=>t.length?new Map(t.map(l=>{const a=Ct(l.date,n);return[Rt(a),l]})):null,ma=t=>{var n;return{minDate:Tt(t.minDate,t.timezone,t.isSpecific),maxDate:Tt(t.maxDate,t.timezone,t.isSpecific),disabledDates:Nt(t.disabledDates)?Wt(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Nt(t.allowedDates)?Wt(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Nt((n=t.highlight)==null?void 0:n.dates)?Wt(t.highlight.dates,t.timezone):t.highlight,markers:fa(t.markers,t.timezone)}},pa=t=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:null}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},ga=t=>({...Object.fromEntries(Object.keys(t).map(l=>{const a=l,r=t[a],c=typeof t[a]=="string"?{[r]:!0}:Object.fromEntries(r.map(f=>[f,!0]));return[l,c]}))}),ye=t=>{const n=()=>{const ne=t.enableSeconds?":ss":"",Q=t.enableMinutes?":mm":"";return t.is24?`HH${Q}${ne}`:`hh${Q}${ne} aa`},l=()=>{var ne;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((ne=U.value)==null?void 0:ne.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},a=ne=>yn(ne,t.enableSeconds),r=()=>q.value.enabled?t.startTime&&Array.isArray(t.startTime)?[a(t.startTime[0]),a(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?a(t.startTime):null,c=e.computed(()=>ea(t.multiCalendars)),f=e.computed(()=>r()),w=e.computed(()=>Fn(t.ariaLabels)),p=e.computed(()=>ra(t.filters)),z=e.computed(()=>na(t.transitions)),h=e.computed(()=>la(t.actionRow)),Y=e.computed(()=>ta(t.previewFormat,t.format,l())),v=e.computed(()=>aa(t.textInput)),A=e.computed(()=>oa(t.inline)),H=e.computed(()=>sa(t.config)),_=e.computed(()=>ia(t.highlight)),U=e.computed(()=>ua(t.weekNumbers)),m=e.computed(()=>da(t.timezone)),E=e.computed(()=>pa(t.multiDates)),C=e.computed(()=>ma({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:_.value,markers:t.markers,timezone:m.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),q=e.computed(()=>ca(t.range)),J=e.computed(()=>ga(t.ui));return{defaultedTransitions:z,defaultedMultiCalendars:c,defaultedStartTime:f,defaultedAriaLabels:w,defaultedFilters:p,defaultedActionRow:h,defaultedPreviewFormat:Y,defaultedTextInput:v,defaultedInline:A,defaultedConfig:H,defaultedHighlight:_,defaultedWeekNumbers:U,defaultedRange:q,propDates:C,defaultedTz:m,defaultedMultiDates:E,defaultedUI:J,getDefaultPattern:l,getDefaultStartTime:r}},ya=(t,n,l)=>{const a=e.ref(),{defaultedTextInput:r,defaultedRange:c,defaultedTz:f,defaultedMultiDates:w,getDefaultPattern:p}=ye(n),z=e.ref(""),h=e.toRef(n,"format"),Y=e.toRef(n,"formatLocale");e.watch(a,()=>{typeof n.onInternalModelChange=="function"&&t("internal-model-change",a.value,b(!0))},{deep:!0}),e.watch(c,(i,ee)=>{i.enabled!==ee.enabled&&(a.value=null)}),e.watch(h,()=>{x()});const v=i=>f.value.timezone&&f.value.convertModel?$e(i,f.value.timezone):i,A=i=>{if(f.value.timezone&&f.value.convertModel){const ee=Yn(f.value.timezone);return o.addHours(i,ee)}return i},H=(i,ee,ue=!1)=>kn(i,n.format,n.formatLocale,r.value.rangeSeparator,n.modelAuto,ee??p(),ue),_=i=>i?n.modelType?F(i):{hours:o.getHours(i),minutes:o.getMinutes(i),seconds:n.enableSeconds?o.getSeconds(i):0}:null,U=i=>n.modelType?F(i):{month:o.getMonth(i),year:o.getYear(i)},m=i=>Array.isArray(i)?w.value.enabled?i.map(ee=>E(ee,o.setYear(K(),ee))):ft(()=>[o.setYear(K(),i[0]),i[1]?o.setYear(K(),i[1]):Fe(c.value.partialRange)],c.value.enabled):o.setYear(K(),+i),E=(i,ee)=>(typeof i=="string"||typeof i=="number")&&n.modelType?B(i):ee,C=i=>Array.isArray(i)?[E(i[0],ze(null,+i[0].hours,+i[0].minutes,i[0].seconds)),E(i[1],ze(null,+i[1].hours,+i[1].minutes,i[1].seconds))]:E(i,ze(null,i.hours,i.minutes,i.seconds)),q=i=>{const ee=o.set(K(),{date:1});return Array.isArray(i)?w.value.enabled?i.map(ue=>E(ue,_e(ee,+ue.month,+ue.year))):ft(()=>[E(i[0],_e(ee,+i[0].month,+i[0].year)),E(i[1],i[1]?_e(ee,+i[1].month,+i[1].year):Fe(c.value.partialRange))],c.value.enabled):E(i,_e(ee,+i.month,+i.year))},J=i=>{if(Array.isArray(i))return i.map(ee=>B(ee));throw new Error(At.dateArr("multi-dates"))},ne=i=>{if(Array.isArray(i)&&c.value.enabled){const ee=i[0],ue=i[1];return[K(Array.isArray(ee)?ee[0]:null),K(Array.isArray(ue)?ue[0]:null)]}return K(i[0])},Q=i=>n.modelAuto?Array.isArray(i)?[B(i[0]),B(i[1])]:n.autoApply?[B(i)]:[B(i),null]:Array.isArray(i)?ft(()=>i[1]?[B(i[0]),i[1]?B(i[1]):Fe(c.value.partialRange)]:[B(i[0])],c.value.enabled):B(i),T=()=>{Array.isArray(a.value)&&c.value.enabled&&a.value.length===1&&a.value.push(Fe(c.value.partialRange))},Z=()=>{const i=a.value;return[F(i[0]),i[1]?F(i[1]):Fe(c.value.partialRange)]},R=()=>a.value[1]?Z():F(ve(a.value[0])),G=()=>(a.value||[]).map(i=>F(i)),re=(i=!1)=>(i||T(),n.modelAuto?R():w.value.enabled?G():Array.isArray(a.value)?ft(()=>Z(),c.value.enabled):F(ve(a.value))),se=i=>!i||Array.isArray(i)&&!i.length?null:n.timePicker?C(ve(i)):n.monthPicker?q(ve(i)):n.yearPicker?m(ve(i)):w.value.enabled?J(ve(i)):n.weekPicker?ne(ve(i)):Q(ve(i)),P=i=>{const ee=se(i);Ot(ve(ee))?(a.value=ve(ee),x()):(a.value=null,z.value="")},$=()=>{const i=ee=>o.format(ee,r.value.format);return`${i(a.value[0])} ${r.value.rangeSeparator} ${a.value[1]?i(a.value[1]):""}`},X=()=>l.value&&a.value?Array.isArray(a.value)?$():o.format(a.value,r.value.format):H(a.value),g=()=>a.value?w.value.enabled?a.value.map(i=>H(i)).join("; "):r.value.enabled&&typeof r.value.format=="string"?X():H(a.value):"",x=()=>{!n.format||typeof n.format=="string"||r.value.enabled&&typeof r.value.format=="string"?z.value=g():z.value=n.format(a.value)},B=i=>{if(n.utc){const ee=new Date(i);return n.utc==="preserve"?new Date(ee.getTime()+ee.getTimezoneOffset()*6e4):ee}return n.modelType?Vn.includes(n.modelType)?v(new Date(i)):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?v(o.parse(i,p(),new Date,{locale:Y.value})):v(o.parse(i,n.modelType,new Date,{locale:Y.value})):v(new Date(i))},F=i=>i?n.utc?qn(i,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+A(i):n.modelType==="iso"?A(i).toISOString():n.modelType==="format"&&(typeof n.format=="string"||!n.format)?H(A(i)):H(A(i),n.modelType,!0):A(i):"",le=(i,ee=!1,ue=!1)=>{if(ue)return i;if(t("update:model-value",i),f.value.emitTimezone&&ee){const S=Array.isArray(i)?i.map(ce=>$e(ve(ce),f.value.emitTimezone)):$e(ve(i),f.value.emitTimezone);t("update:model-timezone-value",S)}},d=i=>Array.isArray(a.value)?w.value.enabled?a.value.map(ee=>i(ee)):[i(a.value[0]),a.value[1]?i(a.value[1]):Fe(c.value.partialRange)]:i(ve(a.value)),y=()=>{if(Array.isArray(a.value)){const i=Ve(a.value[0],n.weekStart),ee=a.value[1]?Ve(a.value[1],n.weekStart):[];return[i.map(ue=>K(ue)),ee.map(ue=>K(ue))]}return Ve(a.value,n.weekStart).map(i=>K(i))},L=(i,ee)=>le(ve(d(i)),!1,ee),u=i=>{const ee=y();return i?ee:t("update:model-value",y())},b=(i=!1)=>(i||x(),n.monthPicker?L(U,i):n.timePicker?L(_,i):n.yearPicker?L(o.getYear,i):n.weekPicker?u(i):le(re(i),!0,i));return{inputValue:z,internalModelValue:a,checkBeforeEmit:()=>a.value?c.value.enabled?c.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:P,formatInputValue:x,emitModelValue:b}},ha=(t,n)=>{const{defaultedFilters:l,propDates:a}=ye(t),{validateMonthYearInRange:r}=We(t),c=(h,Y)=>{let v=h;return l.value.months.includes(o.getMonth(v))?(v=Y?o.addMonths(h,1):o.subMonths(h,1),c(v,Y)):v},f=(h,Y)=>{let v=h;return l.value.years.includes(o.getYear(v))?(v=Y?o.addYears(h,1):o.subYears(h,1),f(v,Y)):v},w=(h,Y=!1)=>{const v=o.set(K(),{month:t.month,year:t.year});let A=h?o.addMonths(v,1):o.subMonths(v,1);t.disableYearSelect&&(A=o.setYear(A,t.year));let H=o.getMonth(A),_=o.getYear(A);l.value.months.includes(H)&&(A=c(A,h),H=o.getMonth(A),_=o.getYear(A)),l.value.years.includes(_)&&(A=f(A,h),_=o.getYear(A)),r(H,_,h,t.preventMinMaxNavigation)&&p(H,_,Y)},p=(h,Y,v)=>{n("update-month-year",{month:h,year:Y,fromNav:v})},z=e.computed(()=>h=>hn(o.set(K(),{month:t.month,year:t.year}),a.value.maxDate,a.value.minDate,t.preventMinMaxNavigation,h));return{handleMonthYearChange:w,isDisabled:z,updateMonthYear:p}},pt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Oe={...pt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},ka=["title"],ba=["disabled"],va=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Oe},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const l=n,a=t,{defaultedActionRow:r,defaultedPreviewFormat:c,defaultedMultiCalendars:f,defaultedTextInput:w,defaultedInline:p,defaultedRange:z,defaultedMultiDates:h,getDefaultPattern:Y}=ye(a),{isTimeValid:v,isMonthValid:A}=We(a),{buildMatrix:H}=He(),_=e.ref(null),U=e.ref(null),m=e.ref(!1),E=e.ref({}),C=e.ref(null),q=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&H([we(_),we(U)],"actionRow"),J(),window.addEventListener("resize",J)}),e.onUnmounted(()=>{window.removeEventListener("resize",J)});const J=()=>{m.value=!1,setTimeout(()=>{var g,x;const $=(g=C.value)==null?void 0:g.getBoundingClientRect(),X=(x=q.value)==null?void 0:x.getBoundingClientRect();$&&X&&(E.value.maxWidth=`${X.width-$.width-20}px`),m.value=!0},0)},ne=e.computed(()=>z.value.enabled&&!z.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),Q=e.computed(()=>!v.value(a.internalModelValue)||!A.value(a.internalModelValue)||!ne.value),T=()=>{const $=c.value;return a.timePicker||a.monthPicker,$(ve(a.internalModelValue))},Z=()=>{const $=a.internalModelValue;return f.value.count>0?`${R($[0])} - ${R($[1])}`:[R($[0]),R($[1])]},R=$=>kn($,c.value,a.formatLocale,w.value.rangeSeparator,a.modelAuto,Y()),G=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof c.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?Z():h.value.enabled?a.internalModelValue.map($=>`${R($)}`):a.modelAuto?`${R(a.internalModelValue[0])}`:`${R(a.internalModelValue[0])} -`:R(a.internalModelValue):T()),re=()=>h.value.enabled?"; ":" - ",se=e.computed(()=>Array.isArray(G.value)?G.value.join(re()):G.value),P=()=>{v.value(a.internalModelValue)&&A.value(a.internalModelValue)&&ne.value?l("select-date"):l("invalid-select")};return($,X)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:q,class:"dp__action_row"},[$.$slots["action-row"]?e.renderSlot($.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:$.internalModelValue,disabled:Q.value,selectDate:()=>$.$emit("select-date"),closePicker:()=>$.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(r).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:se.value,style:e.normalizeStyle(E.value)},[$.$slots["action-preview"]&&m.value?e.renderSlot($.$slots,"action-preview",{key:0,value:$.internalModelValue}):e.createCommentVNode("",!0),!$.$slots["action-preview"]&&m.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(se.value),1)],64)):e.createCommentVNode("",!0)],12,ka)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:C,class:"dp__action_buttons","data-dp-element":"action-row"},[$.$slots["action-buttons"]?e.renderSlot($.$slots,"action-buttons",{key:0,value:$.internalModelValue}):e.createCommentVNode("",!0),$.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(p).enabled&&e.unref(r).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:_,type:"button",class:"dp__action_button dp__action_cancel",onClick:X[0]||(X[0]=g=>$.$emit("close-picker")),onKeydown:X[1]||(X[1]=g=>e.unref(Ce)(g,()=>$.$emit("close-picker")))},e.toDisplayString($.cancelText),545)):e.createCommentVNode("",!0),e.unref(r).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:X[2]||(X[2]=g=>$.$emit("select-now")),onKeydown:X[3]||(X[3]=g=>e.unref(Ce)(g,()=>$.$emit("select-now")))},e.toDisplayString($.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(r).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:U,type:"button",class:"dp__action_button dp__action_select",disabled:Q.value,"data-test":"select-button",onKeydown:X[4]||(X[4]=g=>e.unref(Ce)(g,()=>P())),onClick:P},e.toDisplayString($.selectText),41,ba)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),wa=["role","aria-label","tabindex"],Ma={class:"dp__selection_grid_header"},Da=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Sa=["aria-label"],at=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:l}){const{setSelectionGrid:a,buildMultiLevelMatrix:r,setMonthPicker:c}=He(),f=l,w=t,{defaultedAriaLabels:p,defaultedTextInput:z,defaultedConfig:h}=ye(w),{hideNavigationButtons:Y}=ht(),v=e.ref(!1),A=e.ref(null),H=e.ref(null),_=e.ref([]),U=e.ref(),m=e.ref(null),E=e.ref(0),C=e.ref(null);e.onBeforeUpdate(()=>{A.value=null}),e.onMounted(()=>{e.nextTick().then(()=>G()),w.noOverlayFocus||J(),q(!0)}),e.onUnmounted(()=>q(!1));const q=d=>{var y;w.arrowNavigation&&((y=w.headerRefs)!=null&&y.length?c(d):a(d))},J=()=>{var y;const d=we(H);d&&(z.value.enabled||(A.value?(y=A.value)==null||y.focus({preventScroll:!0}):d.focus({preventScroll:!0})),v.value=d.clientHeight<d.scrollHeight)},ne=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!w.useRelative,"dp--overlay-relative":w.useRelative})),Q=e.computed(()=>w.useRelative?{height:`${w.height}px`,width:"260px"}:void 0),T=e.computed(()=>({dp__overlay_col:!0})),Z=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:v.value,dp__button_bottom:w.isLast})),R=e.computed(()=>{var d,y;return{dp__overlay_container:!0,dp__container_flex:((d=w.items)==null?void 0:d.length)<=6,dp__container_block:((y=w.items)==null?void 0:y.length)>6}});e.watch(()=>w.items,()=>G(!1),{deep:!0});const G=(d=!0)=>{e.nextTick().then(()=>{const y=we(A),L=we(H),u=we(m),b=we(C),V=u?u.getBoundingClientRect().height:0;L&&(L.getBoundingClientRect().height?E.value=L.getBoundingClientRect().height-V:E.value=h.value.modeHeight-V),y&&b&&d&&(b.scrollTop=y.offsetTop-b.offsetTop-(E.value/2-y.getBoundingClientRect().height)-V)})},re=d=>{d.disabled||f("selected",d.value)},se=()=>{f("toggle"),f("reset-flow")},P=()=>{w.escClose&&se()},$=(d,y,L,u)=>{d&&((y.active||y.value===w.focusValue)&&(A.value=d),w.arrowNavigation&&(Array.isArray(_.value[L])?_.value[L][u]=d:_.value[L]=[d],X()))},X=()=>{var y,L;const d=(y=w.headerRefs)!=null&&y.length?[w.headerRefs].concat(_.value):_.value.concat([w.skipButtonRef?[]:[m.value]]);r(ve(d),(L=w.headerRefs)!=null&&L.length?"monthPicker":"selectionGrid")},g=d=>{w.arrowNavigation||Ie(d,h.value,!0)},x=d=>{U.value=d,f("hover-value",d)},B=()=>{if(se(),!w.isLast){const d=Pt(w.menuWrapRef??null,"action-row");if(d){const y=cn(d);y==null||y.focus()}}},F=d=>{switch(d.key){case pe.esc:return P();case pe.arrowLeft:return g(d);case pe.arrowRight:return g(d);case pe.arrowUp:return g(d);case pe.arrowDown:return g(d);default:return}},le=d=>{if(d.key===pe.enter)return se();if(d.key===pe.tab)return B()};return n({focusGrid:J}),(d,y)=>{var L;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:H,class:e.normalizeClass(ne.value),style:e.normalizeStyle(Q.value),role:d.useRelative?void 0:"dialog","aria-label":d.overlayLabel,tabindex:d.useRelative?void 0:"0",onKeydown:F,onClick:y[0]||(y[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",{ref_key:"containerRef",ref:C,class:e.normalizeClass(R.value),style:e.normalizeStyle({"--dp-overlay-height":`${E.value}px`}),role:"grid"},[e.createElementVNode("div",Ma,[e.renderSlot(d.$slots,"header")]),d.$slots.overlay?e.renderSlot(d.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(d.items,(u,b)=>(e.openBlock(),e.createElementBlock("div",{key:b,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:d.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u,(V,i)=>(e.openBlock(),e.createElementBlock("div",{key:V.value,ref_for:!0,ref:ee=>$(ee,V,b,i),role:"gridcell",class:e.normalizeClass(T.value),"aria-selected":V.active||void 0,"aria-disabled":V.disabled||void 0,tabindex:"0","data-test":V.text,onClick:e.withModifiers(ee=>re(V),["prevent"]),onKeydown:ee=>e.unref(Ce)(ee,()=>re(V),!0),onMouseover:ee=>x(V.value)},[e.createElementVNode("div",{class:e.normalizeClass(V.className)},[d.$slots.item?e.renderSlot(d.$slots,"item",{key:0,item:V}):e.createCommentVNode("",!0),d.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(V.text),1)],64))],2)],42,Da))),128))],2))),128))],6),d.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:m,type:"button","aria-label":(L=e.unref(p))==null?void 0:L.toggleOverlay,class:e.normalizeClass(Z.value),tabindex:"0",onClick:se,onKeydown:le},[e.renderSlot(d.$slots,"button-icon")],42,Sa)),[[e.vShow,!e.unref(Y)(d.hideNavigation,d.type)]]):e.createCommentVNode("",!0)],46,wa)}}}),gt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,l=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),a=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(r,c)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(f,w)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:e.normalizeClass(a.value)},[e.renderSlot(r.$slots,"default",{instance:f,index:w})],2))),128))],2))}}),Ba=["data-dp-element","aria-label","aria-disabled"],rt=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const l=n,a=e.ref(null);return e.onMounted(()=>l("set-ref",a)),(r,c)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:a,type:"button","data-dp-element":r.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:c[0]||(c[0]=f=>r.$emit("activate")),onKeydown:c[1]||(c[1]=f=>e.unref(Ce)(f,()=>r.$emit("activate"),!0))},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[e.renderSlot(r.$slots,"default")],2)],40,Ba))}}),Ca=["aria-label","data-test"],Bn=e.defineComponent({__name:"YearModePicker",props:{...Oe,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const l=n,a=t,{showRightIcon:r,showLeftIcon:c}=ht(),{defaultedConfig:f,defaultedMultiCalendars:w,defaultedAriaLabels:p,defaultedTransitions:z,defaultedUI:h}=ye(a),{showTransition:Y,transitionName:v}=lt(z),A=e.ref(!1),H=(m=!1,E)=>{A.value=!A.value,l("toggle-year-picker",{flow:m,show:E})},_=m=>{A.value=!1,l("year-select",m)},U=(m=!1)=>{l("handle-year",m)};return(m,E)=>{var C,q,J,ne,Q;return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:e.normalizeClass(["dp--year-mode-picker",{"dp--hidden-el":A.value}])},[e.unref(c)(e.unref(w),t.instance)?(e.openBlock(),e.createBlock(rt,{key:0,ref:"mpPrevIconRef","aria-label":(C=e.unref(p))==null?void 0:C.prevYear,disabled:t.isDisabled(!1),class:e.normalizeClass((q=e.unref(h))==null?void 0:q.navBtnPrev),onActivate:E[0]||(E[0]=T=>U(!1))},{default:e.withCtx(()=>[m.$slots["arrow-left"]?e.renderSlot(m.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${t.year}-${(J=e.unref(p))==null?void 0:J.openYearsOverlay}`,"data-test":`year-mode-btn-${t.instance}`,onClick:E[1]||(E[1]=()=>H(!1)),onKeydown:E[2]||(E[2]=e.withKeys(()=>H(!1),["enter"]))},[m.$slots.year?e.renderSlot(m.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),m.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ca),e.unref(r)(e.unref(w),t.instance)?(e.openBlock(),e.createBlock(rt,{key:1,ref:"mpNextIconRef","aria-label":(ne=e.unref(p))==null?void 0:ne.nextYear,disabled:t.isDisabled(!0),class:e.normalizeClass((Q=e.unref(h))==null?void 0:Q.navBtnNext),onActivate:E[3]||(E[3]=T=>U(!0))},{default:e.withCtx(()=>[m.$slots["arrow-right"]?e.renderSlot(m.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0)],2),e.createVNode(e.Transition,{name:e.unref(v)(t.showYearPicker),css:e.unref(Y)},{default:e.withCtx(()=>{var T,Z;return[t.showYearPicker?(e.openBlock(),e.createBlock(at,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!e.unref(f).keepActionRow,"hide-navigation":m.hideNavigation,"aria-labels":m.ariaLabels,"overlay-label":(Z=(T=e.unref(p))==null?void 0:T.yearPicker)==null?void 0:Z.call(T,!0),type:"year",onToggle:H,onSelected:E[4]||(E[4]=R=>_(R))},e.createSlots({"button-icon":e.withCtx(()=>[m.$slots["calendar-icon"]?e.renderSlot(m.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),m.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:R})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:R.text,value:R.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64)}}}),jt=(t,n,l)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(a=>fe(t,a))){const a=n.value.filter(r=>!fe(r,t));n.value=a.length?a:null}else(l&&+l>n.value.length||!l)&&n.value.push(t);else n.value=[t]},Kt=(t,n,l)=>{let a=t.value?t.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?he(n,a[0])?(a.unshift(n),l("range-start",a[0]),l("range-start",a[1])):(a[1]=n,l("range-end",n)):(a=[n],l("range-start",n)),a},yt=(t,n,l,a)=>{t&&(t[0]&&t[1]&&l&&n("auto-apply"),t[0]&&!t[1]&&a&&l&&n("auto-apply"))},Cn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>$e(K(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=$e(K(t.value),t.timezone))},Tn=(t,n,l,a)=>Array.isArray(n.value)&&(n.value.length===2||n.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(ke(t,n.value[0])||fe(t,n.value[0]))?[n.value[0],t]:a.value.fixedEnd&&(he(t,n.value[1])||fe(t,n.value[1]))?[t,n.value[1]]:(l("invalid-fixed-range",t),n.value):[],$n=({multiCalendars:t,range:n,highlight:l,propDates:a,calendars:r,modelValue:c,props:f,filters:w,year:p,month:z,emit:h})=>{const Y=e.computed(()=>$t(f.yearRange,f.locale,f.reverseYears)),v=e.ref([!1]),A=e.computed(()=>(R,G)=>{const re=o.set(Ee(new Date),{month:z.value(R),year:p.value(R)}),se=G?o.endOfYear(re):o.startOfYear(re);return hn(se,a.value.maxDate,a.value.minDate,f.preventMinMaxNavigation,G)}),H=()=>Array.isArray(c.value)&&t.value.solo&&c.value[1],_=()=>{for(let R=0;R<t.value.count;R++)if(R===0)r.value[R]=r.value[0];else if(R===t.value.count-1&&H())r.value[R]={month:o.getMonth(c.value[1]),year:o.getYear(c.value[1])};else{const G=o.set(K(),r.value[R-1]);r.value[R]={month:o.getMonth(G),year:o.getYear(o.addYears(G,1))}}},U=R=>{if(!R)return _();const G=o.set(K(),r.value[R]);return r.value[0].year=o.getYear(o.subYears(G,t.value.count-1)),_()},m=(R,G)=>{const re=o.differenceInYears(G,R);return n.value.showLastInRange&&re>1?G:R},E=R=>f.focusStartDate||t.value.solo?R[0]:R[1]?m(R[0],R[1]):R[0],C=()=>{if(c.value){const R=Array.isArray(c.value)?E(c.value):c.value;r.value[0]={month:o.getMonth(R),year:o.getYear(R)}}},q=()=>{C(),t.value.count&&_()};e.watch(c,(R,G)=>{f.isTextInputDate&&JSON.stringify(R??{})!==JSON.stringify(G??{})&&q()}),e.onMounted(()=>{q()});const J=(R,G)=>{r.value[G].year=R,h("update-month-year",{instance:G,year:R,month:r.value[G].month}),t.value.count&&!t.value.solo&&U(G)},ne=e.computed(()=>R=>Je(Y.value,G=>{var $;const re=p.value(R)===G.value,se=tt(G.value,Ze(a.value.minDate),Ze(a.value.maxDate))||(($=w.value.years)==null?void 0:$.includes(p.value(R))),P=It(l.value,G.value);return{active:re,disabled:se,highlighted:P}})),Q=(R,G)=>{J(R,G),Z(G)},T=(R,G=!1)=>{if(!A.value(R,G)){const re=G?p.value(R)+1:p.value(R)-1;J(re,R)}},Z=(R,G=!1,re)=>{G||h("reset-flow"),re!==void 0?v.value[R]=re:v.value[R]=!v.value[R],v.value[R]?h("overlay-toggle",{open:!0,overlay:De.year}):(h("overlay-closed"),h("overlay-toggle",{open:!1,overlay:De.year}))};return{isDisabled:A,groupedYears:ne,showYearPicker:v,selectYear:J,toggleYearPicker:Z,handleYearSelect:Q,handleYear:T}},Ta=(t,n)=>{const{defaultedMultiCalendars:l,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:c,defaultedRange:f,defaultedHighlight:w,propDates:p,defaultedTz:z,defaultedFilters:h,defaultedMultiDates:Y}=ye(t),v=()=>{t.isTextInputDate&&q(o.getYear(K(t.startDate)),0)},{modelValue:A,year:H,month:_,calendars:U}=ot(t,n,v),m=e.computed(()=>ln(t.formatLocale,t.locale,t.monthNameFormat)),E=e.ref(null),{checkMinMaxRange:C}=We(t),{selectYear:q,groupedYears:J,showYearPicker:ne,toggleYearPicker:Q,handleYearSelect:T,handleYear:Z,isDisabled:R}=$n({modelValue:A,multiCalendars:l,range:f,highlight:w,calendars:U,year:H,propDates:p,month:_,filters:h,props:t,emit:n});e.onMounted(()=>{t.startDate&&(A.value&&t.focusStartDate||!A.value)&&q(o.getYear(K(t.startDate)),0)});const G=b=>b?{month:o.getMonth(b),year:o.getYear(b)}:{month:null,year:null},re=()=>A.value?Array.isArray(A.value)?A.value.map(b=>G(b)):G(A.value):G(),se=(b,V)=>{const i=U.value[b],ee=re();return Array.isArray(ee)?ee.some(ue=>ue.year===(i==null?void 0:i.year)&&ue.month===V):(i==null?void 0:i.year)===ee.year&&V===ee.month},P=(b,V,i)=>{var ue,S;const ee=re();return Array.isArray(ee)?H.value(V)===((ue=ee[i])==null?void 0:ue.year)&&b===((S=ee[i])==null?void 0:S.month):!1},$=(b,V)=>{if(f.value.enabled){const i=re();if(Array.isArray(A.value)&&Array.isArray(i)){const ee=P(b,V,0)||P(b,V,1),ue=_e(Ee(K()),b,H.value(V));return dt(A.value,E.value,ue)&&!ee}return!1}return!1},X=e.computed(()=>b=>Je(m.value,V=>{var ce;const i=se(b,V.value),ee=tt(V.value,mn(H.value(b),p.value.minDate),pn(H.value(b),p.value.maxDate))||Zn(p.value.disabledDates,H.value(b)).includes(V.value)||((ce=h.value.months)==null?void 0:ce.includes(V.value)),ue=$(V.value,b),S=vn(w.value,V.value,H.value(b));return{active:i,disabled:ee,isBetween:ue,highlighted:S}})),g=(b,V)=>_e(Ee(K()),b,H.value(V)),x=(b,V)=>{const i=A.value?A.value:Ee(new Date);A.value=_e(i,b,H.value(V)),n("auto-apply"),n("update-flow-step")},B=(b,V)=>{const i=g(b,V);f.value.fixedEnd||f.value.fixedStart?A.value=Tn(i,A,n,f):A.value?C(i,A.value)&&(A.value=Kt(A,g(b,V),n)):A.value=[g(b,V)],e.nextTick().then(()=>{yt(A.value,n,t.autoApply,t.modelAuto)})},F=(b,V)=>{jt(g(b,V),A,Y.value.limit),n("auto-apply",!0)},le=(b,V)=>(U.value[V].month=b,y(V,U.value[V].year,b),Y.value.enabled?F(b,V):f.value.enabled?B(b,V):x(b,V)),d=(b,V)=>{q(b,V),y(V,b,null)},y=(b,V,i)=>{let ee=i;if(!ee&&ee!==0){const ue=re();ee=Array.isArray(ue)?ue[b].month:ue.month}n("update-month-year",{instance:b,year:V,month:ee})};return{groupedMonths:X,groupedYears:J,year:H,isDisabled:R,defaultedMultiCalendars:l,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:c,showYearPicker:ne,modelValue:A,presetDate:(b,V)=>{Cn({value:b,modelValue:A,range:f.value.enabled,timezone:V?void 0:z.value.timezone}),n("auto-apply")},setHoverDate:(b,V)=>{E.value=g(b,V)},selectMonth:le,selectYear:d,toggleYearPicker:Q,handleYearSelect:T,handleYear:Z,getModelMonthYear:re}},$a=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Oe},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=e.useSlots(),c=Ae(r,"yearMode"),f=t;e.onMounted(()=>{f.shadow||a("mount",null)});const{groupedMonths:w,groupedYears:p,year:z,isDisabled:h,defaultedMultiCalendars:Y,defaultedConfig:v,showYearPicker:A,modelValue:H,presetDate:_,setHoverDate:U,selectMonth:m,selectYear:E,toggleYearPicker:C,handleYearSelect:q,handleYear:J,getModelMonthYear:ne}=Ta(f,a);return n({getSidebarProps:()=>({modelValue:H,year:z,getModelMonthYear:ne,selectMonth:m,selectYear:E,handleYear:J}),presetDate:_,toggleYearPicker:T=>C(0,T)}),(T,Z)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":e.unref(Y).count,collapse:T.collapse,stretch:""},{default:e.withCtx(({instance:R})=>[T.$slots["top-extra"]?e.renderSlot(T.$slots,"top-extra",{key:0,value:T.internalModelValue}):e.createCommentVNode("",!0),T.$slots["month-year"]?e.renderSlot(T.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{year:e.unref(z),months:e.unref(w)(R),years:e.unref(p)(R),selectMonth:e.unref(m),selectYear:e.unref(E),instance:R}))):(e.openBlock(),e.createBlock(at,{key:2,items:e.unref(w)(R),"arrow-navigation":T.arrowNavigation,"is-last":T.autoApply&&!e.unref(v).keepActionRow,"esc-close":T.escClose,height:e.unref(v).modeHeight,config:T.config,"no-overlay-focus":!!(T.noOverlayFocus||T.textInput),"use-relative":"",type:"month",onSelected:G=>e.unref(m)(G,R),onHoverValue:G=>e.unref(U)(G,R)},e.createSlots({header:e.withCtx(()=>[e.createVNode(Bn,e.mergeProps(T.$props,{items:e.unref(p)(R),instance:R,"show-year-picker":e.unref(A)[R],year:e.unref(z)(R),"is-disabled":G=>e.unref(h)(R,G),onHandleYear:G=>e.unref(J)(R,G),onYearSelect:G=>e.unref(q)(G,R),onToggleYearPicker:G=>e.unref(C)(R,G==null?void 0:G.flow,G==null?void 0:G.show)}),e.createSlots({_:2},[e.renderList(e.unref(c),(G,re)=>({name:G,fn:e.withCtx(se=>[e.renderSlot(T.$slots,G,e.normalizeProps(e.guardReactiveProps(se)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[T.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:G})=>[e.renderSlot(T.$slots,"month-overlay-value",{text:G.text,value:G.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Aa=(t,n)=>{const l=()=>{t.isTextInputDate&&(h.value=o.getYear(K(t.startDate)))},{modelValue:a}=ot(t,n,l),r=e.ref(null),{defaultedHighlight:c,defaultedMultiDates:f,defaultedFilters:w,defaultedRange:p,propDates:z}=ye(t),h=e.ref();e.onMounted(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&(h.value=o.getYear(K(t.startDate)))});const Y=m=>Array.isArray(a.value)?a.value.some(E=>o.getYear(E)===m):a.value?o.getYear(a.value)===m:!1,v=m=>p.value.enabled&&Array.isArray(a.value)?dt(a.value,r.value,H(m)):!1,A=e.computed(()=>Je($t(t.yearRange,t.locale,t.reverseYears),m=>{const E=Y(m.value),C=tt(m.value,Ze(z.value.minDate),Ze(z.value.maxDate))||w.value.years.includes(m.value),q=v(m.value)&&!E,J=It(c.value,m.value);return{active:E,disabled:C,isBetween:q,highlighted:J}})),H=m=>o.setYear(Ee(o.startOfYear(new Date)),m);return{groupedYears:A,modelValue:a,focusYear:h,setHoverValue:m=>{r.value=o.setYear(Ee(new Date),m)},selectYear:m=>{var E;if(n("update-month-year",{instance:0,year:m}),f.value.enabled)return a.value?Array.isArray(a.value)&&(((E=a.value)==null?void 0:E.map(q=>o.getYear(q))).includes(m)?a.value=a.value.filter(q=>o.getYear(q)!==m):a.value.push(o.setYear(Te(K()),m))):a.value=[o.setYear(Te(o.startOfYear(K())),m)],n("auto-apply",!0);p.value.enabled?(a.value=Kt(a,H(m),n),e.nextTick().then(()=>{yt(a.value,n,t.autoApply,t.modelAuto)})):(a.value=H(m),n("auto-apply"))}}},Pa=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Oe},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:l}){const a=l,r=t,{groupedYears:c,modelValue:f,focusYear:w,selectYear:p,setHoverValue:z}=Aa(r,a),{defaultedConfig:h}=ye(r);return n({getSidebarProps:()=>({modelValue:f,selectYear:p})}),(v,A)=>(e.openBlock(),e.createElementBlock("div",null,[v.$slots["top-extra"]?e.renderSlot(v.$slots,"top-extra",{key:0,value:v.internalModelValue}):e.createCommentVNode("",!0),v.$slots["month-year"]?e.renderSlot(v.$slots,"month-year",e.normalizeProps(e.mergeProps({key:1},{years:e.unref(c),selectYear:e.unref(p)}))):(e.openBlock(),e.createBlock(at,{key:2,items:e.unref(c),"is-last":v.autoApply&&!e.unref(h).keepActionRow,height:e.unref(h).modeHeight,config:v.config,"no-overlay-focus":!!(v.noOverlayFocus||v.textInput),"focus-value":e.unref(w),type:"year","use-relative":"",onSelected:e.unref(p),onHoverValue:e.unref(z)},e.createSlots({_:2},[v.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:H})=>[e.renderSlot(v.$slots,"year-overlay-value",{text:H.text,value:H.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Ra={key:0,class:"dp__time_input"},Na=["data-test","aria-label","onKeydown","onClick","onMousedown"],Ea=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Oa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ya=["aria-label","disabled","data-test","onKeydown","onClick"],Va=["data-test","aria-label","onKeydown","onClick","onMousedown"],_a=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ia=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),za={key:0},La=["aria-label"],Ha=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Oe},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:n,emit:l}){const a=l,r=t,{setTimePickerElements:c,setTimePickerBackRef:f}=He(),{defaultedAriaLabels:w,defaultedTransitions:p,defaultedFilters:z,defaultedConfig:h,defaultedRange:Y}=ye(r),{transitionName:v,showTransition:A}=lt(p),H=e.reactive({hours:!1,minutes:!1,seconds:!1}),_=e.ref("AM"),U=e.ref(null),m=e.ref([]),E=e.ref(),C=e.ref(!1);e.onMounted(()=>{a("mounted")});const q=s=>o.set(new Date,{hours:s.hours,minutes:s.minutes,seconds:r.enableSeconds?s.seconds:0,milliseconds:0}),J=e.computed(()=>s=>g(s,r[s])||Q(s,r[s])),ne=e.computed(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),Q=(s,O)=>Y.value.enabled&&!Y.value.disableTimeRangeValidation?!r.validateTime(s,O):!1,T=(s,O)=>{if(Y.value.enabled&&!Y.value.disableTimeRangeValidation){const N=O?+r[`${s}Increment`]:-+r[`${s}Increment`],W=r[s]+N;return!r.validateTime(s,W)}return!1},Z=e.computed(()=>s=>!d(+r[s]+ +r[`${s}Increment`],s)||T(s,!0)),R=e.computed(()=>s=>!d(+r[s]-+r[`${s}Increment`],s)||T(s,!1)),G=(s,O)=>o.add(o.set(K(),s),O),re=(s,O)=>o.sub(o.set(K(),s),O),se=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),P=e.computed(()=>{const s=[{type:"hours"}];return r.enableMinutes&&s.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&s.push({type:"",separator:!0},{type:"seconds"}),s}),$=e.computed(()=>P.value.filter(s=>!s.separator)),X=e.computed(()=>s=>{if(s==="hours"){const O=i(+r.hours);return{text:O<10?`0${O}`:`${O}`,value:O}}return{text:r[s]<10?`0${r[s]}`:`${r[s]}`,value:r[s]}}),g=(s,O)=>{var W;if(!r.disabledTimesConfig)return!1;const N=r.disabledTimesConfig(r.order,s==="hours"?O:void 0);return N[s]?!!((W=N[s])!=null&&W.includes(O)):!0},x=(s,O)=>O!=="hours"||_.value==="AM"?s:s+12,B=s=>{const O=r.is24?24:12,N=s==="hours"?O:60,W=+r[`${s}GridIncrement`],ae=s==="hours"&&!r.is24?W:0,D=[];for(let I=ae;I<N;I+=W)D.push({value:r.is24?I:x(I,s),text:I<10?`0${I}`:`${I}`});return s==="hours"&&!r.is24&&D.unshift({value:_.value==="PM"?12:0,text:"12"}),Je(D,I=>({active:!1,disabled:z.value.times[s].includes(I.value)||!d(I.value,s)||g(s,I.value)||Q(s,I.value)}))},F=s=>s>=0?s:59,le=s=>s>=0?s:23,d=(s,O)=>{const N=r.minTime?q(Et(r.minTime)):null,W=r.maxTime?q(Et(r.maxTime)):null,ae=q(Et(ne.value,O,O==="minutes"||O==="seconds"?F(s):le(s)));return N&&W?(o.isBefore(ae,W)||o.isEqual(ae,W))&&(o.isAfter(ae,N)||o.isEqual(ae,N)):N?o.isAfter(ae,N)||o.isEqual(ae,N):W?o.isBefore(ae,W)||o.isEqual(ae,W):!0},y=s=>r[`no${s[0].toUpperCase()+s.slice(1)}Overlay`],L=s=>{y(s)||(H[s]=!H[s],H[s]?(C.value=!0,a("overlay-opened",s)):(C.value=!1,a("overlay-closed",s)))},u=s=>s==="hours"?o.getHours:s==="minutes"?o.getMinutes:o.getSeconds,b=()=>{E.value&&clearTimeout(E.value)},V=(s,O=!0,N)=>{const W=O?G:re,ae=O?+r[`${s}Increment`]:-+r[`${s}Increment`];d(+r[s]+ae,s)&&a(`update:${s}`,u(s)(W({[s]:+r[s]},{[s]:+r[`${s}Increment`]}))),!(N!=null&&N.keyboard)&&h.value.timeArrowHoldThreshold&&(E.value=setTimeout(()=>{V(s,O)},h.value.timeArrowHoldThreshold))},i=s=>r.is24?s:(s>=12?_.value="PM":_.value="AM",zn(s)),ee=()=>{_.value==="PM"?(_.value="AM",a("update:hours",r.hours-12)):(_.value="PM",a("update:hours",r.hours+12)),a("am-pm-change",_.value)},ue=s=>{H[s]=!0},S=(s,O,N)=>{if(s&&r.arrowNavigation){Array.isArray(m.value[O])?m.value[O][N]=s:m.value[O]=[s];const W=m.value.reduce((ae,D)=>D.map((I,oe)=>[...ae[oe]||[],D[oe]]),[]);f(r.closeTimePickerBtn),U.value&&(W[1]=W[1].concat(U.value)),c(W,r.order)}},ce=(s,O)=>(L(s),a(`update:${s}`,O));return n({openChildCmp:ue}),(s,O)=>{var N;return s.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ra,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(P.value,(W,ae)=>{var D,I,oe;return e.openBlock(),e.createElementBlock("div",{key:ae,class:e.normalizeClass(se.value)},[W.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[C.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(":")],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:de=>S(de,ae,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!s.timePickerInline,dp__inc_dec_button_inline:s.timePickerInline,dp__tp_inline_btn_top:s.timePickerInline,dp__inc_dec_button_disabled:Z.value(W.type),"dp--hidden-el":C.value}),"data-test":`${W.type}-time-inc-btn-${r.order}`,"aria-label":(D=e.unref(w))==null?void 0:D.incrementValue(W.type),tabindex:"0",onKeydown:de=>e.unref(Ce)(de,()=>V(W.type,!0,{keyboard:!0}),!0),onClick:de=>e.unref(h).timeArrowHoldThreshold?void 0:V(W.type,!0),onMousedown:de=>e.unref(h).timeArrowHoldThreshold?V(W.type,!0):void 0,onMouseup:b},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[s.$slots["tp-inline-arrow-up"]?e.renderSlot(s.$slots,"tp-inline-arrow-up",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Ea,Oa],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[s.$slots["arrow-up"]?e.renderSlot(s.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),s.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))],64))],42,Na),e.createElementVNode("button",{ref_for:!0,ref:de=>S(de,ae,1),type:"button","aria-label":`${X.value(W.type).text}-${(I=e.unref(w))==null?void 0:I.openTpOverlay(W.type)}`,class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!s.timePickerInline,dp__time_display_inline:s.timePickerInline,"dp--time-invalid":J.value(W.type),"dp--time-overlay-btn":!J.value(W.type),"dp--hidden-el":C.value}),disabled:y(W.type),tabindex:"0","data-test":`${W.type}-toggle-overlay-btn-${r.order}`,onKeydown:de=>e.unref(Ce)(de,()=>L(W.type),!0),onClick:de=>L(W.type)},[s.$slots[W.type]?e.renderSlot(s.$slots,W.type,{key:0,text:X.value(W.type).text,value:X.value(W.type).value}):e.createCommentVNode("",!0),s.$slots[W.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(X.value(W.type).text),1)],64))],42,Ya),e.createElementVNode("button",{ref_for:!0,ref:de=>S(de,ae,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!s.timePickerInline,dp__inc_dec_button_inline:s.timePickerInline,dp__tp_inline_btn_bottom:s.timePickerInline,dp__inc_dec_button_disabled:R.value(W.type),"dp--hidden-el":C.value}),"data-test":`${W.type}-time-dec-btn-${r.order}`,"aria-label":(oe=e.unref(w))==null?void 0:oe.decrementValue(W.type),tabindex:"0",onKeydown:de=>e.unref(Ce)(de,()=>V(W.type,!1,{keyboard:!0}),!0),onClick:de=>e.unref(h).timeArrowHoldThreshold?void 0:V(W.type,!1),onMousedown:de=>e.unref(h).timeArrowHoldThreshold?V(W.type,!1):void 0,onMouseup:b},[r.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[s.$slots["tp-inline-arrow-down"]?e.renderSlot(s.$slots,"tp-inline-arrow-down",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[_a,Ia],64))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[s.$slots["arrow-down"]?e.renderSlot(s.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),s.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Bt),{key:1}))],64))],42,Va)],64))],2)}),128)),s.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",za,[s.$slots["am-pm-button"]?e.renderSlot(s.$slots,"am-pm-button",{key:0,toggle:ee,value:_.value}):e.createCommentVNode("",!0),s.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:U,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(N=e.unref(w))==null?void 0:N.amPmButton,tabindex:"0",onClick:ee,onKeydown:O[0]||(O[0]=W=>e.unref(Ce)(W,()=>ee(),!0))},e.toDisplayString(_.value),41,La))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList($.value,(W,ae)=>(e.openBlock(),e.createBlock(e.Transition,{key:ae,name:e.unref(v)(H[W.type]),css:e.unref(A)},{default:e.withCtx(()=>{var D,I;return[H[W.type]?(e.openBlock(),e.createBlock(at,{key:0,items:B(W.type),"is-last":s.autoApply&&!e.unref(h).keepActionRow,"esc-close":s.escClose,type:W.type,"text-input":s.textInput,config:s.config,"arrow-navigation":s.arrowNavigation,"aria-labels":s.ariaLabels,"overlay-label":(I=(D=e.unref(w)).timeOverlay)==null?void 0:I.call(D,W.type),onSelected:oe=>ce(W.type,oe),onToggle:oe=>L(W.type),onResetFlow:O[1]||(O[1]=oe=>s.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[s.$slots["clock-icon"]?e.renderSlot(s.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),s.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(s.timePickerInline?e.unref(Xe):e.unref(Dt)),{key:1}))]),_:2},[s.$slots[`${W.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:oe})=>[e.renderSlot(s.$slots,`${W.type}-overlay-value`,{text:oe.text,value:oe.value})]),key:"0"}:void 0,s.$slots[`${W.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(s.$slots,`${W.type}-overlay-header`,{toggle:()=>L(W.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),Ua={class:"dp--tp-wrap"},Wa=["aria-label","tabindex"],ja=["role","aria-label","tabindex"],Ka=["aria-label"],An=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Oe},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:l}){const a=l,r=t,{buildMatrix:c,setTimePicker:f}=He(),w=e.useSlots(),{defaultedTransitions:p,defaultedAriaLabels:z,defaultedTextInput:h,defaultedConfig:Y,defaultedRange:v}=ye(r),{transitionName:A,showTransition:H}=lt(p),{hideNavigationButtons:_}=ht(),U=e.ref(null),m=e.ref(null),E=e.ref([]),C=e.ref(null),q=e.ref(!1);e.onMounted(()=>{a("mount"),!r.timePicker&&r.arrowNavigation?c([we(U.value)],"time"):f(!0,r.timePicker)});const J=e.computed(()=>v.value.enabled&&r.modelAuto?on(r.internalModelValue):!0),ne=e.ref(!1),Q=B=>({hours:Array.isArray(r.hours)?r.hours[B]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[B]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[B]:r.seconds}),T=e.computed(()=>{const B=[];if(v.value.enabled)for(let F=0;F<2;F++)B.push(Q(F));else B.push(Q(0));return B}),Z=(B,F=!1,le="")=>{F||a("reset-flow"),ne.value=B,a(B?"overlay-opened":"overlay-closed",De.time),r.arrowNavigation&&f(B),e.nextTick(()=>{le!==""&&E.value[0]&&E.value[0].openChildCmp(le)})},R=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!Y.value.keepActionRow})),G=Ae(w,"timePicker"),re=(B,F,le)=>v.value.enabled?F===0?[B,T.value[1][le]]:[T.value[0][le],B]:B,se=B=>{a("update:hours",B)},P=B=>{a("update:minutes",B)},$=B=>{a("update:seconds",B)},X=()=>{if(C.value&&!h.value.enabled&&!r.noOverlayFocus){const B=cn(C.value);B&&B.focus({preventScroll:!0})}},g=B=>{q.value=!1,a("overlay-closed",B)},x=B=>{q.value=!0,a("overlay-opened",B)};return n({toggleTimePicker:Z}),(B,F)=>{var le;return e.openBlock(),e.createElementBlock("div",Ua,[!B.timePicker&&!B.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:U,type:"button",class:e.normalizeClass({...R.value,"dp--hidden-el":ne.value}),"aria-label":(le=e.unref(z))==null?void 0:le.openTimePicker,tabindex:B.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:F[0]||(F[0]=d=>e.unref(Ce)(d,()=>Z(!0))),onClick:F[1]||(F[1]=d=>Z(!0))},[B.$slots["clock-icon"]?e.renderSlot(B.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),B.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],42,Wa)),[[e.vShow,!e.unref(_)(B.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(A)(ne.value),css:e.unref(H)&&!B.timePickerInline},{default:e.withCtx(()=>{var d,y;return[ne.value||B.timePicker||B.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:C,role:B.timePickerInline?void 0:"dialog",class:e.normalizeClass({dp__overlay:!B.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!B.timePickerInline,"dp--overlay-relative":r.timePicker}),style:e.normalizeStyle(B.timePicker?{height:`${e.unref(Y).modeHeight}px`}:void 0),"aria-label":(d=e.unref(z))==null?void 0:d.timePicker,tabindex:B.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(B.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[B.$slots["time-picker-overlay"]?e.renderSlot(B.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:se,setMinutes:P,setSeconds:$}):e.createCommentVNode("",!0),B.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(B.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T.value,(L,u)=>e.withDirectives((e.openBlock(),e.createBlock(Ha,e.mergeProps({key:u,ref_for:!0},{...B.$props,order:u,hours:L.hours,minutes:L.minutes,seconds:L.seconds,closeTimePickerBtn:m.value,disabledTimesConfig:t.disabledTimesConfig,disabled:u===0?e.unref(v).fixedStart:e.unref(v).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:E,"validate-time":(b,V)=>t.validateTime(b,re(V,u,b)),"onUpdate:hours":b=>se(re(b,u,"hours")),"onUpdate:minutes":b=>P(re(b,u,"minutes")),"onUpdate:seconds":b=>$(re(b,u,"seconds")),onMounted:X,onOverlayClosed:g,onOverlayOpened:x,onAmPmChange:F[2]||(F[2]=b=>B.$emit("am-pm-change",b))}),e.createSlots({_:2},[e.renderList(e.unref(G),(b,V)=>({name:b,fn:e.withCtx(i=>[e.renderSlot(B.$slots,b,e.mergeProps({ref_for:!0},i))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,u===0?!0:J.value]])),128))],2)),!B.timePicker&&!B.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:m,type:"button",class:e.normalizeClass({...R.value,"dp--hidden-el":q.value}),"aria-label":(y=e.unref(z))==null?void 0:y.closeTimePicker,tabindex:"0",onKeydown:F[3]||(F[3]=L=>e.unref(Ce)(L,()=>Z(!1))),onClick:F[4]||(F[4]=L=>Z(!1))},[B.$slots["calendar-icon"]?e.renderSlot(B.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),B.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))],42,Ka)),[[e.vShow,!e.unref(_)(B.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,ja)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Pn=(t,n,l,a)=>{const{defaultedRange:r}=ye(t),c=(C,q)=>Array.isArray(n[C])?n[C][q]:n[C],f=C=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[C]:n.seconds:0,w=(C,q)=>C?q!==void 0?ze(C,c("hours",q),c("minutes",q),f(q)):ze(C,n.hours,n.minutes,f()):o.setSeconds(K(),f(q)),p=(C,q)=>{n[C]=q},z=e.computed(()=>t.modelAuto&&r.value.enabled?Array.isArray(l.value)?l.value.length>1:!1:r.value.enabled),h=(C,q)=>{const J=Object.fromEntries(Object.keys(n).map(ne=>ne===C?[ne,q]:[ne,n[ne]].slice()));if(z.value&&!r.value.disableTimeRangeValidation){const ne=T=>l.value?ze(l.value[T],J.hours[T],J.minutes[T],J.seconds[T]):null,Q=T=>o.setMilliseconds(l.value[T],0);return!(fe(ne(0),ne(1))&&(o.isAfter(ne(0),Q(1))||o.isBefore(ne(1),Q(0))))}return!0},Y=(C,q)=>{h(C,q)&&(p(C,q),a&&a())},v=C=>{Y("hours",C)},A=C=>{Y("minutes",C)},H=C=>{Y("seconds",C)},_=(C,q,J,ne)=>{q&&v(C),!q&&!J&&A(C),J&&H(C),l.value&&ne(l.value)},U=C=>{if(C){const q=Array.isArray(C),J=q?[+C[0].hours,+C[1].hours]:+C.hours,ne=q?[+C[0].minutes,+C[1].minutes]:+C.minutes,Q=q?[+C[0].seconds,+C[1].seconds]:+C.seconds;p("hours",J),p("minutes",ne),t.enableSeconds&&p("seconds",Q)}},m=(C,q)=>{const J={hours:Array.isArray(n.hours)?n.hours[C]:n.hours,disabledArr:[]};return(q||q===0)&&(J.hours=q),Array.isArray(t.disabledTimes)&&(J.disabledArr=r.value.enabled&&Array.isArray(t.disabledTimes[C])?t.disabledTimes[C]:t.disabledTimes),J},E=e.computed(()=>(C,q)=>{var J;if(Array.isArray(t.disabledTimes)){const{disabledArr:ne,hours:Q}=m(C,q),T=ne.filter(Z=>+Z.hours===Q);return((J=T[0])==null?void 0:J.minutes)==="*"?{hours:[Q],minutes:void 0,seconds:void 0}:{hours:[],minutes:(T==null?void 0:T.map(Z=>+Z.minutes))??[],seconds:(T==null?void 0:T.map(Z=>Z.seconds?+Z.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:p,updateHours:v,updateMinutes:A,updateSeconds:H,getSetDateTime:w,updateTimeValues:_,getSecondsValue:f,assignStartTime:U,validateTime:h,disabledTimesConfig:E}},xa=(t,n)=>{const l=()=>{t.isTextInputDate&&q()},{modelValue:a,time:r}=ot(t,n,l),{defaultedStartTime:c,defaultedRange:f,defaultedTz:w}=ye(t),{updateTimeValues:p,getSetDateTime:z,setTime:h,assignStartTime:Y,disabledTimesConfig:v,validateTime:A}=Pn(t,r,a,H);function H(){n("update-flow-step")}const _=Q=>{const{hours:T,minutes:Z,seconds:R}=Q;return{hours:+T,minutes:+Z,seconds:R?+R:0}},U=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const T=_(t.startTime[0]),Z=_(t.startTime[1]);return[o.set(K(),T),o.set(K(),Z)]}const Q=_(t.startTime);return o.set(K(),Q)}return f.value.enabled?[null,null]:null},m=()=>{if(f.value.enabled){const[Q,T]=U();a.value=[$e(z(Q,0),w.value.timezone),$e(z(T,1),w.value.timezone)]}else a.value=$e(z(U()),w.value.timezone)},E=Q=>Array.isArray(Q)?[qe(K(Q[0])),qe(K(Q[1]))]:[qe(Q??K())],C=(Q,T,Z)=>{h("hours",Q),h("minutes",T),h("seconds",t.enableSeconds?Z:0)},q=()=>{const[Q,T]=E(a.value);return f.value.enabled?C([Q.hours,T.hours],[Q.minutes,T.minutes],[Q.seconds,T.seconds]):C(Q.hours,Q.minutes,Q.seconds)};e.onMounted(()=>{if(!t.shadow)return Y(c.value),a.value?q():m()});const J=()=>{Array.isArray(a.value)?a.value=a.value.map((Q,T)=>Q&&z(Q,T)):a.value=z(a.value),n("time-update")};return{modelValue:a,time:r,disabledTimesConfig:v,updateTime:(Q,T=!0,Z=!1)=>{p(Q,T,Z,J)},validateTime:A}},qa=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Oe},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),f=Ae(c,"timePicker"),w=e.ref(null),{time:p,modelValue:z,disabledTimesConfig:h,updateTime:Y,validateTime:v}=xa(r,a);return e.onMounted(()=>{r.shadow||a("mount",null)}),n({getSidebarProps:()=>({modelValue:z,time:p,updateTime:Y}),toggleTimePicker:(_,U=!1,m="")=>{var E;(E=w.value)==null||E.toggleTimePicker(_,U,m)}}),(_,U)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(An,e.mergeProps({ref_key:"tpRef",ref:w},_.$props,{hours:e.unref(p).hours,minutes:e.unref(p).minutes,seconds:e.unref(p).seconds,"internal-model-value":_.internalModelValue,"disabled-times-config":e.unref(h),"validate-time":e.unref(v),"onUpdate:hours":U[0]||(U[0]=m=>e.unref(Y)(m)),"onUpdate:minutes":U[1]||(U[1]=m=>e.unref(Y)(m,!1)),"onUpdate:seconds":U[2]||(U[2]=m=>e.unref(Y)(m,!1,!0)),onAmPmChange:U[3]||(U[3]=m=>_.$emit("am-pm-change",m)),onResetFlow:U[4]||(U[4]=m=>_.$emit("reset-flow")),onOverlayClosed:U[5]||(U[5]=m=>_.$emit("overlay-toggle",{open:!1,overlay:m})),onOverlayOpened:U[6]||(U[6]=m=>_.$emit("overlay-toggle",{open:!0,overlay:m}))}),e.createSlots({_:2},[e.renderList(e.unref(f),(m,E)=>({name:m,fn:e.withCtx(C=>[e.renderSlot(_.$slots,m,e.normalizeProps(e.guardReactiveProps(C)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Ga={class:"dp--header-wrap"},Qa={key:0,class:"dp__month_year_wrap"},Xa={key:0},Ja={class:"dp__month_year_wrap"},Za=["data-dp-element","aria-label","data-test","onClick","onKeydown"],Fa=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Oe},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:n,emit:l}){const a=l,r=t,{defaultedTransitions:c,defaultedAriaLabels:f,defaultedMultiCalendars:w,defaultedFilters:p,defaultedConfig:z,defaultedHighlight:h,propDates:Y,defaultedUI:v}=ye(r),{transitionName:A,showTransition:H}=lt(c),{buildMatrix:_}=He(),{handleMonthYearChange:U,isDisabled:m,updateMonthYear:E}=ha(r,a),{showLeftIcon:C,showRightIcon:q}=ht(),J=e.ref(!1),ne=e.ref(!1),Q=e.ref(!1),T=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const Z=y=>({get:()=>r[y],set:L=>{const u=y===Ne.month?Ne.year:Ne.month;a("update-month-year",{[y]:L,[u]:r[u]}),y===Ne.month?g(!0):x(!0)}}),R=e.computed(Z(Ne.month)),G=e.computed(Z(Ne.year)),re=e.computed(()=>y=>({month:r.month,year:r.year,items:y===Ne.month?r.months:r.years,instance:r.instance,updateMonthYear:E,toggle:y===Ne.month?g:x})),se=e.computed(()=>{const y=r.months.find(L=>L.value===r.month);return y||{text:"",value:0}}),P=e.computed(()=>Je(r.months,y=>{const L=r.month===y.value,u=tt(y.value,mn(r.year,Y.value.minDate),pn(r.year,Y.value.maxDate))||p.value.months.includes(y.value),b=vn(h.value,y.value,r.year);return{active:L,disabled:u,highlighted:b}})),$=e.computed(()=>Je(r.years,y=>{const L=r.year===y.value,u=tt(y.value,Ze(Y.value.minDate),Ze(Y.value.maxDate))||p.value.years.includes(y.value),b=It(h.value,y.value);return{active:L,disabled:u,highlighted:b}})),X=(y,L,u)=>{u!==void 0?y.value=u:y.value=!y.value,y.value?(Q.value=!0,a("overlay-opened",L)):(Q.value=!1,a("overlay-closed",L))},g=(y=!1,L)=>{B(y),X(J,De.month,L)},x=(y=!1,L)=>{B(y),X(ne,De.year,L)},B=y=>{y||a("reset-flow")},F=(y,L)=>{r.arrowNavigation&&(T.value[L]=we(y),_(T.value,"monthYear"))},le=e.computed(()=>{var y,L,u,b,V,i;return[{type:Ne.month,index:1,toggle:g,modelValue:R.value,updateModelValue:ee=>R.value=ee,text:se.value.text,showSelectionGrid:J.value,items:P.value,ariaLabel:(y=f.value)==null?void 0:y.openMonthsOverlay,overlayLabel:((u=(L=f.value).monthPicker)==null?void 0:u.call(L,!0))??void 0},{type:Ne.year,index:2,toggle:x,modelValue:G.value,updateModelValue:ee=>G.value=ee,text:dn(r.year,r.locale),showSelectionGrid:ne.value,items:$.value,ariaLabel:(b=f.value)==null?void 0:b.openYearsOverlay,overlayLabel:((i=(V=f.value).yearPicker)==null?void 0:i.call(V,!0))??void 0}]}),d=e.computed(()=>r.disableYearSelect?[le.value[0]]:r.yearFirst?[...le.value].reverse():le.value);return n({toggleMonthPicker:g,toggleYearPicker:x,handleMonthYearChange:U}),(y,L)=>{var u,b,V,i,ee,ue;return e.openBlock(),e.createElementBlock("div",Ga,[y.$slots["month-year"]?(e.openBlock(),e.createElementBlock("div",Qa,[e.renderSlot(y.$slots,"month-year",e.normalizeProps(e.guardReactiveProps({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(E),handleMonthYearChange:e.unref(U),instance:t.instance})))])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[y.$slots["top-extra"]?(e.openBlock(),e.createElementBlock("div",Xa,[e.renderSlot(y.$slots,"top-extra",{value:y.internalModelValue})])):e.createCommentVNode("",!0),e.createElementVNode("div",Ja,[e.unref(C)(e.unref(w),t.instance)&&!y.vertical?(e.openBlock(),e.createBlock(rt,{key:0,"aria-label":(u=e.unref(f))==null?void 0:u.prevMonth,disabled:e.unref(m)(!1),class:e.normalizeClass((b=e.unref(v))==null?void 0:b.navBtnPrev),"el-name":"action-prev",onActivate:L[0]||(L[0]=S=>e.unref(U)(!1,!0)),onSetRef:L[1]||(L[1]=S=>F(S,0))},{default:e.withCtx(()=>[y.$slots["arrow-left"]?e.renderSlot(y.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),y.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:y.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,(S,ce)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:S.type},[e.createElementVNode("button",{ref_for:!0,ref:s=>F(s,ce+1),type:"button","data-dp-element":`overlay-${S.type}`,class:e.normalizeClass(["dp__btn dp__month_year_select",{"dp--hidden-el":Q.value}]),"aria-label":`${S.text}-${S.ariaLabel}`,"data-test":`${S.type}-toggle-overlay-${t.instance}`,onClick:S.toggle,onKeydown:s=>e.unref(Ce)(s,()=>S.toggle(),!0)},[y.$slots[S.type]?e.renderSlot(y.$slots,S.type,{key:0,text:S.text,value:r[S.type]}):e.createCommentVNode("",!0),y.$slots[S.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(S.text),1)],64))],42,Za),e.createVNode(e.Transition,{name:e.unref(A)(S.showSelectionGrid),css:e.unref(H)},{default:e.withCtx(()=>[S.showSelectionGrid?(e.openBlock(),e.createBlock(at,{key:0,items:S.items,"arrow-navigation":y.arrowNavigation,"hide-navigation":y.hideNavigation,"is-last":y.autoApply&&!e.unref(z).keepActionRow,"skip-button-ref":!1,config:y.config,type:S.type,"header-refs":[],"esc-close":y.escClose,"menu-wrap-ref":y.menuWrapRef,"text-input":y.textInput,"aria-labels":y.ariaLabels,"overlay-label":S.overlayLabel,onSelected:S.updateModelValue,onToggle:S.toggle},e.createSlots({"button-icon":e.withCtx(()=>[y.$slots["calendar-icon"]?e.renderSlot(y.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),y.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Xe),{key:1}))]),_:2},[y.$slots[`${S.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:s})=>[e.renderSlot(y.$slots,`${S.type}-overlay-value`,{text:s.text,value:s.value})]),key:"0"}:void 0,y.$slots[`${S.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(y.$slots,`${S.type}-overlay`,e.mergeProps({ref_for:!0},re.value(S.type)))]),key:"1"}:void 0,y.$slots[`${S.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(y.$slots,`${S.type}-overlay-header`,{toggle:S.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(C)(e.unref(w),t.instance)&&y.vertical?(e.openBlock(),e.createBlock(rt,{key:1,"aria-label":(V=e.unref(f))==null?void 0:V.prevMonth,"el-name":"action-prev",disabled:e.unref(m)(!1),class:e.normalizeClass((i=e.unref(v))==null?void 0:i.navBtnPrev),onActivate:L[2]||(L[2]=S=>e.unref(U)(!1,!0))},{default:e.withCtx(()=>[y.$slots["arrow-up"]?e.renderSlot(y.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),y.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(St),{key:1}))]),_:3},8,["aria-label","disabled","class"])):e.createCommentVNode("",!0),e.unref(q)(e.unref(w),t.instance)?(e.openBlock(),e.createBlock(rt,{key:2,ref:"rightIcon","el-name":"action-next",disabled:e.unref(m)(!0),"aria-label":(ee=e.unref(f))==null?void 0:ee.nextMonth,class:e.normalizeClass((ue=e.unref(v))==null?void 0:ue.navBtnNext),onActivate:L[3]||(L[3]=S=>e.unref(U)(!0,!0)),onSetRef:L[4]||(L[4]=S=>F(S,y.disableYearSelect?2:3))},{default:e.withCtx(()=>[y.$slots[y.vertical?"arrow-down":"arrow-right"]?e.renderSlot(y.$slots,y.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),y.$slots[y.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(y.vertical?e.unref(Bt):e.unref(Mt)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):e.createCommentVNode("",!0)])],64))])}}}),er={class:"dp__calendar_header",role:"row"},tr={key:0,class:"dp__calendar_header_item",role:"gridcell"},nr=["aria-label"],ar=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),rr={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},lr={class:"dp__cell_inner"},or=["id","aria-pressed","aria-disabled","aria-label","data-test","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],sr=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Oe},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:l}){const a=l,r=t,{buildMultiLevelMatrix:c}=He(),{defaultedTransitions:f,defaultedConfig:w,defaultedAriaLabels:p,defaultedMultiCalendars:z,defaultedWeekNumbers:h,defaultedMultiDates:Y,defaultedUI:v}=ye(r),A=e.ref(null),H=e.ref({bottom:"",left:"",transform:""}),_=e.ref([]),U=e.ref(null),m=e.ref(!0),E=e.ref(""),C=e.ref({startX:0,endX:0,startY:0,endY:0}),q=e.ref([]),J=e.ref({left:"50%"}),ne=e.ref(!1),Q=e.computed(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),T=e.computed(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):In(r.formatLocale,r.locale,+r.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:_}),w.value.noSwipe||U.value&&(U.value.addEventListener("touchstart",F,{passive:!1}),U.value.addEventListener("touchend",le,{passive:!1}),U.value.addEventListener("touchmove",d,{passive:!1})),r.monthChangeOnScroll&&U.value&&U.value.addEventListener("wheel",u,{passive:!1})});const Z=S=>S?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",R=(S,ce)=>{if(r.transitions){const s=Te(_e(K(),r.month,r.year));E.value=ke(Te(_e(K(),S,ce)),s)?f.value[Z(!0)]:f.value[Z(!1)],m.value=!1,e.nextTick(()=>{m.value=!0})}},G=e.computed(()=>({...v.value.calendar??{}})),re=e.computed(()=>S=>{const ce=Ln(S);return{dp__marker_dot:ce.type==="dot",dp__marker_line:ce.type==="line"}}),se=e.computed(()=>S=>fe(S,A.value)),P=e.computed(()=>({dp__calendar:!0,dp__calendar_next:z.value.count>0&&r.instance!==0})),$=e.computed(()=>S=>r.hideOffsetDates?S.current:!0),X=async(S,ce)=>{const{width:s,height:O}=S.getBoundingClientRect();A.value=ce.value;let N={left:`${s/2}px`},W=-50;if(await e.nextTick(),q.value[0]){const{left:ae,width:D}=q.value[0].getBoundingClientRect();ae<0&&(N={left:"0"},W=0,J.value.left=`${s/2}px`),window.innerWidth<ae+D&&(N={right:"0"},W=0,J.value.left=`${D-s/2}px`)}H.value={bottom:`${O}px`,...N,transform:`translateX(${W}%)`}},g=async(S,ce,s)=>{var N,W,ae;const O=we(_.value[ce][s]);O&&((N=S.marker)!=null&&N.customPosition&&((ae=(W=S.marker)==null?void 0:W.tooltip)!=null&&ae.length)?H.value=S.marker.customPosition(O):await X(O,S),a("tooltip-open",S.marker))},x=async(S,ce,s)=>{var O,N;if(ne.value&&Y.value.enabled&&Y.value.dragSelect)return a("select-date",S);a("set-hover-date",S),(N=(O=S.marker)==null?void 0:O.tooltip)!=null&&N.length&&await g(S,ce,s)},B=S=>{A.value&&(A.value=null,H.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",S.marker))},F=S=>{C.value.startX=S.changedTouches[0].screenX,C.value.startY=S.changedTouches[0].screenY},le=S=>{C.value.endX=S.changedTouches[0].screenX,C.value.endY=S.changedTouches[0].screenY,y()},d=S=>{r.vertical&&!r.inline&&S.preventDefault()},y=()=>{const S=r.vertical?"Y":"X";Math.abs(C.value[`start${S}`]-C.value[`end${S}`])>10&&a("handle-swipe",C.value[`start${S}`]>C.value[`end${S}`]?"right":"left")},L=(S,ce,s)=>{S&&(Array.isArray(_.value[ce])?_.value[ce][s]=S:_.value[ce]=[S]),r.arrowNavigation&&c(_.value,"calendar")},u=S=>{r.monthChangeOnScroll&&(S.preventDefault(),a("handle-scroll",S))},b=S=>h.value.type==="local"?o.getWeek(S.value,{weekStartsOn:+r.weekStart}):h.value.type==="iso"?o.getISOWeek(S.value):typeof h.value.type=="function"?h.value.type(S.value):"",V=S=>{const ce=S[0];return h.value.hideOnOffsetDates?S.some(s=>s.current)?b(ce):"":b(ce)},i=(S,ce,s=!0)=>{s&&Kn()||Y.value.enabled||(Ie(S,w.value),a("select-date",ce))},ee=S=>{Ie(S,w.value)},ue=S=>{Y.value.enabled&&Y.value.dragSelect?(ne.value=!0,a("select-date",S)):Y.value.enabled&&a("select-date",S)};return n({triggerTransition:R}),(S,ce)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(P.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:U,class:e.normalizeClass(G.value),role:"grid"},[e.createElementVNode("div",er,[S.weekNumbers?(e.openBlock(),e.createElementBlock("div",tr,e.toDisplayString(S.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T.value,(s,O)=>{var N,W;return e.openBlock(),e.createElementBlock("div",{key:O,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(W=(N=e.unref(p))==null?void 0:N.weekDay)==null?void 0:W.call(N,O)},[S.$slots["calendar-header"]?e.renderSlot(S.$slots,"calendar-header",{key:0,day:s,index:O}):e.createCommentVNode("",!0),S.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(s),1)],64))],8,nr)}),128))]),ar,e.createVNode(e.Transition,{name:E.value,css:!!S.transitions},{default:e.withCtx(()=>[m.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:ce[1]||(ce[1]=s=>ne.value=!1)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Q.value,(s,O)=>(e.openBlock(),e.createElementBlock("div",{key:O,class:"dp__calendar_row",role:"row"},[S.weekNumbers?(e.openBlock(),e.createElementBlock("div",rr,[e.createElementVNode("div",lr,e.toDisplayString(V(s.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.days,(N,W)=>{var ae,D,I;return e.openBlock(),e.createElementBlock("div",{id:e.unref(wn)(N.value),ref_for:!0,ref:oe=>L(oe,O,W),key:W+O,role:"gridcell",class:"dp__calendar_item","aria-pressed":(N.classData.dp__active_date||N.classData.dp__range_start||N.classData.dp__range_start)??void 0,"aria-disabled":N.classData.dp__cell_disabled||void 0,"aria-label":(D=(ae=e.unref(p))==null?void 0:ae.day)==null?void 0:D.call(ae,N),tabindex:"0","data-test":N.value,onClick:e.withModifiers(oe=>i(oe,N),["prevent"]),onTouchend:oe=>i(oe,N,!1),onKeydown:oe=>e.unref(Ce)(oe,()=>S.$emit("select-date",N)),onMouseenter:oe=>x(N,O,W),onMouseleave:oe=>B(N),onMousedown:oe=>ue(N),onMouseup:ce[0]||(ce[0]=oe=>ne.value=!1)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",N.classData])},[S.$slots.day&&$.value(N)?e.renderSlot(S.$slots,"day",{key:0,day:+N.text,date:N.value}):e.createCommentVNode("",!0),S.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(N.text),1)],64)),N.marker&&$.value(N)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[S.$slots.marker?e.renderSlot(S.$slots,"marker",{key:0,marker:N.marker,day:+N.text,date:N.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(re.value(N.marker)),style:e.normalizeStyle(N.marker.color?{backgroundColor:N.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),se.value(N.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:q,class:"dp__marker_tooltip",style:e.normalizeStyle(H.value)},[(I=N.marker)!=null&&I.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:ee},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N.marker.tooltip,(oe,de)=>(e.openBlock(),e.createElementBlock("div",{key:de,class:"dp__tooltip_text"},[S.$slots["marker-tooltip"]?e.renderSlot(S.$slots,"marker-tooltip",{key:0,tooltip:oe,day:N.value}):e.createCommentVNode("",!0),S.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(oe.color?{backgroundColor:oe.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(oe.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(J.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,or)}),128))]))),128))],32)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2)],2))}}),Rn=t=>Array.isArray(t),ir=(t,n,l,a)=>{const r=e.ref([]),c=e.ref(new Date),f=e.ref(),w=()=>F(t.isTextInputDate),{modelValue:p,calendars:z,time:h,today:Y}=ot(t,n,w),{defaultedMultiCalendars:v,defaultedStartTime:A,defaultedRange:H,defaultedConfig:_,defaultedTz:U,propDates:m,defaultedMultiDates:E}=ye(t),{validateMonthYearInRange:C,isDisabled:q,isDateRangeAllowed:J,checkMinMaxRange:ne}=We(t),{updateTimeValues:Q,getSetDateTime:T,setTime:Z,assignStartTime:R,validateTime:G,disabledTimesConfig:re}=Pn(t,h,p,a),se=e.computed(()=>M=>z.value[M]?z.value[M].month:0),P=e.computed(()=>M=>z.value[M]?z.value[M].year:0),$=M=>!_.value.keepViewOnOffsetClick||M?!0:!f.value,X=(M,k,j,te=!1)=>{var me,Me;$(te)&&(z.value[M]||(z.value[M]={month:0,year:0}),z.value[M].month=un(k)?(me=z.value[M])==null?void 0:me.month:k,z.value[M].year=un(j)?(Me=z.value[M])==null?void 0:Me.year:j)},g=()=>{t.autoApply&&n("select-date")};e.onMounted(()=>{t.shadow||(p.value||(S(),A.value&&R(A.value)),F(!0),t.focusStartDate&&t.startDate&&S())});const x=e.computed(()=>{var M;return(M=t.flow)!=null&&M.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),B=()=>{t.autoApply&&x.value&&n("auto-apply",t.partialFlow?t.flowStep!==t.flow.length:!1)},F=(M=!1)=>{if(p.value)return Array.isArray(p.value)?(r.value=p.value,V(M)):y(p.value,M);if(v.value.count&&M&&!t.startDate)return d(K(),M)},le=()=>Array.isArray(p.value)&&H.value.enabled?o.getMonth(p.value[0])===o.getMonth(p.value[1]??p.value[0]):!1,d=(M=new Date,k=!1)=>{if((!v.value.count||!v.value.static||k)&&X(0,o.getMonth(M),o.getYear(M)),v.value.count&&(!v.value.solo||!p.value||le()))for(let j=1;j<v.value.count;j++){const te=o.set(K(),{month:se.value(j-1),year:P.value(j-1)}),me=o.add(te,{months:1});z.value[j]={month:o.getMonth(me),year:o.getYear(me)}}},y=(M,k)=>{d(M),Z("hours",o.getHours(M)),Z("minutes",o.getMinutes(M)),Z("seconds",o.getSeconds(M)),v.value.count&&k&&ue()},L=M=>{if(v.value.count){if(v.value.solo)return 0;const k=o.getMonth(M[0]),j=o.getMonth(M[1]);return Math.abs(j-k)<v.value.count?0:1}return 1},u=(M,k)=>{M[1]&&H.value.showLastInRange?d(M[L(M)],k):d(M[0],k);const j=(te,me)=>[te(M[0]),M[1]?te(M[1]):h[me][1]];Z("hours",j(o.getHours,"hours")),Z("minutes",j(o.getMinutes,"minutes")),Z("seconds",j(o.getSeconds,"seconds"))},b=(M,k)=>{if((H.value.enabled||t.weekPicker)&&!E.value.enabled)return u(M,k);if(E.value.enabled&&k){const j=M[M.length-1];return y(j,k)}},V=M=>{const k=p.value;b(k,M),v.value.count&&v.value.solo&&ue()},i=(M,k)=>{const j=o.set(K(),{month:se.value(k),year:P.value(k)}),te=M<0?o.addMonths(j,1):o.subMonths(j,1);C(o.getMonth(te),o.getYear(te),M<0,t.preventMinMaxNavigation)&&(X(k,o.getMonth(te),o.getYear(te)),n("update-month-year",{instance:k,month:o.getMonth(te),year:o.getYear(te)}),v.value.count&&!v.value.solo&&ee(k),l())},ee=M=>{for(let k=M-1;k>=0;k--){const j=o.subMonths(o.set(K(),{month:se.value(k+1),year:P.value(k+1)}),1);X(k,o.getMonth(j),o.getYear(j))}for(let k=M+1;k<=v.value.count-1;k++){const j=o.addMonths(o.set(K(),{month:se.value(k-1),year:P.value(k-1)}),1);X(k,o.getMonth(j),o.getYear(j))}},ue=()=>{if(Array.isArray(p.value)&&p.value.length===2){const M=K(K(p.value[1]?p.value[1]:o.addMonths(p.value[0],1))),[k,j]=[o.getMonth(p.value[0]),o.getYear(p.value[0])],[te,me]=[o.getMonth(p.value[1]),o.getYear(p.value[1])];(k!==te||k===te&&j!==me)&&v.value.solo&&X(1,o.getMonth(M),o.getYear(M))}else p.value&&!Array.isArray(p.value)&&(X(0,o.getMonth(p.value),o.getYear(p.value)),d(K()))},S=()=>{t.startDate&&(X(0,o.getMonth(K(t.startDate)),o.getYear(K(t.startDate))),v.value.count&&ee(0))},ce=(M,k)=>{if(t.monthChangeOnScroll){const j=new Date().getTime()-c.value.getTime(),te=Math.abs(M.deltaY);let me=500;te>1&&(me=100),te>100&&(me=0),j>me&&(c.value=new Date,i(t.monthChangeOnScroll!=="inverse"?-M.deltaY:M.deltaY,k))}},s=(M,k,j=!1)=>{t.monthChangeOnArrows&&t.vertical===j&&O(M,k)},O=(M,k)=>{i(M==="right"?-1:1,k)},N=M=>{if(m.value.markers)return ct(M.value,m.value.markers)},W=(M,k)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[M==0,!0];case"fair":return[M==0||k>M,!0];case"append":return[!1,!1];default:return[!1,!1]}},ae=(M,k,j,te)=>{if(t.sixWeeks&&M.length<6){const me=6-M.length,Me=(k.getDay()+7-te)%7,bt=6-(j.getDay()+7-te)%7,[ut,tn]=W(Me,bt);for(let Qe=1;Qe<=me;Qe++)if(tn?!!(Qe%2)==ut:ut){const vt=M[0].days[0],nn=D(o.addDays(vt.value,-7),o.getMonth(k));M.unshift({days:nn})}else{const vt=M[M.length-1],nn=vt.days[vt.days.length-1],Ir=D(o.addDays(nn.value,1),o.getMonth(k));M.push({days:Ir})}}return M},D=(M,k)=>{const j=K(M),te=[];for(let me=0;me<7;me++){const Me=o.addDays(j,me),Ge=o.getMonth(Me)!==k;te.push({text:t.hideOffsetDates&&Ge?"":Me.getDate(),value:Me,current:!Ge,classData:{}})}return te},I=(M,k)=>{const j=[],te=new Date(k,M),me=new Date(k,M+1,0),Me=t.weekStart,Ge=o.startOfWeek(te,{weekStartsOn:Me}),bt=ut=>{const tn=D(ut,M);if(j.push({days:tn}),!j[j.length-1].days.some(Qe=>fe(Te(Qe.value),Te(me)))){const Qe=o.addDays(ut,7);bt(Qe)}};return bt(Ge),ae(j,te,me,Me)},oe=M=>{const k=ze(K(M.value),h.hours,h.minutes,Pe());n("date-update",k),E.value.enabled?jt(k,p,E.value.limit):p.value=k,a(),e.nextTick().then(()=>{B()})},de=M=>H.value.noDisabledRange?gn(r.value[0],M).some(j=>q(j)):!1,Re=()=>{r.value=p.value?p.value.slice():[],r.value.length===2&&!(H.value.fixedStart||H.value.fixedEnd)&&(r.value=[])},ie=(M,k)=>{const j=[K(M.value),o.addDays(K(M.value),+H.value.autoRange)];J(j)?(k&&je(M.value),r.value=j):n("invalid-date",M.value)},je=M=>{const k=o.getMonth(K(M)),j=o.getYear(K(M));if(X(0,k,j),v.value.count>0)for(let te=1;te<v.value.count;te++){const me=Gn(o.set(K(M),{year:P.value(te-1),month:se.value(te-1)}));X(te,me.month,me.year)}},Ye=M=>{if(de(M.value)||!ne(M.value,p.value,H.value.fixedStart?0:1))return n("invalid-date",M.value);r.value=Tn(K(M.value),p,n,H)},st=(M,k)=>{if(Re(),H.value.autoRange)return ie(M,k);if(H.value.fixedStart||H.value.fixedEnd)return Ye(M);r.value[0]?ne(K(M.value),p.value)&&!de(M.value)?he(K(M.value),K(r.value[0]))?(r.value.unshift(K(M.value)),n("range-end",r.value[0])):(r.value[1]=K(M.value),n("range-end",r.value[1])):(t.autoApply&&n("auto-apply-invalid",M.value),n("invalid-date",M.value)):(r.value[0]=K(M.value),n("range-start",r.value[0]))},Pe=(M=!0)=>t.enableSeconds?Array.isArray(h.seconds)?M?h.seconds[0]:h.seconds[1]:h.seconds:0,it=M=>{r.value[M]=ze(r.value[M],h.hours[M],h.minutes[M],Pe(M!==1))},Gt=()=>{var M,k;r.value[0]&&r.value[1]&&+((M=r.value)==null?void 0:M[0])>+((k=r.value)==null?void 0:k[1])&&(r.value.reverse(),n("range-start",r.value[0]),n("range-end",r.value[1]))},kt=()=>{r.value.length&&(r.value[0]&&!r.value[1]?it(0):(it(0),it(1),a()),Gt(),p.value=r.value.slice(),yt(r.value,n,t.autoApply,t.modelAuto))},Qt=(M,k=!1)=>{if(q(M.value)||!M.current&&t.hideOffsetDates)return n("invalid-date",M.value);if(f.value=JSON.parse(JSON.stringify(M)),!H.value.enabled)return oe(M);Rn(h.hours)&&Rn(h.minutes)&&!E.value.enabled&&(st(M,k),kt())},Xt=(M,k)=>{var te;X(M,k.month,k.year,!0),v.value.count&&!v.value.solo&&ee(M),n("update-month-year",{instance:M,month:k.month,year:k.year}),l(v.value.solo?M:void 0);const j=(te=t.flow)!=null&&te.length?t.flow[t.flowStep]:void 0;!k.fromNav&&(j===De.month||j===De.year)&&a()},Jt=(M,k)=>{Cn({value:M,modelValue:p,range:H.value.enabled,timezone:k?void 0:U.value.timezone}),g(),t.multiCalendars&&e.nextTick().then(()=>F(!0))},Zt=()=>{const M=Ct(K(),U.value);H.value.enabled?p.value&&Array.isArray(p.value)&&p.value[0]?p.value=he(M,p.value[0])?[M,p.value[0]]:[p.value[0],M]:p.value=[M]:p.value=M,g()},Ft=()=>{if(Array.isArray(p.value))if(E.value.enabled){const M=en();p.value[p.value.length-1]=T(M)}else p.value=p.value.map((M,k)=>M&&T(M,k));else p.value=T(p.value);n("time-update")},en=()=>Array.isArray(p.value)&&p.value.length?p.value[p.value.length-1]:null;return{calendars:z,modelValue:p,month:se,year:P,time:h,disabledTimesConfig:re,today:Y,validateTime:G,getCalendarDays:I,getMarker:N,handleScroll:ce,handleSwipe:O,handleArrow:s,selectDate:Qt,updateMonthYear:Xt,presetDate:Jt,selectCurrentDate:Zt,updateTime:(M,k=!0,j=!1)=>{Q(M,k,j,Ft)},assignMonthAndYear:d}},ur={key:0},cr=e.defineComponent({__name:"DatePicker",props:{...Oe},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,{calendars:c,month:f,year:w,modelValue:p,time:z,disabledTimesConfig:h,today:Y,validateTime:v,getCalendarDays:A,getMarker:H,handleArrow:_,handleScroll:U,handleSwipe:m,selectDate:E,updateMonthYear:C,presetDate:q,selectCurrentDate:J,updateTime:ne,assignMonthAndYear:Q}=ir(r,a,le,d),T=e.useSlots(),{setHoverDate:Z,getDayClassData:R,clearHoverDate:G}=Cr(p,r),{defaultedMultiCalendars:re}=ye(r),se=e.ref([]),P=e.ref([]),$=e.ref(null),X=Ae(T,"calendar"),g=Ae(T,"monthYear"),x=Ae(T,"timePicker"),B=s=>{r.shadow||a("mount",s)};e.watch(c,()=>{r.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),e.watch(re,(s,O)=>{s.count-O.count>0&&Q()},{deep:!0});const F=e.computed(()=>s=>A(f.value(s),w.value(s)).map(O=>({...O,days:O.days.map(N=>(N.marker=H(N),N.classData=R(N),N))})));function le(s){var O;s||s===0?(O=P.value[s])==null||O.triggerTransition(f.value(s),w.value(s)):P.value.forEach((N,W)=>N.triggerTransition(f.value(W),w.value(W)))}function d(){a("update-flow-step")}const y=(s,O=!1)=>{E(s,O),r.spaceConfirm&&a("select-date")},L=(s,O,N=0)=>{var W;(W=se.value[N])==null||W.toggleMonthPicker(s,O)},u=(s,O,N=0)=>{var W;(W=se.value[N])==null||W.toggleYearPicker(s,O)},b=(s,O,N)=>{var W;(W=$.value)==null||W.toggleTimePicker(s,O,N)},V=(s,O)=>{var N;if(!r.range){const W=p.value?p.value:Y,ae=O?new Date(O):W,D=s?o.startOfWeek(ae,{weekStartsOn:1}):o.endOfWeek(ae,{weekStartsOn:1});E({value:D,current:o.getMonth(ae)===f.value(0),text:"",classData:{}}),(N=document.getElementById(wn(D)))==null||N.focus()}},i=s=>{var O;(O=se.value[0])==null||O.handleMonthYearChange(s,!0)},ee=s=>{C(0,{month:f.value(0),year:w.value(0)+(s?1:-1),fromNav:!0})},ue=(s,O)=>{s===De.time&&a(`time-picker-${O?"open":"close"}`),a("overlay-toggle",{open:O,overlay:s})},S=s=>{a("overlay-toggle",{open:!1,overlay:s}),a("focus-menu")};return n({clearHoverDate:G,presetDate:q,selectCurrentDate:J,toggleMonthPicker:L,toggleYearPicker:u,toggleTimePicker:b,handleArrow:_,updateMonthYear:C,getSidebarProps:()=>({modelValue:p,month:f,year:w,time:z,updateTime:ne,updateMonthYear:C,selectDate:E,presetDate:q}),changeMonth:i,changeYear:ee,selectWeekDate:V}),(s,O)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(gt,{"multi-calendars":e.unref(re).count,collapse:s.collapse},{default:e.withCtx(({instance:N,index:W})=>[s.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Fa,e.mergeProps({key:0,ref:ae=>{ae&&(se.value[W]=ae)},months:e.unref(ln)(s.formatLocale,s.locale,s.monthNameFormat),years:e.unref($t)(s.yearRange,s.locale,s.reverseYears),month:e.unref(f)(N),year:e.unref(w)(N),instance:N},s.$props,{onMount:O[0]||(O[0]=ae=>B(e.unref(xe).header)),onResetFlow:O[1]||(O[1]=ae=>s.$emit("reset-flow")),onUpdateMonthYear:ae=>e.unref(C)(N,ae),onOverlayClosed:S,onOverlayOpened:O[2]||(O[2]=ae=>s.$emit("overlay-toggle",{open:!0,overlay:ae}))}),e.createSlots({_:2},[e.renderList(e.unref(g),(ae,D)=>({name:ae,fn:e.withCtx(I=>[e.renderSlot(s.$slots,ae,e.normalizeProps(e.guardReactiveProps(I)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(sr,e.mergeProps({ref:ae=>{ae&&(P.value[W]=ae)},"mapped-dates":F.value(N),month:e.unref(f)(N),year:e.unref(w)(N),instance:N},s.$props,{onSelectDate:ae=>e.unref(E)(ae,N!==1),onHandleSpace:ae=>y(ae,N!==1),onSetHoverDate:O[3]||(O[3]=ae=>e.unref(Z)(ae)),onHandleScroll:ae=>e.unref(U)(ae,N),onHandleSwipe:ae=>e.unref(m)(ae,N),onMount:O[4]||(O[4]=ae=>B(e.unref(xe).calendar)),onResetFlow:O[5]||(O[5]=ae=>s.$emit("reset-flow")),onTooltipOpen:O[6]||(O[6]=ae=>s.$emit("tooltip-open",ae)),onTooltipClose:O[7]||(O[7]=ae=>s.$emit("tooltip-close",ae))}),e.createSlots({_:2},[e.renderList(e.unref(X),(ae,D)=>({name:ae,fn:e.withCtx(I=>[e.renderSlot(s.$slots,ae,e.normalizeProps(e.guardReactiveProps({...I})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),s.enableTimePicker?(e.openBlock(),e.createElementBlock("div",ur,[s.$slots["time-picker"]?e.renderSlot(s.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(z),updateTime:e.unref(ne)}))):(e.openBlock(),e.createBlock(An,e.mergeProps({key:1,ref_key:"timePickerRef",ref:$},s.$props,{hours:e.unref(z).hours,minutes:e.unref(z).minutes,seconds:e.unref(z).seconds,"internal-model-value":s.internalModelValue,"disabled-times-config":e.unref(h),"validate-time":e.unref(v),onMount:O[8]||(O[8]=N=>B(e.unref(xe).timePicker)),"onUpdate:hours":O[9]||(O[9]=N=>e.unref(ne)(N)),"onUpdate:minutes":O[10]||(O[10]=N=>e.unref(ne)(N,!1)),"onUpdate:seconds":O[11]||(O[11]=N=>e.unref(ne)(N,!1,!0)),onResetFlow:O[12]||(O[12]=N=>s.$emit("reset-flow")),onOverlayClosed:O[13]||(O[13]=N=>ue(N,!1)),onOverlayOpened:O[14]||(O[14]=N=>ue(N,!0)),onAmPmChange:O[15]||(O[15]=N=>s.$emit("am-pm-change",N))}),e.createSlots({_:2},[e.renderList(e.unref(x),(N,W)=>({name:N,fn:e.withCtx(ae=>[e.renderSlot(s.$slots,N,e.normalizeProps(e.guardReactiveProps(ae)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),dr=(t,n)=>{const l=e.ref(),{defaultedMultiCalendars:a,defaultedConfig:r,defaultedHighlight:c,defaultedRange:f,propDates:w,defaultedFilters:p,defaultedMultiDates:z}=ye(t),{modelValue:h,year:Y,month:v,calendars:A}=ot(t,n),{isDisabled:H}=We(t),{selectYear:_,groupedYears:U,showYearPicker:m,isDisabled:E,toggleYearPicker:C,handleYearSelect:q,handleYear:J}=$n({modelValue:h,multiCalendars:a,range:f,highlight:c,calendars:A,propDates:w,month:v,year:Y,filters:p,props:t,emit:n}),ne=(g,x)=>[g,x].map(B=>o.format(B,"MMMM",{locale:t.formatLocale})).join("-"),Q=e.computed(()=>g=>h.value?Array.isArray(h.value)?h.value.some(x=>o.isSameQuarter(g,x)):o.isSameQuarter(h.value,g):!1),T=g=>{if(f.value.enabled){if(Array.isArray(h.value)){const x=fe(g,h.value[0])||fe(g,h.value[1]);return dt(h.value,l.value,g)&&!x}return!1}return!1},Z=(g,x)=>g.quarter===o.getQuarter(x)&&g.year===o.getYear(x),R=g=>typeof c.value=="function"?c.value({quarter:o.getQuarter(g),year:o.getYear(g)}):!!c.value.quarters.find(x=>Z(x,g)),G=e.computed(()=>g=>{const x=o.set(new Date,{year:Y.value(g)});return o.eachQuarterOfInterval({start:o.startOfYear(x),end:o.endOfYear(x)}).map(B=>{const F=o.startOfQuarter(B),le=o.endOfQuarter(B),d=H(B),y=T(F),L=R(F);return{text:ne(F,le),value:F,active:Q.value(F),highlighted:L,disabled:d,isBetween:y}})}),re=g=>{jt(g,h,z.value.limit),n("auto-apply",!0)},se=g=>{h.value=Kt(h,g,n),yt(h.value,n,t.autoApply,t.modelAuto)},P=g=>{h.value=g,n("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:a,groupedYears:U,year:Y,isDisabled:E,quarters:G,showYearPicker:m,modelValue:h,setHoverDate:g=>{l.value=g},selectYear:_,selectQuarter:(g,x,B)=>{if(!B)return A.value[x].month=o.getMonth(o.endOfQuarter(g)),z.value.enabled?re(g):f.value.enabled?se(g):P(g)},toggleYearPicker:C,handleYearSelect:q,handleYear:J}},fr={class:"dp--quarter-items"},mr=["data-test","disabled","onClick","onMouseover"],pr=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Oe},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),f=Ae(c,"yearMode"),{defaultedMultiCalendars:w,defaultedConfig:p,groupedYears:z,year:h,isDisabled:Y,quarters:v,modelValue:A,showYearPicker:H,setHoverDate:_,selectQuarter:U,toggleYearPicker:m,handleYearSelect:E,handleYear:C}=dr(r,a);return n({getSidebarProps:()=>({modelValue:A,year:h,selectQuarter:U,handleYearSelect:E,handleYear:C})}),(J,ne)=>(e.openBlock(),e.createBlock(gt,{"multi-calendars":e.unref(w).count,collapse:J.collapse,stretch:""},{default:e.withCtx(({instance:Q})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(p).modeHeight}px`})},[J.$slots["top-extra"]?e.renderSlot(J.$slots,"top-extra",{key:0,value:J.internalModelValue}):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.createVNode(Bn,e.mergeProps(J.$props,{items:e.unref(z)(Q),instance:Q,"show-year-picker":e.unref(H)[Q],year:e.unref(h)(Q),"is-disabled":T=>e.unref(Y)(Q,T),onHandleYear:T=>e.unref(C)(Q,T),onYearSelect:T=>e.unref(E)(T,Q),onToggleYearPicker:T=>e.unref(m)(Q,T==null?void 0:T.flow,T==null?void 0:T.show)}),e.createSlots({_:2},[e.renderList(e.unref(f),(T,Z)=>({name:T,fn:e.withCtx(R=>[e.renderSlot(J.$slots,T,e.normalizeProps(e.guardReactiveProps(R)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",fr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v)(Q),(T,Z)=>(e.openBlock(),e.createElementBlock("div",{key:Z},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":T.active,"dp--qr-btn-between":T.isBetween,"dp--qr-btn-disabled":T.disabled,"dp--highlighted":T.highlighted}]),"data-test":T.value,disabled:T.disabled,onClick:R=>e.unref(U)(T.value,Q,T.disabled),onMouseover:R=>e.unref(_)(T.value)},[J.$slots.quarter?e.renderSlot(J.$slots,"quarter",{key:0,value:T.value,text:T.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(T.text),1)],64))],42,mr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),gr=["id","tabindex","role","aria-label"],yr={key:0,class:"dp--menu-load-container"},hr=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],kr={key:1,class:"dp--menu-header"},br={key:0,class:"dp__sidebar_left"},vr=["data-test","onClick","onKeydown"],wr={key:2,class:"dp__sidebar_right"},Mr={key:3,class:"dp__action_extra"},Nn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...pt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.ref(null),f=e.computed(()=>{const{openOnTop:D,...I}=r;return{...I,flowStep:Z.value,collapse:r.collapse,noOverlayFocus:r.noOverlayFocus,menuWrapRef:c.value}}),{setMenuFocused:w,setShiftKey:p,control:z}=Mn(),h=e.useSlots(),{defaultedTextInput:Y,defaultedInline:v,defaultedConfig:A,defaultedUI:H}=ye(r),_=e.ref(null),U=e.ref(0),m=e.ref(null),E=e.ref(!1),C=e.ref(null);e.onMounted(()=>{if(!r.shadow){E.value=!0,q(),window.addEventListener("resize",q);const D=we(c);if(D&&!Y.value.enabled&&!v.value.enabled&&(w(!0),X()),D){const I=oe=>{A.value.allowPreventDefault&&oe.preventDefault(),Ie(oe,A.value,!0)};D.addEventListener("pointerdown",I),D.addEventListener("mousedown",I)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",q)});const q=()=>{const D=we(m);D&&(U.value=D.getBoundingClientRect().width)},{arrowRight:J,arrowLeft:ne,arrowDown:Q,arrowUp:T}=He(),{flowStep:Z,updateFlowStep:R,childMount:G,resetFlow:re,handleFlow:se}=Tr(r,a,C),P=e.computed(()=>r.monthPicker?$a:r.yearPicker?Pa:r.timePicker?qa:r.quarterPicker?pr:cr),$=e.computed(()=>{var oe;if(A.value.arrowLeft)return A.value.arrowLeft;const D=(oe=c.value)==null?void 0:oe.getBoundingClientRect(),I=r.getInputRect();return(I==null?void 0:I.width)<(U==null?void 0:U.value)&&(I==null?void 0:I.left)<=((D==null?void 0:D.left)??0)?`${(I==null?void 0:I.width)/2}px`:(I==null?void 0:I.right)>=((D==null?void 0:D.right)??0)&&(I==null?void 0:I.width)<(U==null?void 0:U.value)?`${(U==null?void 0:U.value)-(I==null?void 0:I.width)/2}px`:"50%"}),X=()=>{const D=we(c);D&&D.focus({preventScroll:!0})},g=e.computed(()=>{var D;return((D=C.value)==null?void 0:D.getSidebarProps())||{}}),x=()=>{r.openOnTop&&a("recalculate-position")},B=Ae(h,"action"),F=e.computed(()=>r.monthPicker||r.yearPicker?Ae(h,"monthYear"):r.timePicker?Ae(h,"timePicker"):Ae(h,"shared")),le=e.computed(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),d=e.computed(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),y=e.computed(()=>({dp__menu:!0,dp__menu_index:!v.value.enabled,dp__relative:v.value.enabled,...H.value.menu??{}})),L=D=>{Ie(D,A.value,!0)},u=()=>{r.escClose&&a("close-picker")},b=D=>{if(r.arrowNavigation){if(D===Be.up)return T();if(D===Be.down)return Q();if(D===Be.left)return ne();if(D===Be.right)return J()}else D===Be.left||D===Be.up?S("handleArrow",Be.left,0,D===Be.up):S("handleArrow",Be.right,0,D===Be.down)},V=D=>{p(D.shiftKey),!r.disableMonthYearSelect&&D.code===pe.tab&&D.target.classList.contains("dp__menu")&&z.value.shiftKeyInMenu&&(D.preventDefault(),Ie(D,A.value,!0),a("close-picker"))},i=()=>{X(),a("time-picker-close")},ee=D=>{var I,oe,de;(I=C.value)==null||I.toggleTimePicker(!1,!1),(oe=C.value)==null||oe.toggleMonthPicker(!1,!1,D),(de=C.value)==null||de.toggleYearPicker(!1,!1,D)},ue=(D,I=0)=>{var oe,de,Re;return D==="month"?(oe=C.value)==null?void 0:oe.toggleMonthPicker(!1,!0,I):D==="year"?(de=C.value)==null?void 0:de.toggleYearPicker(!1,!0,I):D==="time"?(Re=C.value)==null?void 0:Re.toggleTimePicker(!0,!1):ee(I)},S=(D,...I)=>{var oe,de;(oe=C.value)!=null&&oe[D]&&((de=C.value)==null||de[D](...I))},ce=()=>{S("selectCurrentDate")},s=(D,I)=>{S("presetDate",D,I)},O=()=>{S("clearHoverDate")},N=(D,I)=>{S("updateMonthYear",D,I)},W=(D,I)=>{D.preventDefault(),b(I)},ae=D=>{var I,oe,de;if(V(D),D.key===pe.home||D.key===pe.end)return S("selectWeekDate",D.key===pe.home,D.target.getAttribute("id"));switch((D.key===pe.pageUp||D.key===pe.pageDown)&&(D.shiftKey?(S("changeYear",D.key===pe.pageUp),(I=Pt(c.value,"overlay-year"))==null||I.focus()):(S("changeMonth",D.key===pe.pageUp),(oe=Pt(c.value,D.key===pe.pageUp?"action-prev":"action-next"))==null||oe.focus()),D.target.getAttribute("id")&&((de=c.value)==null||de.focus({preventScroll:!0}))),D.key){case pe.esc:return u();case pe.arrowLeft:return W(D,Be.left);case pe.arrowRight:return W(D,Be.right);case pe.arrowUp:return W(D,Be.up);case pe.arrowDown:return W(D,Be.down);default:return}};return n({updateMonthYear:N,switchView:ue,handleFlow:se}),(D,I)=>{var oe,de,Re;return e.openBlock(),e.createElementBlock("div",{id:D.uid?`dp-menu-${D.uid}`:void 0,ref_key:"dpMenuRef",ref:c,tabindex:e.unref(v).enabled?void 0:"0",role:e.unref(v).enabled?void 0:"dialog","aria-label":(oe=D.ariaLabels)==null?void 0:oe.menu,class:e.normalizeClass(y.value),style:e.normalizeStyle({"--dp-arrow-left":$.value}),onMouseleave:O,onClick:L,onKeydown:ae},[(D.disabled||D.readonly)&&e.unref(v).enabled||D.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(d.value)},[D.loading?(e.openBlock(),e.createElementBlock("div",yr,hr)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),D.$slots["menu-header"]?(e.openBlock(),e.createElementBlock("div",kr,[e.renderSlot(D.$slots,"menu-header")])):e.createCommentVNode("",!0),!e.unref(v).enabled&&!D.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(le.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:m,class:e.normalizeClass({dp__menu_content_wrapper:((de=D.presetDates)==null?void 0:de.length)||!!D.$slots["left-sidebar"]||!!D.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Re=D.presetDates)==null?void 0:Re.length)||!!D.$slots["left-sidebar"]||!!D.$slots["right-sidebar"])}),style:e.normalizeStyle({"--dp-menu-width":`${U.value}px`})},[D.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",br,[e.renderSlot(D.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(g.value)))])):e.createCommentVNode("",!0),D.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.presetDates,(ie,je)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:je},[ie.slot?e.renderSlot(D.$slots,ie.slot,{key:0,presetDate:s,label:ie.label,value:ie.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(ie.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":ie.testId??void 0,onClick:e.withModifiers(Ye=>s(ie.value,ie.noTz),["prevent"]),onKeydown:Ye=>e.unref(Ce)(Ye,()=>s(ie.value,ie.noTz),!0)},e.toDisplayString(ie.label),47,vr))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:_,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(P.value),e.mergeProps({ref_key:"dynCmpRef",ref:C},f.value,{"flow-step":e.unref(Z),onMount:e.unref(G),onUpdateFlowStep:e.unref(R),onResetFlow:e.unref(re),onFocusMenu:X,onSelectDate:I[0]||(I[0]=ie=>D.$emit("select-date")),onDateUpdate:I[1]||(I[1]=ie=>D.$emit("date-update",ie)),onTooltipOpen:I[2]||(I[2]=ie=>D.$emit("tooltip-open",ie)),onTooltipClose:I[3]||(I[3]=ie=>D.$emit("tooltip-close",ie)),onAutoApply:I[4]||(I[4]=ie=>D.$emit("auto-apply",ie)),onRangeStart:I[5]||(I[5]=ie=>D.$emit("range-start",ie)),onRangeEnd:I[6]||(I[6]=ie=>D.$emit("range-end",ie)),onInvalidFixedRange:I[7]||(I[7]=ie=>D.$emit("invalid-fixed-range",ie)),onTimeUpdate:I[8]||(I[8]=ie=>D.$emit("time-update")),onAmPmChange:I[9]||(I[9]=ie=>D.$emit("am-pm-change",ie)),onTimePickerOpen:I[10]||(I[10]=ie=>D.$emit("time-picker-open",ie)),onTimePickerClose:i,onRecalculatePosition:x,onUpdateMonthYear:I[11]||(I[11]=ie=>D.$emit("update-month-year",ie)),onAutoApplyInvalid:I[12]||(I[12]=ie=>D.$emit("auto-apply-invalid",ie)),onInvalidDate:I[13]||(I[13]=ie=>D.$emit("invalid-date",ie)),onOverlayToggle:I[14]||(I[14]=ie=>D.$emit("overlay-toggle",ie)),"onUpdate:internalModelValue":I[15]||(I[15]=ie=>D.$emit("update:internal-model-value",ie))}),e.createSlots({_:2},[e.renderList(F.value,(ie,je)=>({name:ie,fn:e.withCtx(Ye=>[e.renderSlot(D.$slots,ie,e.normalizeProps(e.guardReactiveProps({...Ye})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),D.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",wr,[e.renderSlot(D.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(g.value)))])):e.createCommentVNode("",!0),D.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Mr,[D.$slots["action-extra"]?e.renderSlot(D.$slots,"action-extra",{key:0,selectCurrentDate:ce}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!D.autoApply||e.unref(A).keepActionRow?(e.openBlock(),e.createBlock(va,e.mergeProps({key:3,"menu-mount":E.value},f.value,{"calendar-width":U.value,onClosePicker:I[16]||(I[16]=ie=>D.$emit("close-picker")),onSelectDate:I[17]||(I[17]=ie=>D.$emit("select-date")),onInvalidSelect:I[18]||(I[18]=ie=>D.$emit("invalid-select")),onSelectNow:ce}),e.createSlots({_:2},[e.renderList(e.unref(B),(ie,je)=>({name:ie,fn:e.withCtx(Ye=>[e.renderSlot(D.$slots,ie,e.normalizeProps(e.guardReactiveProps({...Ye})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],46,gr)}}});var et=(t=>(t.center="center",t.left="left",t.right="right",t))(et||{});const Dr=({menuRef:t,menuRefInner:n,inputRef:l,pickerWrapperRef:a,inline:r,emit:c,props:f,slots:w})=>{const{defaultedConfig:p}=ye(f),z=e.ref({}),h=e.ref(!1),Y=e.ref({top:"0",left:"0"}),v=e.ref(!1),A=e.toRef(f,"teleportCenter");e.watch(A,()=>{Y.value=JSON.parse(JSON.stringify({})),J()});const H=g=>{if(f.teleport){const x=g.getBoundingClientRect();return{left:x.left+window.scrollX,top:x.top+window.scrollY}}return{top:0,left:0}},_=(g,x)=>{Y.value.left=`${g+x-z.value.width}px`},U=g=>{Y.value.left=`${g}px`},m=(g,x)=>{f.position===et.left&&U(g),f.position===et.right&&_(g,x),f.position===et.center&&(Y.value.left=`${g+x/2-z.value.width/2}px`)},E=g=>{const{width:x,height:B}=g.getBoundingClientRect(),{top:F,left:le}=f.altPosition?f.altPosition(g):H(g);return{top:+F,left:+le,width:x,height:B}},C=()=>{Y.value.left="50%",Y.value.top="50%",Y.value.transform="translate(-50%, -50%)",Y.value.position="fixed",delete Y.value.opacity},q=()=>{const g=we(l),{top:x,left:B,transform:F}=f.altPosition(g);Y.value={top:`${x}px`,left:`${B}px`,transform:F??""}},J=(g=!0)=>{var x;if(!r.value.enabled){if(A.value)return C();if(f.altPosition!==null)return q();if(g){const B=f.teleport?(x=n.value)==null?void 0:x.$el:t.value;B&&(z.value=B.getBoundingClientRect()),c("recalculate-position")}return re()}},ne=({inputEl:g,left:x,width:B})=>{window.screen.width>768&&!h.value&&m(x,B),Z(g)},Q=g=>{const{top:x,left:B,height:F,width:le}=E(g);Y.value.top=`${F+x+ +f.offset}px`,v.value=!1,h.value||(Y.value.left=`${B+le/2-z.value.width/2}px`),ne({inputEl:g,left:B,width:le})},T=g=>{const{top:x,left:B,width:F}=E(g);Y.value.top=`${x-+f.offset-z.value.height}px`,v.value=!0,ne({inputEl:g,left:B,width:F})},Z=g=>{if(f.autoPosition){const{left:x,width:B}=E(g),{left:F,right:le}=z.value;if(!h.value){if(Math.abs(F)!==Math.abs(le)){if(F<=0)return h.value=!0,U(x);if(le>=document.documentElement.clientWidth)return h.value=!0,_(x,B)}return m(x,B)}}},R=()=>{const g=we(l);if(g){const{height:x}=z.value,{top:B,height:F}=g.getBoundingClientRect(),d=window.innerHeight-B-F,y=B;return x<=d?Ke.bottom:x>d&&x<=y?Ke.top:d>=y?Ke.bottom:Ke.top}return Ke.bottom},G=g=>R()===Ke.bottom?Q(g):T(g),re=()=>{const g=we(l);if(g)return f.autoPosition?G(g):Q(g)},se=function(g){if(g){const x=g.scrollHeight>g.clientHeight,F=window.getComputedStyle(g).overflowY.indexOf("hidden")!==-1;return x&&!F}return!0},P=function(g){return!g||g===document.body||g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:se(g)?g:P(g.assignedSlot&&p.value.shadowDom?g.assignedSlot.parentNode:g.parentNode)},$=g=>{if(g)switch(f.position){case et.left:return{left:0,transform:"translateX(0)"};case et.right:return{left:`${g.width}px`,transform:"translateX(-100%)"};default:return{left:`${g.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:v,menuStyle:Y,xCorrect:h,setMenuPosition:J,getScrollableParent:P,shadowRender:(g,x)=>{var u,b,V;const B=document.createElement("div"),F=(u=we(l))==null?void 0:u.getBoundingClientRect();B.setAttribute("id","dp--temp-container");const le=(b=a.value)!=null&&b.clientWidth?a.value:document.body;le.append(B);const d=$(F),y=p.value.shadowDom?Object.keys(w).filter(i=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(i)):Object.keys(w),L=e.h(g,{...x,shadow:!0,style:{opacity:0,position:"absolute",...d}},Object.fromEntries(y.map(i=>[i,w[i]])));e.render(L,B),z.value=(V=L.el)==null?void 0:V.getBoundingClientRect(),e.render(null,B),le.removeChild(B)}}},Ue=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],Sr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Br={all:()=>Ue,monthYear:()=>Ue.filter(t=>t.use.includes("month-year")),input:()=>Sr,timePicker:()=>Ue.filter(t=>t.use.includes("time")),action:()=>Ue.filter(t=>t.use.includes("action")),calendar:()=>Ue.filter(t=>t.use.includes("calendar")),menu:()=>Ue.filter(t=>t.use.includes("menu")),shared:()=>Ue.filter(t=>t.use.includes("shared")),yearMode:()=>Ue.filter(t=>t.use.includes("year-mode"))},Ae=(t,n,l)=>{const a=[];return Br[n]().forEach(r=>{t[r.name]&&a.push(r.name)}),l!=null&&l.length&&l.forEach(r=>{r.slot&&a.push(r.slot)}),a},lt=t=>{const n=e.computed(()=>a=>t.value?a?t.value.open:t.value.close:""),l=e.computed(()=>a=>t.value?a?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:l}},ot=(t,n,l)=>{const{defaultedRange:a,defaultedTz:r}=ye(t),c=K($e(K(),r.value.timezone)),f=e.ref([{month:o.getMonth(c),year:o.getYear(c)}]),w=v=>{const A={hours:o.getHours(c),minutes:o.getMinutes(c),seconds:0};return a.value.enabled?[A[v],A[v]]:A[v]},p=e.reactive({hours:w("hours"),minutes:w("minutes"),seconds:w("seconds")});e.watch(a,(v,A)=>{v.enabled!==A.enabled&&(p.hours=w("hours"),p.minutes=w("minutes"),p.seconds=w("seconds"))},{deep:!0});const z=e.computed({get:()=>t.internalModelValue,set:v=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",v)}}),h=e.computed(()=>v=>f.value[v]?f.value[v].month:0),Y=e.computed(()=>v=>f.value[v]?f.value[v].year:0);return e.watch(z,(v,A)=>{l&&JSON.stringify(v??{})!==JSON.stringify(A??{})&&l()},{deep:!0}),{calendars:f,time:p,modelValue:z,month:h,year:Y,today:c}},Cr=(t,n)=>{const{defaultedMultiCalendars:l,defaultedMultiDates:a,defaultedUI:r,defaultedHighlight:c,defaultedTz:f,propDates:w,defaultedRange:p}=ye(n),{isDisabled:z}=We(n),h=e.ref(null),Y=e.ref($e(new Date,f.value.timezone)),v=u=>{!u.current&&n.hideOffsetDates||(h.value=u.value)},A=()=>{h.value=null},H=u=>Array.isArray(t.value)&&p.value.enabled&&t.value[0]&&h.value?u?ke(h.value,t.value[0]):he(h.value,t.value[0]):!0,_=(u,b)=>{const V=()=>t.value?b?t.value[0]||null:t.value[1]:null,i=t.value&&Array.isArray(t.value)?V():null;return fe(K(u.value),i)},U=u=>{const b=Array.isArray(t.value)?t.value[0]:null;return u?!he(h.value??null,b):!0},m=(u,b=!0)=>(p.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!u.current?!1:fe(K(u.value),t.value[b?0:1]):p.value.enabled?_(u,b)&&U(b)||fe(u.value,Array.isArray(t.value)?t.value[0]:null)&&H(b):!1,E=(u,b)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const V=fe(u.value,h.value);return b?ke(t.value[0],u.value)&&V:he(t.value[0],u.value)&&V}return!1},C=u=>!t.value||n.hideOffsetDates&&!u.current?!1:p.value.enabled?n.modelAuto&&Array.isArray(t.value)?fe(u.value,t.value[0]?t.value[0]:Y.value):!1:a.value.enabled&&Array.isArray(t.value)?t.value.some(b=>fe(b,u.value)):fe(u.value,t.value?t.value:Y.value),q=u=>{if(p.value.autoRange||n.weekPicker){if(h.value){if(n.hideOffsetDates&&!u.current)return!1;const b=o.addDays(h.value,+p.value.autoRange),V=Ve(K(h.value),n.weekStart);return n.weekPicker?fe(V[1],K(u.value)):fe(b,K(u.value))}return!1}return!1},J=u=>{if(p.value.autoRange||n.weekPicker){if(h.value){const b=o.addDays(h.value,+p.value.autoRange);if(n.hideOffsetDates&&!u.current)return!1;const V=Ve(K(h.value),n.weekStart);return n.weekPicker?ke(u.value,V[0])&&he(u.value,V[1]):ke(u.value,h.value)&&he(u.value,b)}return!1}return!1},ne=u=>{if(p.value.autoRange||n.weekPicker){if(h.value){if(n.hideOffsetDates&&!u.current)return!1;const b=Ve(K(h.value),n.weekStart);return n.weekPicker?fe(b[0],u.value):fe(h.value,u.value)}return!1}return!1},Q=u=>dt(t.value,h.value,u.value),T=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,Z=()=>n.modelAuto?on(n.internalModelValue):!0,R=u=>{if(n.weekPicker)return!1;const b=p.value.enabled?!m(u)&&!m(u,!1):!0;return!z(u.value)&&!C(u)&&!(!u.current&&n.hideOffsetDates)&&b},G=u=>p.value.enabled?n.modelAuto?T()&&C(u):!1:C(u),re=u=>c.value?jn(u.value,w.value.highlight):!1,se=u=>{const b=z(u.value);return b&&(typeof c.value=="function"?!c.value(u.value,b):!c.value.options.highlightDisabled)},P=u=>{var b;return typeof c.value=="function"?c.value(u.value):(b=c.value.weekdays)==null?void 0:b.includes(u.value.getDay())},$=u=>(p.value.enabled||n.weekPicker)&&(!(l.value.count>0)||u.current)&&Z()&&!(!u.current&&n.hideOffsetDates)&&!C(u)?Q(u):!1,X=u=>{const{isRangeStart:b,isRangeEnd:V}=F(u),i=p.value.enabled?b||V:!1;return{dp__cell_offset:!u.current,dp__pointer:!n.disabled&&!(!u.current&&n.hideOffsetDates)&&!z(u.value),dp__cell_disabled:z(u.value),dp__cell_highlight:!se(u)&&(re(u)||P(u))&&!G(u)&&!i&&!ne(u)&&!($(u)&&n.weekPicker)&&!V,dp__cell_highlight_active:!se(u)&&(re(u)||P(u))&&G(u),dp__today:!n.noToday&&fe(u.value,Y.value)&&u.current,"dp--past":he(u.value,Y.value),"dp--future":ke(u.value,Y.value)}},g=u=>({dp__active_date:G(u),dp__date_hover:R(u)}),x=u=>{if(t.value&&!Array.isArray(t.value)){const b=Ve(t.value,n.weekStart);return{...d(u),dp__range_start:fe(b[0],u.value),dp__range_end:fe(b[1],u.value),dp__range_between_week:ke(u.value,b[0])&&he(u.value,b[1])}}return{...d(u)}},B=u=>{if(t.value&&Array.isArray(t.value)){const b=Ve(t.value[0],n.weekStart),V=t.value[1]?Ve(t.value[1],n.weekStart):[];return{...d(u),dp__range_start:fe(b[0],u.value)||fe(V[0],u.value),dp__range_end:fe(b[1],u.value)||fe(V[1],u.value),dp__range_between_week:ke(u.value,b[0])&&he(u.value,b[1])||ke(u.value,V[0])&&he(u.value,V[1]),dp__range_between:ke(u.value,b[1])&&he(u.value,V[0])}}return{...d(u)}},F=u=>{const b=l.value.count>0?u.current&&m(u)&&Z():m(u)&&Z(),V=l.value.count>0?u.current&&m(u,!1)&&Z():m(u,!1)&&Z();return{isRangeStart:b,isRangeEnd:V}},le=u=>{const{isRangeStart:b,isRangeEnd:V}=F(u);return{dp__range_start:b,dp__range_end:V,dp__range_between:$(u),dp__date_hover:fe(u.value,h.value)&&!b&&!V&&!n.weekPicker,dp__date_hover_start:E(u,!0),dp__date_hover_end:E(u,!1)}},d=u=>({...le(u),dp__cell_auto_range:J(u),dp__cell_auto_range_start:ne(u),dp__cell_auto_range_end:q(u)}),y=u=>p.value.enabled?p.value.autoRange?d(u):n.modelAuto?{...g(u),...le(u)}:n.weekPicker?B(u):le(u):n.weekPicker?x(u):g(u);return{setHoverDate:v,clearHoverDate:A,getDayClassData:u=>n.hideOffsetDates&&!u.current?{}:{...X(u),...y(u),[n.dayClass?n.dayClass(u.value,n.internalModelValue):""]:!0,...r.value.calendarCell??{}}}},We=t=>{const{defaultedFilters:n,defaultedRange:l,propDates:a,defaultedMultiDates:r}=ye(t),c=P=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(K(P)):!!ct(P,a.value.disabledDates):!1,f=P=>a.value.maxDate?t.yearPicker?o.getYear(P)>o.getYear(a.value.maxDate):ke(P,a.value.maxDate):!1,w=P=>a.value.minDate?t.yearPicker?o.getYear(P)<o.getYear(a.value.minDate):he(P,a.value.minDate):!1,p=P=>{const $=f(P),X=w(P),g=c(P),B=n.value.months.map(L=>+L).includes(o.getMonth(P)),F=t.disabledWeekDays.length?t.disabledWeekDays.some(L=>+L===o.getDay(P)):!1,le=A(P),d=o.getYear(P),y=d<+t.yearRange[0]||d>+t.yearRange[1];return!($||X||g||B||y||F||le)},z=(P,$)=>he(...Le(a.value.minDate,P,$))||fe(...Le(a.value.minDate,P,$)),h=(P,$)=>ke(...Le(a.value.maxDate,P,$))||fe(...Le(a.value.maxDate,P,$)),Y=(P,$,X)=>{let g=!1;return a.value.maxDate&&X&&h(P,$)&&(g=!0),a.value.minDate&&!X&&z(P,$)&&(g=!0),g},v=(P,$,X,g)=>{let x=!1;return g?a.value.minDate&&a.value.maxDate?x=Y(P,$,X):(a.value.minDate&&z(P,$)||a.value.maxDate&&h(P,$))&&(x=!0):x=!0,x},A=P=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!ct(P,a.value.allowedDates):!1,H=P=>!p(P),_=P=>l.value.noDisabledRange?!o.eachDayOfInterval({start:P[0],end:P[1]}).some(X=>H(X)):!0,U=P=>{if(P){const $=o.getYear(P);return $>=+t.yearRange[0]&&$<=t.yearRange[1]}return!0},m=(P,$)=>!!(Array.isArray(P)&&P[$]&&(l.value.maxRange||l.value.minRange)&&U(P[$])),E=(P,$,X=0)=>{if(m($,X)&&U(P)){const g=o.differenceInCalendarDays(P,$[X]),x=gn($[X],P),B=x.length===1?0:x.filter(le=>H(le)).length,F=Math.abs(g)-(l.value.minMaxRawRange?0:B);if(l.value.minRange&&l.value.maxRange)return F>=+l.value.minRange&&F<=+l.value.maxRange;if(l.value.minRange)return F>=+l.value.minRange;if(l.value.maxRange)return F<=+l.value.maxRange}return!0},C=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,q=P=>Array.isArray(P)?[P[0]?_t(P[0]):null,P[1]?_t(P[1]):null]:_t(P),J=(P,$,X)=>P.find(g=>+g.hours===o.getHours($)&&g.minutes==="*"?!0:+g.minutes===o.getMinutes($)&&+g.hours===o.getHours($))&&X,ne=(P,$,X)=>{const[g,x]=P,[B,F]=$;return!J(g,B,X)&&!J(x,F,X)&&X},Q=(P,$)=>{const X=Array.isArray($)?$:[$];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?ne(t.disabledTimes,X,P):!X.some(g=>J(t.disabledTimes,g,P)):P},T=(P,$)=>{const X=Array.isArray($)?[qe($[0]),$[1]?qe($[1]):void 0]:qe($),g=!t.disabledTimes(X);return P&&g},Z=(P,$)=>t.disabledTimes?Array.isArray(t.disabledTimes)?Q($,P):T($,P):$,R=P=>{let $=!0;if(!P||C())return!0;const X=!a.value.minDate&&!a.value.maxDate?q(P):P;return(t.maxTime||a.value.maxDate)&&($=bn(t.maxTime,a.value.maxDate,"max",ve(X),$)),(t.minTime||a.value.minDate)&&($=bn(t.minTime,a.value.minDate,"min",ve(X),$)),Z(P,$)},G=P=>{if(!t.monthPicker)return!0;let $=!0;const X=K(Ee(P));if(a.value.minDate&&a.value.maxDate){const g=K(Ee(a.value.minDate)),x=K(Ee(a.value.maxDate));return ke(X,g)&&he(X,x)||fe(X,g)||fe(X,x)}if(a.value.minDate){const g=K(Ee(a.value.minDate));$=ke(X,g)||fe(X,g)}if(a.value.maxDate){const g=K(Ee(a.value.maxDate));$=he(X,g)||fe(X,g)}return $},re=e.computed(()=>P=>!t.enableTimePicker||t.ignoreTimeValidation?!0:R(P)),se=e.computed(()=>P=>t.monthPicker?Array.isArray(P)&&(l.value.enabled||r.value.enabled)?!P.filter(X=>!G(X)).length:G(P):!0);return{isDisabled:H,validateDate:p,validateMonthYearInRange:v,isDateRangeAllowed:_,checkMinMaxRange:E,isValidTime:R,isTimeValid:re,isMonthValid:se}},ht=()=>{const t=e.computed(()=>(a,r)=>a==null?void 0:a.includes(r)),n=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===0:!0),l=e.computed(()=>(a,r)=>a.count?a.solo?!0:r===a.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:l}},Tr=(t,n,l)=>{const a=e.ref(0),r=e.reactive({[xe.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[xe.calendar]:!1,[xe.header]:!1}),c=e.computed(()=>t.monthPicker||t.timePicker),f=Y=>{var v;if((v=t.flow)!=null&&v.length){if(!Y&&c.value)return h();r[Y]=!0,Object.keys(r).filter(A=>!r[A]).length||h()}},w=()=>{var Y,v;(Y=t.flow)!=null&&Y.length&&a.value!==-1&&(a.value+=1,n("flow-step",a.value),h()),((v=t.flow)==null?void 0:v.length)===a.value&&e.nextTick().then(()=>p())},p=()=>{a.value=-1},z=(Y,v,...A)=>{var H,_;t.flow[a.value]===Y&&l.value&&((_=(H=l.value)[v])==null||_.call(H,...A))},h=(Y=0)=>{Y&&(a.value+=Y),z(De.month,"toggleMonthPicker",!0),z(De.year,"toggleYearPicker",!0),z(De.calendar,"toggleTimePicker",!1,!0),z(De.time,"toggleTimePicker",!0,!0);const v=t.flow[a.value];(v===De.hours||v===De.minutes||v===De.seconds)&&z(v,"toggleTimePicker",!0,!0,v)};return{childMount:f,updateFlowStep:w,resetFlow:p,handleFlow:h,flowStep:a}},$r={key:1,class:"dp__input_wrap"},Ar=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-disabled","aria-invalid"],Pr={key:2,class:"dp--clear-btn"},Rr=["aria-label"],Nr=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...pt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(t,{expose:n,emit:l}){const a=l,r=t,{defaultedTextInput:c,defaultedAriaLabels:f,defaultedInline:w,defaultedConfig:p,defaultedRange:z,defaultedMultiDates:h,defaultedUI:Y,getDefaultPattern:v,getDefaultStartTime:A}=ye(r),{checkMinMaxRange:H}=We(r),_=e.ref(),U=e.ref(null),m=e.ref(!1),E=e.ref(!1),C=e.ref(!1),q=e.ref(null),J=e.computed(()=>({dp__pointer:!r.disabled&&!r.readonly&&!c.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!c.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:typeof r.state=="boolean"?r.state:!1,dp__input_invalid:typeof r.state=="boolean"?!r.state:!1,dp__input_focus:m.value||r.isMenuOpen,dp__input_reg:!c.value.enabled,...Y.value.input??{}})),ne=()=>{a("set-input-date",null),r.clearable&&r.autoApply&&(a("set-empty-date"),_.value=null)},Q=d=>{const y=A();return xn(d,c.value.format??v(),y??yn({},r.enableSeconds),r.inputValue,C.value,r.formatLocale)},T=d=>{const{rangeSeparator:y}=c.value,[L,u]=d.split(`${y}`);if(L){const b=Q(L.trim()),V=u?Q(u.trim()):null;if(o.isAfter(b,V))return;const i=b&&V?[b,V]:[b];H(V,i,0)&&(_.value=b?i:null)}},Z=()=>{C.value=!0},R=d=>{if(z.value.enabled)T(d);else if(h.value.enabled){const y=d.split(";");_.value=y.map(L=>Q(L.trim())).filter(L=>L)}else _.value=Q(d)},G=d=>{var L;const y=typeof d=="string"?d:(L=d.target)==null?void 0:L.value;y!==""?(c.value.openMenu&&!r.isMenuOpen&&a("open"),R(y),a("set-input-date",_.value)):ne(),C.value=!1,a("update:input-value",y),a("text-input",d,_.value)},re=d=>{c.value.enabled?(R(d.target.value),c.value.enterSubmit&&Ot(_.value)&&r.inputValue!==""?(a("set-input-date",_.value,!0),_.value=null):c.value.enterSubmit&&r.inputValue===""&&(_.value=null,a("clear"))):$(d)},se=(d,y)=>{var L;if(q.value&&y&&!E.value)return d.preventDefault(),E.value=!0,(L=q.value)==null?void 0:L.focus();c.value.enabled&&c.value.tabSubmit&&R(d.target.value),c.value.tabSubmit&&Ot(_.value)&&r.inputValue!==""?(a("set-input-date",_.value,!0,!0),_.value=null):c.value.tabSubmit&&r.inputValue===""&&(_.value=null,a("clear",!0))},P=()=>{m.value=!0,a("focus"),e.nextTick().then(()=>{var d;c.value.enabled&&c.value.selectOnFocus&&((d=U.value)==null||d.select())})},$=d=>{if(d.preventDefault(),Ie(d,p.value,!0),c.value.enabled&&c.value.openMenu&&!w.value.input){if(c.value.openMenu==="open"&&!r.isMenuOpen)return a("open");if(c.value.openMenu==="toggle")return a("toggle")}else c.value.enabled||a("toggle")},X=()=>{a("real-blur"),m.value=!1,(!r.isMenuOpen||w.value.enabled&&w.value.input)&&a("blur"),r.autoApply&&c.value.enabled&&_.value&&!r.isMenuOpen&&(a("set-input-date",_.value),a("select-date"),_.value=null)},g=d=>{Ie(d,p.value,!0),a("clear")},x=(d,y)=>{if(d.key==="Tab"&&se(d,y),d.key==="Enter"&&re(d),!c.value.enabled){if(d.code==="Tab")return;d.preventDefault()}},B=()=>{var d;(d=U.value)==null||d.focus({preventScroll:!0})},F=d=>{_.value=d},le=d=>{d.key===pe.tab&&(E.value=!1,se(d))};return n({focusInput:B,setParsedDate:F}),(d,y)=>{var L,u;return e.openBlock(),e.createElementBlock("div",{onClick:$},[d.$slots.trigger&&!d.$slots["dp-input"]&&!e.unref(w).enabled?e.renderSlot(d.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!d.$slots.trigger&&(!e.unref(w).enabled||e.unref(w).input)?(e.openBlock(),e.createElementBlock("div",$r,[d.$slots["dp-input"]&&!d.$slots.trigger&&(!e.unref(w).enabled||e.unref(w).enabled&&e.unref(w).input)?e.renderSlot(d.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:G,onEnter:re,onTab:se,onClear:g,onBlur:X,onKeypress:x,onPaste:Z,onFocus:P,openMenu:()=>d.$emit("open"),closeMenu:()=>d.$emit("close"),toggleMenu:()=>d.$emit("toggle")}):e.createCommentVNode("",!0),d.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:d.uid?`dp-input-${d.uid}`:void 0,ref_key:"inputRef",ref:U,"data-test":"dp-input",name:d.name,class:e.normalizeClass(J.value),inputmode:e.unref(c).enabled?"text":"none",placeholder:d.placeholder,disabled:d.disabled,readonly:d.readonly,required:d.required,value:t.inputValue,autocomplete:d.autocomplete,"aria-disabled":d.disabled||void 0,"aria-invalid":d.state===!1?!0:void 0,onInput:G,onBlur:X,onFocus:P,onKeypress:x,onKeydown:y[0]||(y[0]=b=>x(b,!0)),onPaste:Z},null,42,Ar)),e.createElementVNode("div",{onClick:y[3]||(y[3]=b=>a("toggle"))},[d.$slots["input-icon"]&&!d.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:y[1]||(y[1]=b=>a("toggle"))},[e.renderSlot(d.$slots,"input-icon")])):e.createCommentVNode("",!0),!d.$slots["input-icon"]&&!d.hideInputIcon&&!d.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Xe),{key:1,"aria-label":(L=e.unref(f))==null?void 0:L.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:y[2]||(y[2]=b=>a("toggle"))},null,8,["aria-label"])):e.createCommentVNode("",!0)]),d.$slots["clear-icon"]&&t.inputValue&&d.clearable&&!d.disabled&&!d.readonly?(e.openBlock(),e.createElementBlock("span",Pr,[e.renderSlot(d.$slots,"clear-icon",{clear:g})])):e.createCommentVNode("",!0),d.clearable&&!d.$slots["clear-icon"]&&t.inputValue&&!d.disabled&&!d.readonly?(e.openBlock(),e.createElementBlock("button",{key:3,ref_key:"clearBtnRef",ref:q,"aria-label":(u=e.unref(f))==null?void 0:u.clearInput,class:"dp--clear-btn",type:"button",onBlur:y[4]||(y[4]=b=>E.value=!1),onKeydown:y[5]||(y[5]=b=>e.unref(Ce)(b,()=>g(b),!0,le)),onClick:y[6]||(y[6]=e.withModifiers(b=>g(b),["prevent"]))},[e.createVNode(e.unref(an),{class:"dp__input_icons","data-test":"clear-icon"})],40,Rr)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Er=typeof window<"u"?window:void 0,xt=()=>{},Or=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Yr=(t,n,l,a)=>{if(!t)return xt;let r=xt;const c=e.watch(()=>e.unref(t),w=>{r(),w&&(w.addEventListener(n,l,a),r=()=>{w.removeEventListener(n,l,a),r=xt})},{immediate:!0,flush:"post"}),f=()=>{c(),r()};return Or(f),f},Vr=(t,n,l,a={})=>{const{window:r=Er,event:c="pointerdown"}=a;return r?Yr(r,c,w=>{const p=we(t),z=we(n);!p||!z||p===w.target||w.composedPath().includes(p)||w.composedPath().includes(z)||l(w)},{passive:!0}):void 0},_r=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...pt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(t,{expose:n,emit:l}){const a=l,r=t,c=e.useSlots(),f=e.ref(!1),w=e.toRef(r,"modelValue"),p=e.toRef(r,"timezone"),z=e.ref(null),h=e.ref(null),Y=e.ref(null),v=e.ref(!1),A=e.ref(null),H=e.ref(!1),_=e.ref(!1),U=e.ref(!1),m=e.ref(!1),{setMenuFocused:E,setShiftKey:C}=Mn(),{clearArrowNav:q}=He(),{validateDate:J,isValidTime:ne}=We(r),{defaultedTransitions:Q,defaultedTextInput:T,defaultedInline:Z,defaultedConfig:R,defaultedRange:G,defaultedMultiDates:re}=ye(r),{menuTransition:se,showTransition:P}=lt(Q);e.onMounted(()=>{u(r.modelValue),e.nextTick().then(()=>{if(!Z.value.enabled){const k=le(A.value);k==null||k.addEventListener("scroll",N),window==null||window.addEventListener("resize",W)}}),Z.value.enabled&&(f.value=!0),window==null||window.addEventListener("keyup",ae),window==null||window.addEventListener("keydown",D)}),e.onUnmounted(()=>{if(!Z.value.enabled){const k=le(A.value);k==null||k.removeEventListener("scroll",N),window==null||window.removeEventListener("resize",W)}window==null||window.removeEventListener("keyup",ae),window==null||window.removeEventListener("keydown",D)});const $=Ae(c,"all",r.presetDates),X=Ae(c,"input");e.watch([w,p],()=>{u(w.value)},{deep:!0});const{openOnTop:g,menuStyle:x,xCorrect:B,setMenuPosition:F,getScrollableParent:le,shadowRender:d}=Dr({menuRef:z,menuRefInner:h,inputRef:Y,pickerWrapperRef:A,inline:Z,emit:a,props:r,slots:c}),{inputValue:y,internalModelValue:L,parseExternalModelValue:u,emitModelValue:b,formatInputValue:V,checkBeforeEmit:i}=ya(a,r,v),ee=e.computed(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:Z.value.enabled,"dp--flex-display-collapsed":U.value,dp__flex_display_with_input:Z.value.input})),ue=e.computed(()=>r.dark?"dp__theme_dark":"dp__theme_light"),S=e.computed(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||Z.value.enabled}:{}),ce=e.computed(()=>({class:"dp__outer_menu_wrap"})),s=e.computed(()=>Z.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),O=()=>{var k,j;return(j=(k=Y.value)==null?void 0:k.$el)==null?void 0:j.getBoundingClientRect()},N=()=>{f.value&&(R.value.closeOnScroll?Pe():F())},W=()=>{var j;f.value&&F();const k=(j=h.value)==null?void 0:j.$el.getBoundingClientRect().width;U.value=document.body.offsetWidth<=k},ae=k=>{k.key==="Tab"&&!Z.value.enabled&&!r.teleport&&R.value.tabOutClosesMenu&&(A.value.contains(document.activeElement)||Pe()),_.value=k.shiftKey},D=k=>{_.value=k.shiftKey},I=()=>{!r.disabled&&!r.readonly&&(d(Nn,r),F(!1),f.value=!0,f.value&&a("open"),f.value||st(),u(r.modelValue))},oe=()=>{var k;y.value="",st(),(k=Y.value)==null||k.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),R.value.closeOnClearValue&&Pe()},de=()=>{const k=L.value;return!k||!Array.isArray(k)&&J(k)?!0:Array.isArray(k)?re.value.enabled||k.length===2&&J(k[0])&&J(k[1])?!0:G.value.partialRange&&!r.timePicker?J(k[0]):!1:!1},Re=()=>{i()&&de()?(b(),Pe()):a("invalid-select",L.value)},ie=k=>{je(),b(),R.value.closeOnAutoApply&&!k&&Pe()},je=()=>{Y.value&&T.value.enabled&&Y.value.setParsedDate(L.value)},Ye=(k=!1)=>{r.autoApply&&ne(L.value)&&de()&&(G.value.enabled&&Array.isArray(L.value)?(G.value.partialRange||L.value.length===2)&&ie(k):ie(k))},st=()=>{T.value.enabled||(L.value=null)},Pe=()=>{Z.value.enabled||(f.value&&(f.value=!1,B.value=!1,E(!1),C(!1),q(),a("closed"),y.value&&u(w.value)),st(),a("blur"))},it=(k,j,te=!1)=>{if(!k){L.value=null;return}const me=Array.isArray(k)?!k.some(Ge=>!J(Ge)):J(k),Me=ne(k);me&&Me&&(m.value=!0,L.value=k,j&&(H.value=te,Re(),a("text-submit")),e.nextTick().then(()=>{m.value=!1}))},Gt=()=>{r.autoApply&&ne(L.value)&&b(),je()},kt=()=>f.value?Pe():I(),Qt=k=>{L.value=k},Xt=()=>{T.value.enabled&&(v.value=!0,V()),a("focus")},Jt=()=>{if(T.value.enabled&&(v.value=!1,u(r.modelValue),H.value)){const k=Wn(A.value,_.value);k==null||k.focus()}a("blur")},Zt=k=>{h.value&&h.value.updateMonthYear(0,{month:sn(k.month),year:sn(k.year)})},Ft=k=>{u(k??r.modelValue)},en=(k,j)=>{var te;(te=h.value)==null||te.switchView(k,j)},En=k=>R.value.onClickOutside?R.value.onClickOutside(k):Pe(),M=(k=0)=>{var j;(j=h.value)==null||j.handleFlow(k)};return Vr(z,Y,()=>En(de)),n({closeMenu:Pe,selectDate:Re,clearValue:oe,openMenu:I,onScroll:N,formatInputValue:V,updateInternalModelValue:Qt,setMonthYear:Zt,parseModel:Ft,switchView:en,toggleMenu:kt,handleFlow:M,dpWrapMenuRef:z}),(k,j)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:A,class:e.normalizeClass(ee.value),"data-datepicker-instance":""},[e.createVNode(Nr,e.mergeProps({ref_key:"inputRef",ref:Y,"input-value":e.unref(y),"onUpdate:inputValue":j[0]||(j[0]=te=>e.isRef(y)?y.value=te:null),"is-menu-open":f.value},k.$props,{onClear:oe,onOpen:I,onSetInputDate:it,onSetEmptyDate:e.unref(b),onSelectDate:Re,onToggle:kt,onClose:Pe,onFocus:Xt,onBlur:Jt,onRealBlur:j[1]||(j[1]=te=>v.value=!1),onTextInput:j[2]||(j[2]=te=>k.$emit("text-input",te))}),e.createSlots({_:2},[e.renderList(e.unref(X),(te,me)=>({name:te,fn:e.withCtx(Me=>[e.renderSlot(k.$slots,te,e.normalizeProps(e.guardReactiveProps(Me)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(k.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(S.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(se)(e.unref(g)),css:e.unref(P)&&!e.unref(Z).enabled},{default:e.withCtx(()=>[f.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:z},ce.value,{class:{"dp--menu-wrapper":!e.unref(Z).enabled},style:e.unref(Z).enabled?void 0:e.unref(x)}),[e.createVNode(Nn,e.mergeProps({ref_key:"dpMenuRef",ref:h},k.$props,{"internal-model-value":e.unref(L),"onUpdate:internalModelValue":j[3]||(j[3]=te=>e.isRef(L)?L.value=te:null),class:{[ue.value]:!0,"dp--menu-wrapper":k.teleport},"open-on-top":e.unref(g),"no-overlay-focus":s.value,collapse:U.value,"get-input-rect":O,"is-text-input-date":m.value,onClosePicker:Pe,onSelectDate:Re,onAutoApply:Ye,onTimeUpdate:Gt,onFlowStep:j[4]||(j[4]=te=>k.$emit("flow-step",te)),onUpdateMonthYear:j[5]||(j[5]=te=>k.$emit("update-month-year",te)),onInvalidSelect:j[6]||(j[6]=te=>k.$emit("invalid-select",e.unref(L))),onAutoApplyInvalid:j[7]||(j[7]=te=>k.$emit("invalid-select",te)),onInvalidFixedRange:j[8]||(j[8]=te=>k.$emit("invalid-fixed-range",te)),onRecalculatePosition:e.unref(F),onTooltipOpen:j[9]||(j[9]=te=>k.$emit("tooltip-open",te)),onTooltipClose:j[10]||(j[10]=te=>k.$emit("tooltip-close",te)),onTimePickerOpen:j[11]||(j[11]=te=>k.$emit("time-picker-open",te)),onTimePickerClose:j[12]||(j[12]=te=>k.$emit("time-picker-close",te)),onAmPmChange:j[13]||(j[13]=te=>k.$emit("am-pm-change",te)),onRangeStart:j[14]||(j[14]=te=>k.$emit("range-start",te)),onRangeEnd:j[15]||(j[15]=te=>k.$emit("range-end",te)),onDateUpdate:j[16]||(j[16]=te=>k.$emit("date-update",te)),onInvalidDate:j[17]||(j[17]=te=>k.$emit("invalid-date",te)),onOverlayToggle:j[18]||(j[18]=te=>k.$emit("overlay-toggle",te))}),e.createSlots({_:2},[e.renderList(e.unref($),(te,me)=>({name:te,fn:e.withCtx(Me=>[e.renderSlot(k.$slots,te,e.normalizeProps(e.guardReactiveProps({...Me})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),qt=(()=>{const t=_r;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(qt[t]=n)}),qt});
